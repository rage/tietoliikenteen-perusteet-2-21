/*! For license information please see 27-5d8f1eb7b4990c22e936.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"52Kp":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var r,o=n("KQm4"),a="function"==typeof atob,i="function"==typeof btoa,c="function"==typeof e,l="function"==typeof TextDecoder?new TextDecoder:void 0,s="function"==typeof TextEncoder?new TextEncoder:void 0,u=Object(o.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),g=(r={},u.forEach((function(e,t){return r[e]=t})),r),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),m="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return new Uint8Array(Array.prototype.slice.call(e,0).map(t))},b=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=+$/m,"")},f=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},I=function(e){for(var t,n,r,o,a="",i=e.length%3,c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");a+=u[(t=n<<16|r<<8|o)>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}return i?a.slice(0,i-3)+"===".substring(i):a},C=i?function(e){return btoa(e)}:c?function(t){return e.from(t,"binary").toString("base64")}:I,h=c?function(t){return e.from(t).toString("base64")}:function(e){for(var t=[],n=0,r=e.length;n<r;n+=4096)t.push(p.apply(null,e.subarray(n,n+4096)));return C(t.join(""))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?b(h(e)):h(e)},y=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?p(192|t>>>6)+p(128|63&t):p(224|t>>>12&15)+p(128|t>>>6&63)+p(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return p(240|t>>>18&7)+p(128|t>>>12&63)+p(128|t>>>6&63)+p(128|63&t)},A=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,w=function(e){return e.replace(A,y)},Z=c?function(t){return e.from(t,"utf8").toString("base64")}:s?function(e){return h(s.encode(e))}:function(e){return C(w(e))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?b(Z(e)):Z(e)},G=function(e){return x(e,!0)},B=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,k=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return p(55296+(t>>>10))+p(56320+(1023&t));case 3:return p((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return p((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},W=function(e){return e.replace(B,k)},j=function(e){if(e=e.replace(/\s+/g,""),!d.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,n,r,o="",a=0;a<e.length;)t=g[e.charAt(a++)]<<18|g[e.charAt(a++)]<<12|(n=g[e.charAt(a++)])<<6|(r=g[e.charAt(a++)]),o+=64===n?p(t>>16&255):64===r?p(t>>16&255,t>>8&255):p(t>>16&255,t>>8&255,255&t);return o},E=a?function(e){return atob(f(e))}:c?function(t){return e.from(t,"base64").toString("binary")}:j,O=c?function(t){return m(e.from(t,"base64"))}:function(e){return m(E(e),(function(e){return e.charCodeAt(0)}))},S=function(e){return O(N(e))},V=c?function(t){return e.from(t,"base64").toString("utf8")}:l?function(e){return l.decode(O(e))}:function(e){return W(E(e))},N=function(e){return f(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))},Y=function(e){return V(N(e))},F=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},H=function(){var e=function(e,t){return Object.defineProperty(String.prototype,e,F(t))};e("fromBase64",(function(){return Y(this)})),e("toBase64",(function(e){return x(this,e)})),e("toBase64URI",(function(){return x(this,!0)})),e("toBase64URL",(function(){return x(this,!0)})),e("toUint8Array",(function(){return S(this)}))},K=function(){var e=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,F(t))};e("toBase64",(function(e){return v(this,e)})),e("toBase64URI",(function(){return v(this,!0)})),e("toBase64URL",(function(){return v(this,!0)}))},R={version:"3.6.0",VERSION:"3.6.0",atob:E,atobPolyfill:j,btoa:C,btoaPolyfill:I,fromBase64:Y,toBase64:x,encode:x,encodeURI:G,encodeURL:G,utob:w,btou:W,decode:Y,isValid:function(e){if("string"!=typeof e)return!1;var t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:v,toUint8Array:S,extendString:H,extendUint8Array:K,extendBuiltins:function(){H(),K()}}}).call(this,n("HDXh").Buffer)},"668i":function(e,t,n){"use strict";var r=n("q1tI"),o=n("i8i4"),a=n("gk1O"),i=n("bfFb"),c=n("Ovef");function l(e){return e.substring(2).toLowerCase()}t.a=function(e){var t=e.children,n=e.disableReactTree,s=void 0!==n&&n,u=e.mouseEvent,g=void 0===u?"onClick":u,d=e.onClickAway,p=e.touchEvent,m=void 0===p?"onTouchEnd":p,b=r.useRef(!1),f=r.useRef(null),I=r.useRef(!1),C=r.useRef(!1);r.useEffect((function(){return setTimeout((function(){I.current=!0}),0),function(){I.current=!1}}),[]);var h=r.useCallback((function(e){f.current=o.findDOMNode(e)}),[]),v=Object(i.a)(t.ref,h),y=Object(c.a)((function(e){var t=C.current;if(C.current=!1,I.current&&f.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(b.current)b.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(f.current)>-1;else n=!Object(a.a)(f.current).documentElement.contains(e.target)||f.current.contains(e.target);n||!s&&t||d(e)}})),A=function(e){return function(n){C.current=!0;var r=t.props[e];r&&r(n)}},w={ref:v};return!1!==m&&(w[m]=A(m)),r.useEffect((function(){if(!1!==m){var e=l(m),t=Object(a.a)(f.current),n=function(){b.current=!0};return t.addEventListener(e,y),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,y),t.removeEventListener("touchmove",n)}}}),[y,m]),!1!==g&&(w[g]=A(g)),r.useEffect((function(){if(!1!==g){var e=l(g),t=Object(a.a)(f.current);return t.addEventListener(e,y),function(){t.removeEventListener(e,y)}}}),[y,g]),r.createElement(r.Fragment,null,r.cloneElement(t,w))}},"79Xs":function(e,t,n){"use strict";var r=n("Ff2n"),o=n("rePB"),a=n("wx14"),i=n("q1tI"),c=n("iuhU"),l=n("H2TA"),s=n("wpWl"),u=n("668i"),g=n("Ovef"),d=n("NqtD"),p=n("x6Ns"),m=n("bqsI"),b=n("t2Oo"),f=i.forwardRef((function(e,t){var n=e.action,o=e.anchorOrigin,l=(o=void 0===o?{vertical:"bottom",horizontal:"center"}:o).vertical,f=o.horizontal,I=e.autoHideDuration,C=void 0===I?null:I,h=e.children,v=e.classes,y=e.className,A=e.ClickAwayListenerProps,w=e.ContentProps,Z=e.disableWindowBlurListener,x=void 0!==Z&&Z,G=e.message,B=e.onClose,k=e.onEnter,W=e.onEntered,j=e.onEntering,E=e.onExit,O=e.onExited,S=e.onExiting,V=e.onMouseEnter,N=e.onMouseLeave,Y=e.open,F=e.resumeHideDuration,H=e.TransitionComponent,K=void 0===H?m.a:H,R=e.transitionDuration,X=void 0===R?{enter:s.b.enteringScreen,exit:s.b.leavingScreen}:R,T=e.TransitionProps,L=Object(r.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),J=i.useRef(),P=i.useState(!0),z=P[0],U=P[1],D=Object(g.a)((function(){B&&B.apply(void 0,arguments)})),M=Object(g.a)((function(e){B&&null!=e&&(clearTimeout(J.current),J.current=setTimeout((function(){D(null,"timeout")}),e))}));i.useEffect((function(){return Y&&M(C),function(){clearTimeout(J.current)}}),[Y,C,M]);var Q=function(){clearTimeout(J.current)},_=i.useCallback((function(){null!=C&&M(null!=F?F:.5*C)}),[C,F,M]);return i.useEffect((function(){if(!x&&Y)return window.addEventListener("focus",_),window.addEventListener("blur",Q),function(){window.removeEventListener("focus",_),window.removeEventListener("blur",Q)}}),[x,_,Y]),!Y&&z?null:i.createElement(u.a,Object(a.a)({onClickAway:function(e){B&&B(e,"clickaway")}},A),i.createElement("div",Object(a.a)({className:Object(c.a)(v.root,v["anchorOrigin".concat(Object(d.a)(l)).concat(Object(d.a)(f))],y),onMouseEnter:function(e){V&&V(e),Q()},onMouseLeave:function(e){N&&N(e),_()},ref:t},L),i.createElement(K,Object(a.a)({appear:!0,in:Y,onEnter:Object(p.a)((function(){U(!1)}),k),onEntered:W,onEntering:j,onExit:E,onExited:Object(p.a)((function(){U(!0)}),O),onExiting:S,timeout:X,direction:"top"===l?"down":"up"},T),h||i.createElement(b.a,Object(a.a)({message:G,action:n},w)))))}));t.a=Object(l.a)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},i={justifyContent:"flex-start"},c={top:24},l={bottom:24},s={right:24},u={left:24},g={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(a.a)({},t,Object(o.a)({},e.breakpoints.up("sm"),Object(a.a)({},c,g))),anchorOriginBottomCenter:Object(a.a)({},n,Object(o.a)({},e.breakpoints.up("sm"),Object(a.a)({},l,g))),anchorOriginTopRight:Object(a.a)({},t,r,Object(o.a)({},e.breakpoints.up("sm"),Object(a.a)({left:"auto"},c,s))),anchorOriginBottomRight:Object(a.a)({},n,r,Object(o.a)({},e.breakpoints.up("sm"),Object(a.a)({left:"auto"},l,s))),anchorOriginTopLeft:Object(a.a)({},t,i,Object(o.a)({},e.breakpoints.up("sm"),Object(a.a)({right:"auto"},c,u))),anchorOriginBottomLeft:Object(a.a)({},n,i,Object(o.a)({},e.breakpoints.up("sm"),Object(a.a)({right:"auto"},l,u)))}}),{flip:!1,name:"MuiSnackbar"})(f)},"8L3F":function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function i(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=i(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:l(c(e))}function s(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),g=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?u:10===e?g:u||g}function p(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===i(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function b(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(o,0);var i,c,l=a.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(c=(i=l).nodeName)||"HTML"!==c&&p(i.firstElementChild)!==i?p(l):l;var s=m(e);return s.host?b(s.host,t):b(e,m(t).host)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||o;return a[n]}return e[n]}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(t,"top"),o=f(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=o*a,e.right+=o*a,e}function C(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function h(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function v(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:h("Height",t,n,r),width:h("Width",t,n,r)}}var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function x(e){return Z({},e,{right:e.left+e.width,bottom:e.top+e.height})}function G(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=f(e,"top"),r=f(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(p){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?v(e.ownerDocument):{},c=a.width||e.clientWidth||o.width,l=a.height||e.clientHeight||o.height,s=e.offsetWidth-c,u=e.offsetHeight-l;if(s||u){var g=i(e);s-=C(g,"x"),u-=C(g,"y"),o.width-=s,o.height-=u}return x(o)}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),o="HTML"===t.nodeName,a=G(e),c=G(t),s=l(e),u=i(t),g=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&o&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var m=x({top:a.top-c.top-g,left:a.left-c.left-p,width:a.width,height:a.height});if(m.marginTop=0,m.marginLeft=0,!r&&o){var b=parseFloat(u.marginTop),f=parseFloat(u.marginLeft);m.top-=g-b,m.bottom-=g-b,m.left-=p-f,m.right-=p-f,m.marginTop=b,m.marginLeft=f}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(m=I(m,t)),m}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=B(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:f(n),c=t?0:f(n,"left"),l={top:i-r.top+r.marginTop,left:c-r.left+r.marginLeft,width:o,height:a};return x(l)}function W(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===i(e,"position"))return!0;var n=c(e);return!!n&&W(n)}function j(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===i(t,"transform");)t=t.parentElement;return t||document.documentElement}function E(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},i=o?j(e):b(e,s(t));if("viewport"===r)a=k(i,o);else{var u=void 0;"scrollParent"===r?"BODY"===(u=l(c(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===r?e.ownerDocument.documentElement:r;var g=B(u,i,o);if("HTML"!==u.nodeName||W(i))a=g;else{var d=v(e.ownerDocument),p=d.height,m=d.width;a.top+=g.top-g.marginTop,a.bottom=p+g.top,a.left+=g.left-g.marginLeft,a.right=m+g.left}}var f="number"==typeof(n=n||0);return a.left+=f?n:n.left||0,a.top+=f?n:n.top||0,a.right-=f?n:n.right||0,a.bottom-=f?n:n.bottom||0,a}function O(e){return e.width*e.height}function S(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=E(n,r,a,o),c={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},l=Object.keys(c).map((function(e){return Z({key:e},c[e],{area:O(c[e])})})).sort((function(e,t){return t.area-e.area})),s=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=s.length>0?s[0].key:l[0].key,g=e.split("-")[1];return u+(g?"-"+g:"")}function V(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?j(t):b(t,s(n));return B(n,o,r)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Y(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,n){n=n.split("-")[0];var r=N(e),o={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),i=a?"top":"left",c=a?"left":"top",l=a?"height":"width",s=a?"width":"height";return o[i]=t[i]+t[l]/2-r[l]/2,o[c]=n===c?t[c]-r[s]:t[Y(c)],o}function H(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function K(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=H(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=x(t.offsets.popper),t.offsets.reference=x(t.offsets.reference),t=n(t,e))})),t}function R(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=V(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=S(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=K(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function X(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function T(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],a=o?""+o+n:e;if(void 0!==document.body.style[a])return a}return null}function L(){return this.state.isDestroyed=!0,X(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[T("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function J(e){var t=e.ownerDocument;return t?t.defaultView:window}function P(e,t,n,r){n.updateBound=r,J(e).addEventListener("resize",n.updateBound,{passive:!0});var o=l(e);return function e(t,n,r,o){var a="BODY"===t.nodeName,i=a?t.ownerDocument.defaultView:t;i.addEventListener(n,r,{passive:!0}),a||e(l(i.parentNode),n,r,o),o.push(i)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=P(this.reference,this.options,this.state,this.scheduleUpdate))}function U(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,J(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function D(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function M(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&D(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Q=n&&/Firefox/i.test(navigator.userAgent);function _(e,t,n){var r=H(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var a="`"+t+"`",i="`"+n+"`";console.warn(i+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return o}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$=q.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$.indexOf(e),r=$.slice(n+1).concat($.slice(0,n));return t?r.reverse():r}var te="flip",ne="clockwise",re="counterclockwise";function oe(e,t,n,r){var o=[0,0],a=-1!==["right","left"].indexOf(r),i=e.split(/(\+|\-)/).map((function(e){return e.trim()})),c=i.indexOf(H(i,(function(e){return-1!==e.search(/,|\s/)})));i[c]&&-1===i[c].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,s=-1!==c?[i.slice(0,c).concat([i[c].split(l)[0]]),[i[c].split(l)[1]].concat(i.slice(c+1))]:[i];return(s=s.map((function(e,r){var o=(1===r?!a:a)?"height":"width",i=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+o[1],i=o[2];if(!a)return e;if(0===i.indexOf("%")){var c=void 0;switch(i){case"%p":c=n;break;case"%":case"%r":default:c=r}return x(c)[t]/100*a}if("vh"===i||"vw"===i){return("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){D(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,a=o.reference,i=o.popper,c=-1!==["bottom","top"].indexOf(n),l=c?"left":"top",s=c?"width":"height",u={start:w({},l,a[l]),end:w({},l,a[l]+a[s]-i[s])};e.offsets.popper=Z({},i,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,a=o.popper,i=o.reference,c=r.split("-")[0],l=void 0;return l=D(+n)?[+n,0]:oe(n,a,i,c),"left"===c?(a.top+=l[0],a.left-=l[1]):"right"===c?(a.top+=l[0],a.left+=l[1]):"top"===c?(a.left+=l[0],a.top-=l[1]):"bottom"===c&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=T("transform"),o=e.instance.popper.style,a=o.top,i=o.left,c=o[r];o.top="",o.left="",o[r]="";var l=E(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=a,o.left=i,o[r]=c,t.boundaries=l;var s=t.priority,u=e.offsets.popper,g={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),w({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),w({},n,r)}};return s.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=Z({},u,g[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],a=Math.floor,i=-1!==["top","bottom"].indexOf(o),c=i?"right":"bottom",l=i?"left":"top",s=i?"width":"height";return n[c]<a(r[l])&&(e.offsets.popper[l]=a(r[l])-n[s]),n[l]>a(r[c])&&(e.offsets.popper[l]=a(r[c])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!_(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],a=e.offsets,c=a.popper,l=a.reference,s=-1!==["left","right"].indexOf(o),u=s?"height":"width",g=s?"Top":"Left",d=g.toLowerCase(),p=s?"left":"top",m=s?"bottom":"right",b=N(r)[u];l[m]-b<c[d]&&(e.offsets.popper[d]-=c[d]-(l[m]-b)),l[d]+b>c[m]&&(e.offsets.popper[d]+=l[d]+b-c[m]),e.offsets.popper=x(e.offsets.popper);var f=l[d]+l[u]/2-b/2,I=i(e.instance.popper),C=parseFloat(I["margin"+g]),h=parseFloat(I["border"+g+"Width"]),v=f-e.offsets.popper[d]-C-h;return v=Math.max(Math.min(c[u]-b,v),0),e.arrowElement=r,e.offsets.arrow=(w(n={},d,Math.round(v)),w(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(X(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=E(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Y(r),a=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case te:i=[r,o];break;case ne:i=ee(r);break;case re:i=ee(r,!0);break;default:i=t.behavior}return i.forEach((function(c,l){if(r!==c||i.length===l+1)return e;r=e.placement.split("-")[0],o=Y(r);var s=e.offsets.popper,u=e.offsets.reference,g=Math.floor,d="left"===r&&g(s.right)>g(u.left)||"right"===r&&g(s.left)<g(u.right)||"top"===r&&g(s.bottom)>g(u.top)||"bottom"===r&&g(s.top)<g(u.bottom),p=g(s.left)<g(n.left),m=g(s.right)>g(n.right),b=g(s.top)<g(n.top),f=g(s.bottom)>g(n.bottom),I="left"===r&&p||"right"===r&&m||"top"===r&&b||"bottom"===r&&f,C=-1!==["top","bottom"].indexOf(r),h=!!t.flipVariations&&(C&&"start"===a&&p||C&&"end"===a&&m||!C&&"start"===a&&b||!C&&"end"===a&&f),v=!!t.flipVariationsByContent&&(C&&"start"===a&&m||C&&"end"===a&&p||!C&&"start"===a&&f||!C&&"end"===a&&b),y=h||v;(d||I||y)&&(e.flipped=!0,(d||I)&&(r=i[l+1]),y&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=Z({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=K(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,a=r.reference,i=-1!==["left","right"].indexOf(n),c=-1===["top","left"].indexOf(n);return o[i?"left":"top"]=a[n]-(c?o[i?"width":"height"]:0),e.placement=Y(t),e.offsets.popper=x(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!_(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=H(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,a=H(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=void 0!==a?a:t.gpuAcceleration,c=p(e.instance.popper),l=G(c),s={position:o.position},u=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,a=Math.round,i=Math.floor,c=function(e){return e},l=a(o.width),s=a(r.width),u=-1!==["left","right"].indexOf(e.placement),g=-1!==e.placement.indexOf("-"),d=t?u||g||l%2==s%2?a:i:c,p=t?a:c;return{left:d(l%2==1&&s%2==1&&!g&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!Q),g="bottom"===n?"top":"bottom",d="right"===r?"left":"right",m=T("transform"),b=void 0,f=void 0;if(f="bottom"===g?"HTML"===c.nodeName?-c.clientHeight+u.bottom:-l.height+u.bottom:u.top,b="right"===d?"HTML"===c.nodeName?-c.clientWidth+u.right:-l.width+u.right:u.left,i&&m)s[m]="translate3d("+b+"px, "+f+"px, 0)",s[g]=0,s[d]=0,s.willChange="transform";else{var I="bottom"===g?-1:1,C="right"===d?-1:1;s[g]=f*I,s[d]=b*C,s.willChange=g+", "+d}var h={"x-placement":e.placement};return e.attributes=Z({},h,e.attributes),e.styles=Z({},s,e.styles),e.arrowStyles=Z({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return M(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&M(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var a=V(o,t,e,n.positionFixed),i=S(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",i),M(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ie=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=Z({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Z({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=Z({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Z({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var c=this.options.eventsEnabled;c&&this.enableEventListeners(),this.state.eventsEnabled=c}return A(e,[{key:"update",value:function(){return R.call(this)}},{key:"destroy",value:function(){return L.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();ie.Utils=("undefined"!=typeof window?window:e).PopperUtils,ie.placements=q,ie.Defaults=ae,t.a=ie}).call(this,n("yLpj"))},"94bZ":function(e){e.exports=JSON.parse('{"button":{"cancel":"Peru","close":"Sulje","copy":"Kopioi","ok":"Kyllä","reset":"Resetoi","run":"Suorita","stop":"Pysäytä","submit":"Palauta","send":"Lähetä"},"allTestsPassed":"Testit menivät läpi!","authenticationRequired":"Sisään kirjautuminen vaaditaan","browserNotSupported":"Ohjelmointitehtäviä ei voi suorittaa Microsoft Edge -selaimella.\\nVoit käyttää seuraavia selaimia suorittaaksesi tehtäviä:","copiedConfirmation":"Kopioitu!","couldNotFindExerciseDetails":"Tehtävän tietojen hakeminen epäonnistui.","deadlineExpired":"Tehtävän deadline on ylittynyt.","dontSend":"Älä lähetä","enterInputAndPressEnter":"Anna syöte ja paina \\"Enter\\"","failedToEstablishConnectionToServer":"Yhteyden muodostaminen TestMyCode-palvelimelle epäonnistui.","failedToDownloadExercise":"Tehtävän lataaminen epäonnistui.","feedbackTitle":"Tehtävä suoritettu, onneksi olkoon!","incompatibleExerciseTemplate":"Yhteensopimaton tehtäväpohja.","infiniteLoopMessage":"Varmista, että koodissasi ei ole ikuista silmukkaa.","initializing":"Alustetaan","malformedExerciseTemplate":"Väärän muotoinen tehtäväpohja","modelSolution":"Mallivastaus","needHelp":"Ongelmia?","noExerciseFilesFound":"Tehtävätiedostoa ei löytynyt tehtäväpohjasta.","outputTitle":"Tuloste","problemsTitle":"Ongelmat","pleaseGiveFeedback":"Voit halutessasi antaa tehtävästä palautetta auttaaksesi kurssin kehittämisessä.","pleaseReportFollowingErrorsToCourseInstructor":"Ilmoita seuraavista virheistä kurssin vetäjälle","pointsAwarded":"Saadut pisteet","rememberToSubmitToServer":"Muistathan palauttaa ratkaisusi arviointia varten.","resetExerciseConfirmation":"Haluatko varmasti palauttaa alkuperäisen tehtäväpohjan?","resetExerciseNotify":"Toiminto poistaa kaiken tekemäsi tehtäväkoodin.","resetExerciseHeader":"Palauta tehtäväpohja","runButtonText":"SUORITA","running":"Suoritetaan","sendToTmcPaste":"Lähetä TMC Pasteen","selectFile":"Valitse tiedosto","showAll":"Näytä kaikki","signInToSubmitExercise":"Kirjaudu sisään palauttaaksesi tehtävän","stopButtonText":"PYSÄYTÄ","submissionProcessFailed":"Tehtävän lähettäminen epäonnistui","submissionResult":"Palautuksen arviointi","submissionTookTooLong":"Tehtävän lähettäminen kesti liian kauan.\\nVarmistathan, että koodissasi ei ole ikuista silmukkaa.","submitToServerQuestion":"Palautetaanko tehtävä?","submitting":"Palautetaan","submittingToServer":"Palautetaan tehtävää","testing":"Ajetaan testejä","testButtonText":"TESTAA","testResults":"Testien tulokset","testsPassed":"Testejä läpi","thankYouForFeedback":"Kiitos palautteesta!","tmcPasteDescription":"Voit lähettää koodisi TMC Pasteen ja jakaa linkin kurssin keskustelukanavilla pyytääksesi apua.","viewModelSolution":"Näytä mallivastaus","waitingForInput":"Odotetaan syötettä"}')},gS1B:function(e){e.exports=JSON.parse('{"name":"moocfi-python-editor","version":"0.10.2","description":"","main":"dist/src/index.js","scripts":{"build":"rm -rf ./dist && npm run encode:worker && tsc","encode:worker":"node bin/generateBase64.js","cypress:open":"cypress open","now-build":"npm run encode:worker && cd example && npm ci && npm run now-build","prepublishOnly":"npm run build","prettier-check":"prettier --check \'./**/*.{js,json,md,ts,tsx}\'","prettier":"prettier --write \'./**/*.{js,json,md,ts,tsx}\'","watch":"tsc --watch"},"keywords":[],"author":"","license":"Apache-2.0 OR MIT","repository":{"type":"git","url":"https://github.com/rage/python-editor.git"},"devDependencies":{"@fortawesome/fontawesome-free":"^5.15.1","@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/free-regular-svg-icons":"^5.15.1","@fortawesome/free-solid-svg-icons":"^5.15.1","@fortawesome/react-fontawesome":"^0.1.13","@material-ui/core":"^4.11.2","@material-ui/styles":"^4.11.2","@monaco-editor/react":"^3.7.2","@types/luxon":"^1.25.0","@types/node":"^14.14.10","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@types/styled-components":"^5.1.4","@types/uuid":"^8.3.0","axios":"^0.21.0","husky":"^4.3.5","i18next":"^19.8.4","js-base64":"^3.6.0","jszip":"^3.5.0","jszip-utils":"^0.1.0","lint-staged":"^10.5.3","luxon":"^1.25.0","monaco-editor":"^0.21.2","prettier":"^2.2.1","react":"^17.0.1","react-dom":"^17.0.1","react-i18next":"^11.8.0","styled-components":"^5.2.1","typesafe-actions":"^5.1.0","typescript":"^4.1.2","uuid":"^8.3.1"},"peerDependencies":{"@fortawesome/fontawesome-free":"^5.15.1","@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/free-regular-svg-icons":"^5.15.1","@fortawesome/free-solid-svg-icons":"^5.15.1","@fortawesome/react-fontawesome":"^0.1.11","@material-ui/core":"^4.11.0","@material-ui/styles":"^4.10.0","@monaco-editor/react":"^3.6.3","axios":">=0.18.0","i18next":">=19.3.0","js-base64":"^3.5.2","react":">=16.10.0","react-dom":">=16.10.0","react-i18next":">=11.3.0","luxon":"^1.25.0","styled-components":"^5.2.0","jszip":"^3.5.0","jszip-utils":"^0.1.0","monaco-editor":"^0.21.2","uuid":"^8.3.1"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"*.{js,css,json,md,ts,tsx}":["prettier --check"]}}')},t2Oo:function(e,t,n){"use strict";var r=n("Ff2n"),o=n("rePB"),a=n("wx14"),i=n("q1tI"),c=n("iuhU"),l=n("H2TA"),s=n("kKAo"),u=n("ye/S"),g=i.forwardRef((function(e,t){var n=e.action,o=e.classes,l=e.className,u=e.message,g=e.role,d=void 0===g?"alert":g,p=Object(r.a)(e,["action","classes","className","message","role"]);return i.createElement(s.a,Object(a.a)({role:d,square:!0,elevation:6,className:Object(c.a)(o.root,l),ref:t},p),i.createElement("div",{className:o.message},u),n?i.createElement("div",{className:o.action},n):null)}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(u.b)(e.palette.background.default,t);return{root:Object(a.a)({},e.typography.body2,Object(o.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(g)},vs87:function(e,t,n){"use strict";n.r(t);var r=n("HaE+"),o=n("dI71"),a=n("o0o1"),i=n.n(a),c=n("q1tI"),l=n.n(c),s=n("vOnD"),u=n("LCzB"),g=n("eczs"),d=n("nBd5"),p=n("pg4K"),m=n("uVck"),b=n("2M2R"),f=n("QSL9");function I(e){var t=e.i18n,n=e.defaultNS,r=e.children,o=Object(c.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return Object(c.createElement)(f.a.Provider,{value:o},r)}var C=n("XzT5"),h={en:{common:n("xKyf")},fi:{common:n("94bZ")}},v=C.a.createInstance();v.init({resources:h,ns:["common"],defaultNS:"common",lng:"en",interpolation:{escapeValue:!1},debug:!1});var y=v,A=(n("p532"),n("ExVU")),w=n("9Koi");var Z=function(){return A.DateTime.local()},x=n("tRbT"),G=n("Z3vd"),B=n("1AYd"),k=n("cVXz"),W=n("iae6"),j=n("79Xs");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function K(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(o,r))}}}function R(e){return{}.toString.call(e).includes("Object")}function X(e){return"function"==typeof e}var T=K((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),L={changes:function(e,t){return R(t)||T("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&T("changeField"),t},selector:function(e){X(e)||T("selectorType")},handler:function(e){X(e)||R(e)||T("handlerType"),R(e)&&Object.values(e).some((function(e){return!X(e)}))&&T("handlersType")},initial:function(e){var t;e||T("initialIsRequired"),R(e)||T("initialType"),t=e,Object.keys(t).length||T("initialContent")}};function J(e,t){return X(t)?t(e.current):t}function P(e,t){return e.current=F(F({},e.current),t),t}function z(e,t,n){return X(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var U={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L.initial(e),L.handler(t);var n={current:e},r=K(z)(n,t),o=K(P)(n),a=K(L.changes)(e),i=K(J)(n);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return L.selector(e),e(n.current)}function l(e){H(r,o,a,i)(e)}return[c,l]}},D={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/min/vs"}};var M=function(e){return{}.toString.call(e).includes("Object")};var Q={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},_=function(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(o,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))(Q),q={config:function(e){return e||_("configIsRequired"),M(e)||_("configType"),e.urls?(console.warn(Q.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var ee=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),S(S({},t),n)},te={type:"cancelation",msg:"operation is manually canceled"};var ne,re,oe=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(te):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n},ae=U.create({config:D,isInitialized:!1,resolve:null,reject:null}),ie=(re=2,function(e){if(Array.isArray(e))return e}(ne=ae)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(ne,re)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(ne,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ce=ie[0],le=ie[1];function se(e){return document.body.appendChild(e)}function ue(e){var t,n,r=ce((function(e){return{config:e.config,reject:e.reject}})),o=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return o.onload=function(){return e()},o.onerror=r.reject,o}function ge(){var e=ce((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){e.resolve(t)}),(function(t){e.reject(t)}))}var de=new Promise((function(e,t){return le({resolve:e,reject:t})})),pe={config:function(e){le((function(t){return{config:ee(t.config,q.config(e))}}))},init:function(){if(!ce((function(e){return{isInitialized:e.isInitialized}})).isInitialized){if(window.monaco&&window.monaco.editor)return oe(Promise.resolve(window.monaco));$(se,ue)(ge),le({isInitialized:!0})}return oe(de)}},me=n("rePB"),be=n("ODXe"),fe={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var Ie=function(e){var t=e.content;return l.a.createElement("div",{style:fe},t)},Ce={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Object(me.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t=e.width,n=e.height,r=e.isEditorReady,o=e.loading,a=e._ref,i=e.className,c=e.wrapperClassName;return l.a.createElement("section",{style:ve(ve({},Ce.wrapper),{},{width:t,height:n}),className:c},!r&&l.a.createElement(Ie,{content:o}),l.a.createElement("div",{ref:a,style:ve(ve({},Ce.fullWidth),!r&&Ce.hide),className:i}))},Ae=Object(c.memo)(ye);var we=function(e){Object(c.useEffect)(e,[])};var Ze=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(c.useRef)(!0);Object(c.useEffect)(r.current||!n?function(){r.current=!1}:e,t)};function xe(){}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){var t=e.original,n=e.modified,r=e.language,o=e.originalLanguage,a=e.modifiedLanguage,i=e.editorDidMount,s=e.theme,u=e.width,g=e.height,d=e.loading,p=e.options,m=e.className,b=e.wrapperClassName,f=Object(c.useState)(!1),I=Object(be.a)(f,2),C=I[0],h=I[1],v=Object(c.useState)(!0),y=Object(be.a)(v,2),A=y[0],w=y[1],Z=Object(c.useRef)(null),x=Object(c.useRef)(null),G=Object(c.useRef)(null),B=Object(c.useRef)(i);we((function(){var e=pe.init();return e.then((function(e){return(x.current=e)&&w(!1)})).catch((function(e){return"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return Z.current?j():e.cancel()}})),Ze((function(){Z.current.getModel().modified.setValue(n)}),[n],C),Ze((function(){Z.current.getModel().original.setValue(t)}),[t],C),Ze((function(){var e=Z.current.getModel(),t=e.original,n=e.modified;x.current.editor.setModelLanguage(t,o||r),x.current.editor.setModelLanguage(n,a||r)}),[r,o,a],C),Ze((function(){x.current.editor.setTheme(s)}),[s],C),Ze((function(){Z.current.updateOptions(p)}),[p],C);var k=Object(c.useCallback)((function(){var e=x.current.editor.createModel(t,o||r),i=x.current.editor.createModel(n,a||r);Z.current.setModel({original:e,modified:i})}),[r,n,a,t,o]),W=Object(c.useCallback)((function(){Z.current=x.current.editor.createDiffEditor(G.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Object(me.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({automaticLayout:!0},p)),k(),x.current.editor.setTheme(s),h(!0)}),[p,s,k]);Object(c.useEffect)((function(){if(C){var e=Z.current.getModel(),t=e.original,n=e.modified;B.current(n.getValue.bind(n),t.getValue.bind(t),Z.current)}}),[C]),Object(c.useEffect)((function(){!A&&!C&&W()}),[A,C,W]);var j=function(){return Z.current.dispose()};return l.a.createElement(Ae,{width:u,height:g,isEditorReady:C,loading:d,_ref:G,className:m,wrapperClassName:b})}Be.defaultProps={editorDidMount:xe,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{}};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){var t=e.value,n=e.language,r=e.editorDidMount,o=e.theme,a=e.line,i=e.width,s=e.height,u=e.loading,g=e.options,d=e.overrideServices,p=e._isControlledMode,m=e.className,b=e.wrapperClassName,f=Object(c.useState)(!1),I=Object(be.a)(f,2),C=I[0],h=I[1],v=Object(c.useState)(!0),y=Object(be.a)(v,2),A=y[0],w=y[1],Z=Object(c.useRef)(null),x=Object(c.useRef)(null),G=Object(c.useRef)(null),B=Object(c.useRef)(r);we((function(){var e=pe.init();return e.then((function(e){return(x.current=e)&&w(!1)})).catch((function(e){return"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return Z.current?W():e.cancel()}})),Ze((function(){Z.current.updateOptions(g)}),[g],C),Ze((function(){if(Z.current.getOption(x.current.editor.EditorOption.readOnly))Z.current.setValue(t);else if(t!==Z.current.getValue()){if(Z.current.executeEdits("",[{range:Z.current.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),p){var e=Z.current.getModel();e.forceTokenization(e.getLineCount())}Z.current.pushUndoStop()}}),[t],C),Ze((function(){x.current.editor.setModelLanguage(Z.current.getModel(),n)}),[n],C),Ze((function(){Z.current.setScrollPosition({scrollTop:a})}),[a],C),Ze((function(){x.current.editor.setTheme(o)}),[o],C);var k=Object(c.useCallback)((function(){Z.current=x.current.editor.create(G.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Object(me.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({value:t,language:n,automaticLayout:!0},g),d),x.current.editor.setTheme(o),h(!0)}),[n,g,d,o,t]);Object(c.useEffect)((function(){C&&B.current(Z.current.getValue.bind(Z.current),Z.current)}),[C]),Object(c.useEffect)((function(){!A&&!C&&k()}),[A,C,k]);var W=function(){return Z.current.dispose()};return l.a.createElement(Ae,{width:i,height:s,isEditorReady:C,loading:u,_ref:G,className:m,wrapperClassName:b})}We.defaultProps={editorDidMount:xe,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{},overrideServices:{},_isControlledMode:!1};var je=We,Ee=Object(c.memo)(je),Oe=n("Ff2n");function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ve(e){var t=e.value,n=e.onChange,r=e.editorDidMount,o=Object(Oe.a)(e,["value","onChange","editorDidMount"]),a=Object(c.useRef)(null),i=Object(c.useRef)(null),s=Object(c.useRef)(t);s.current=t;var u=Object(c.useCallback)((function(e){var t=a.current.getValue();if(s.current!==t){var r=n(e,t);"string"==typeof r&&t!==r&&a.current.setValue(r)}}),[n]),g=Object(c.useCallback)((function(){var e;i.current=null===(e=a.current)||void 0===e?void 0:e.onDidChangeModelContent(u)}),[u]);Object(c.useEffect)((function(){return g(),function(){var e;return null===(e=i.current)||void 0===e?void 0:e.dispose()}}),[g]);var d=Object(c.useCallback)((function(e,t){a.current=t,g(),r(e,t)}),[g,r]);return l.a.createElement(Ee,Se({value:t,editorDidMount:d,_isControlledMode:!0},o))}Ve.defaultProps={editorDidMount:xe,onChange:xe};var Ne,Ye,Fe,He,Ke,Re,Xe=Ve,Te=Object(c.memo)(Xe),Le=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Je=s.b.div(Ne||(Ne=Le(["\n  min-height: 200px;\n  max-height: 950px;\n  border: 1px inset;\n  height: ",";\n"],["\n  min-height: 200px;\n  max-height: 950px;\n  border: 1px inset;\n  height: ",";\n"])),(function(e){return e.height?e.height:"400px"})),Pe=function(e){var t=e.editorValue,n=e.setEditorValue,r=e.editorHeight,o=e.setIsEditorReady;return l.a.createElement(Je,{height:r},l.a.createElement(Te,{value:t,language:"python",editorDidMount:function(e,t){o(!0)},onChange:function(e,t){return t?(n(t),t):""},options:{minimap:{enabled:!1},wordWrap:"on",scrollBeyondLastLine:!1,hideCursorInOverviewRuler:!0,scrollbar:{alwaysConsumeMouseWheel:!1}}}))},ze=n("kKAo"),Ue=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},De=s.b.div(Ye||(Ye=Ue(["\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  bottom: 0;\n  min-height: 100px;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"],["\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  bottom: 0;\n  min-height: 100px;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"]))),Me=Object(s.b)(ze.a)(Ke||(Ke=Ue(["\n  animation: ","\n    0.2s ease-in-out;\n  border: 4px 4px 0px 0px;\n  position: relative;\n  width: 100%;\n"],["\n  animation: ","\n    0.2s ease-in-out;\n  border: 4px 4px 0px 0px;\n  position: relative;\n  width: 100%;\n"])),(function(e){return e.open?(t=e.animatefrom,Object(s.c)(Fe||(Fe=Ue(["\n    from {\n      transform: translateY(",");\n    }\n\n    to  {\n      transform: translateY(0px);\n    }\n  }\n"],["\n    from {\n      transform: translateY(",");\n    }\n\n    to  {\n      transform: translateY(0px);\n    }\n  }\n"])),t&&"auto"!==t?t:"225px")):function(e){return Object(s.c)(He||(He=Ue(["\n  from {\n    transform: translateY(0px);\n  }\n\n  to {\n    transform: translateY(",");\n  }\n"],["\n  from {\n    transform: translateY(0px);\n  }\n\n  to {\n    transform: translateY(",");\n  }\n"])),e&&"auto"!==e?e:"225px")}(e.animatefrom);var t})),Qe=l.a.forwardRef((function(e,t){var n=Object(c.useState)(!1),r=n[0],o=n[1],a=Object(c.useState)(!1),i=a[0],s=a[1],u=e.isRunning,g=e.outputHeight,d=function(){o(!1)},p=function(){o(!0),s(!0)};Object(c.useEffect)((function(){u&&!i&&(s(!0),r||o(!0))}),[u]),Object(c.useImperativeHandle)(t,(function(){return{close:d,open:p}}));return i?l.a.createElement(De,{"data-cy":"output-container"},l.a.createElement(Me,{animatefrom:g,open:r,onAnimationEnd:function(){r||s(!1)}},e.children)):null})),_e=n("7Cbv");!function(e){e[e.ExecutingCode=1]="ExecutingCode",e[e.Idle=2]="Idle",e[e.Initializing=4]="Initializing",e[e.RunAborted=8]="RunAborted",e[e.ShowHelp=16]="ShowHelp",e[e.ShowPassedFeedbackForm=32]="ShowPassedFeedbackForm",e[e.ShowProblems=64]="ShowProblems",e[e.ShowSubmissionResults=128]="ShowSubmissionResults",e[e.ShowTestResults=256]="ShowTestResults",e[e.Submitting=512]="Submitting",e[e.Testing=1024]="Testing",e[e.WaitingInput=2048]="WaitingInput",e[e.WorkerInitializing=4096]="WorkerInitializing",e[e.Resetting=8192]="Resetting",e[e.WorkerActive=7169]="WorkerActive"}(Re||(Re={}));var qe=n("ofer"),$e=n("9jPY"),et=n("KQm4"),tt=n("wx14"),nt=n("iuhU"),rt=n("H2TA"),ot=n("tr08"),at=n("ye/S"),it=n("G7As"),ct=n("gk1O"),lt=n("Ovef"),st=n("bfFb"),ut=n("NqtD"),gt=n("yCxk");var dt=Object(rt.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(tt.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,o=e.open,a=e.value,i=e.valueLabelDisplay;return"off"===i?t:c.cloneElement(t,{className:Object(nt.a)(t.props.className,(o||"on"===i)&&n.open,n.thumb)},c.createElement("span",{className:Object(nt.a)(n.offset,r)},c.createElement("span",{className:n.circle},c.createElement("span",{className:n.label},a))))}));function pt(e,t){return e-t}function mt(e,t,n){return Math.min(Math.max(t,e),n)}function bt(e,t){return e.reduce((function(e,n,r){var o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e}),null).index}function ft(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function It(e,t,n){return 100*(e-t)/(n-t)}function Ct(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function ht(e){var t=e.values,n=e.source,r=e.newValue,o=e.index;if(t[o]===r)return n;var a=t.slice();return a[o]=r,a}function vt(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var yt,At,wt,Zt,xt,Gt,Bt,kt,Wt,jt,Et,Ot,St,Vt={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},Nt=function(e){return e},Yt=c.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],o=e["aria-valuetext"],a=e.classes,i=e.className,l=e.color,s=void 0===l?"primary":l,u=e.component,g=void 0===u?"span":u,d=e.defaultValue,p=e.disabled,m=void 0!==p&&p,b=e.getAriaLabel,f=e.getAriaValueText,I=e.marks,C=void 0!==I&&I,h=e.max,v=void 0===h?100:h,y=e.min,A=void 0===y?0:y,w=e.name,Z=e.onChange,x=e.onChangeCommitted,G=e.onMouseDown,B=e.orientation,k=void 0===B?"horizontal":B,W=e.scale,j=void 0===W?Nt:W,E=e.step,O=void 0===E?1:E,S=e.ThumbComponent,V=void 0===S?"span":S,N=e.track,Y=void 0===N?"normal":N,F=e.value,H=e.ValueLabelComponent,K=void 0===H?dt:H,R=e.valueLabelDisplay,X=void 0===R?"off":R,T=e.valueLabelFormat,L=void 0===T?Nt:T,J=Object(Oe.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),P=Object(ot.a)(),z=c.useRef(),U=c.useState(-1),D=U[0],M=U[1],Q=c.useState(-1),_=Q[0],q=Q[1],$=Object(gt.a)({controlled:F,default:d,name:"Slider"}),ee=Object(be.a)($,2),te=ee[0],ne=ee[1],re=Array.isArray(te),oe=re?te.slice().sort(pt):[te];oe=oe.map((function(e){return mt(e,A,v)}));var ae=!0===C&&null!==O?Object(et.a)(Array(Math.floor((v-A)/O)+1)).map((function(e,t){return{value:A+O*t}})):C||[],ie=Object(it.a)(),ce=ie.isFocusVisible,le=ie.onBlurVisible,se=ie.ref,ue=c.useState(-1),ge=ue[0],de=ue[1],pe=c.useRef(),me=Object(st.a)(se,pe),fe=Object(st.a)(t,me),Ie=Object(lt.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));ce(e)&&de(t),q(t)})),Ce=Object(lt.a)((function(){-1!==ge&&(de(-1),le()),q(-1)})),he=Object(lt.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));q(t)})),ve=Object(lt.a)((function(){q(-1)})),ye="rtl"===P.direction,Ae=Object(lt.a)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=oe[n],o=(v-A)/10,a=ae.map((function(e){return e.value})),i=a.indexOf(r),c=ye?"ArrowLeft":"ArrowRight",l=ye?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=A;break;case"End":t=v;break;case"PageUp":O&&(t=r+o);break;case"PageDown":O&&(t=r-o);break;case c:case"ArrowUp":t=O?r+O:a[i+1]||a[a.length-1];break;case l:case"ArrowDown":t=O?r-O:a[i-1]||a[0];break;default:return}if(e.preventDefault(),O&&(t=Ct(t,O,A)),t=mt(t,A,v),re){var s=t;t=ht({values:oe,source:te,newValue:t,index:n}).sort(pt),vt({sliderRef:pe,activeIndex:t.indexOf(s)})}ne(t),de(n),Z&&Z(e,t),x&&x(e,t)})),we=c.useRef(),Ze=k;ye&&"vertical"!==k&&(Ze+="-reverse");var xe=function(e){var t,n,r=e.finger,o=e.move,a=void 0!==o&&o,i=e.values,c=e.source,l=pe.current.getBoundingClientRect(),s=l.width,u=l.height,g=l.bottom,d=l.left;if(t=0===Ze.indexOf("vertical")?(g-r.y)/u:(r.x-d)/s,-1!==Ze.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,A,v),O)n=Ct(n,O,A);else{var p=ae.map((function(e){return e.value}));n=p[bt(p,n)]}n=mt(n,A,v);var m=0;if(re){var b=n;m=(n=ht({values:i,source:c,newValue:n,index:m=a?we.current:bt(i,n)}).sort(pt)).indexOf(b),we.current=m}return{newValue:n,activeIndex:m}},Ge=Object(lt.a)((function(e){var t=ft(e,z);if(t){var n=xe({finger:t,move:!0,values:oe,source:te}),r=n.newValue,o=n.activeIndex;vt({sliderRef:pe,activeIndex:o,setActive:M}),ne(r),Z&&Z(e,r)}})),Be=Object(lt.a)((function(e){var t=ft(e,z);if(t){var n=xe({finger:t,values:oe,source:te}).newValue;M(-1),"touchend"===e.type&&q(-1),x&&x(e,n),z.current=void 0;var r=Object(ct.a)(pe.current);r.removeEventListener("mousemove",Ge),r.removeEventListener("mouseup",Be),r.removeEventListener("touchmove",Ge),r.removeEventListener("touchend",Be)}})),ke=Object(lt.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(z.current=t.identifier);var n=ft(e,z),r=xe({finger:n,values:oe,source:te}),o=r.newValue,a=r.activeIndex;vt({sliderRef:pe,activeIndex:a,setActive:M}),ne(o),Z&&Z(e,o);var i=Object(ct.a)(pe.current);i.addEventListener("touchmove",Ge),i.addEventListener("touchend",Be)}));c.useEffect((function(){var e=pe.current;e.addEventListener("touchstart",ke);var t=Object(ct.a)(e);return function(){e.removeEventListener("touchstart",ke),t.removeEventListener("mousemove",Ge),t.removeEventListener("mouseup",Be),t.removeEventListener("touchmove",Ge),t.removeEventListener("touchend",Be)}}),[Be,Ge,ke]);var We=Object(lt.a)((function(e){G&&G(e),e.preventDefault();var t=ft(e,z),n=xe({finger:t,values:oe,source:te}),r=n.newValue,o=n.activeIndex;vt({sliderRef:pe,activeIndex:o,setActive:M}),ne(r),Z&&Z(e,r);var a=Object(ct.a)(pe.current);a.addEventListener("mousemove",Ge),a.addEventListener("mouseup",Be)})),je=It(re?oe[0]:A,A,v),Ee=It(oe[oe.length-1],A,v)-je,Se=Object(tt.a)({},Vt[Ze].offset(je),Vt[Ze].leap(Ee));return c.createElement(g,Object(tt.a)({ref:fe,className:Object(nt.a)(a.root,a["color".concat(Object(ut.a)(s))],i,m&&a.disabled,ae.length>0&&ae.some((function(e){return e.label}))&&a.marked,!1===Y&&a.trackFalse,"vertical"===k&&a.vertical,"inverted"===Y&&a.trackInverted),onMouseDown:We},J),c.createElement("span",{className:a.rail}),c.createElement("span",{className:a.track,style:Se}),c.createElement("input",{value:oe.join(","),name:w,type:"hidden"}),ae.map((function(e,t){var n,r=It(e.value,A,v),o=Vt[Ze].offset(r);return n=!1===Y?-1!==oe.indexOf(e.value):"normal"===Y&&(re?e.value>=oe[0]&&e.value<=oe[oe.length-1]:e.value<=oe[0])||"inverted"===Y&&(re?e.value<=oe[0]||e.value>=oe[oe.length-1]:e.value>=oe[0]),c.createElement(c.Fragment,{key:e.value},c.createElement("span",{style:o,"data-index":t,className:Object(nt.a)(a.mark,n&&a.markActive)}),null!=e.label?c.createElement("span",{"aria-hidden":!0,"data-index":t,style:o,className:Object(nt.a)(a.markLabel,n&&a.markLabelActive)},e.label):null)})),oe.map((function(e,t){var i=It(e,A,v),l=Vt[Ze].offset(i);return c.createElement(K,{key:t,valueLabelFormat:L,valueLabelDisplay:X,className:a.valueLabel,value:"function"==typeof L?L(j(e),t):L,index:t,open:_===t||D===t||"on"===X,disabled:m},c.createElement(V,{className:Object(nt.a)(a.thumb,a["thumbColor".concat(Object(ut.a)(s))],D===t&&a.active,m&&a.disabled,ge===t&&a.focusVisible),tabIndex:m?null:0,role:"slider",style:l,"data-index":t,"aria-label":b?b(t):n,"aria-labelledby":r,"aria-orientation":k,"aria-valuemax":j(v),"aria-valuemin":j(A),"aria-valuenow":j(e),"aria-valuetext":f?f(j(e),t):o,onKeyDown:Ae,onFocus:Ie,onBlur:Ce,onMouseOver:he,onMouseLeave:ve}))})))})),Ft=Object(rt.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Object(at.e)(e.palette.primary.main,.62):Object(at.a)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(at.c)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(at.c)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(at.c)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(at.c)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:Object(tt.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(Yt),Ht=n("g3U7"),Kt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Rt=s.b.div(yt||(yt=Kt(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9000;\n  background-color: rgba(127, 127, 127, 0.7);\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9000;\n  background-color: rgba(127, 127, 127, 0.7);\n"]))),Xt=Object(s.b)(ze.a)(At||(At=Kt(["\n  position: absolute;\n  overflow: hidden;\n  z-index: 9001;\n  width: 80%;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  margin: 3% 10% 3% 10%;\n  border-radius: 10px !important;\n"],["\n  position: absolute;\n  overflow: hidden;\n  z-index: 9001;\n  width: 80%;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  margin: 3% 10% 3% 10%;\n  border-radius: 10px !important;\n"]))),Tt=s.b.div(wt||(wt=Kt(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Lt=function(e){return l.a.createElement(Rt,null,l.a.createElement(Xt,null,l.a.createElement(x.a,{container:!0,direction:"row"},e.children)))},Jt=function(e){return l.a.createElement(Rt,null,l.a.createElement(Tt,null,e.children))},Pt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},zt=function(){return(zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ut=Object(s.b)(x.a)(Zt||(Zt=Pt(["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"],["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"]))),Dt=s.b.div(xt||(xt=Pt(["\n  padding: 1px 25px;\n  background: #4caf50;\n  font-family: Roboto Slab, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\n  color: white !important;\n  width: 100%;\n"],["\n  padding: 1px 25px;\n  background: #4caf50;\n  font-family: Roboto Slab, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\n  color: white !important;\n  width: 100%;\n"]))),Mt=s.b.div(Gt||(Gt=Pt(["\n  border-top: 1px dashed black;\n  width: 100%;\n"],["\n  border-top: 1px dashed black;\n  width: 100%;\n"]))),Qt=Object(s.b)(qe.a)(Bt||(Bt=Pt(["\n  && {\n    font-size: 1.5rem;\n    padding: 9px 5px;\n    font-weight: 500;\n    color: white !important;\n  }\n"],["\n  && {\n    font-size: 1.5rem;\n    padding: 9px 5px;\n    font-weight: 500;\n    color: white !important;\n  }\n"]))),_t=s.b.span(kt||(kt=Pt(["\n  cursor: pointer;\n  font-size: 2rem;\n  float: right;\n"],["\n  cursor: pointer;\n  font-size: 2rem;\n  float: right;\n"]))),qt=s.b.div(Wt||(Wt=Pt(["\n  && {\n    font-size: 1rem;\n    padding: 9px 5px;\n  }\n"],["\n  && {\n    font-size: 1rem;\n    padding: 9px 5px;\n  }\n"]))),$t=Object(s.b)($e.a)(jt||(jt=Pt(["\n  && {\n    color: white;\n    margin-right: 10px;\n  }\n"],["\n  && {\n    color: white;\n    margin-right: 10px;\n  }\n"]))),en=Object(s.b)((function(e){return l.a.createElement(G.a,zt({variant:"contained"},e))}))(Et||(Et=Pt(["\n  margin: 5px !important;\n"],["\n  margin: 5px !important;\n"]))),tn=s.b.div(Ot||(Ot=Pt(["\n  margin: 20px;\n"],["\n  margin: 20px;\n"]))),nn=Object(s.b)(qe.a)(St||(St=Pt(["\n  && {\n    margin: 15px 10px 5px 10px;\n    font-weight: bold;\n  }\n"],["\n  && {\n    margin: 15px 10px 5px 10px;\n    font-weight: bold;\n  }\n"]))),rn=function(e){var t=e.awardedPoints,n=e.onSubmitFeedback,r=e.onClose,o=e.feedbackQuestions,a=e.solutionUrl,i=Object(w.a)()[0],s=Object(c.useState)((null==o?void 0:o.map((function(e){if("text"===e.kind)return zt(zt({},e),{kind:"text",value:""});var t=e.kind.match(/intrange\[(-?[0-9]+)\.\.(-?[0-9]+)\]/);if(t&&t[0]===e.kind){var n=parseInt(t[1]),r=parseInt(t[2]);return zt(zt({},e),{kind:"intrange",value:n-1,min:n,max:r})}return zt(zt({},e),{kind:"other",value:-1})})))||[]),u=s[0],g=s[1],d=function(e,t){g((function(n){return n.map((function(n){return n.id!==e?n:zt(zt({},n),{value:t})}))}))},p=function(){return u.filter((function(e){return"intrange"===e.kind&&e.value>=e.min||"text"===e.kind&&""!==e.value.toString().trim()}))},m=function(){return o&&o.length>0};return l.a.createElement(Lt,null,l.a.createElement(Dt,null,l.a.createElement(Qt,null,i("feedbackTitle"),l.a.createElement(_t,{onClick:r},"×")),(null==t?void 0:t.length)&&t.length>0&&l.a.createElement(qt,null,i("pointsAwarded"),": ",null==t?void 0:t.map((function(e){return l.a.createElement($t,{key:e,label:e,variant:"outlined"})})))),m()&&l.a.createElement(x.a,{container:!0,direction:"column"},l.a.createElement(nn,null,i("pleaseGiveFeedback")),l.a.createElement(Ut,null,l.a.createElement("form",{id:"feedback-form",onSubmit:function(e){e.preventDefault(),n(p().map((function(e){return{questionId:e.id,answer:e.value}}))),g([])}},u.map((function(e){switch(e.kind){case"intrange":for(var t=[{value:e.min-1,label:"-"}],n=e.min;n<=e.max;n++)t.push({value:n,label:n.toString()});return l.a.createElement(tn,{key:e.id},l.a.createElement(qe.a,{gutterBottom:!0},e.question),l.a.createElement(Ft,{defaultValue:e.min-1,valueLabelFormat:function(t){return t<e.min?null:t},"aria-labelledby":"discrete-slider-custom",step:1,marks:t,min:e.min-1,max:e.max,valueLabelDisplay:"auto",onChange:function(t,n){return d(e.id,n)},style:{width:"100%"}}));case"text":return l.a.createElement(tn,{key:e.id},l.a.createElement(qe.a,{gutterBottom:!0},e.question),l.a.createElement(Ht.a,{"data-cy":"feedback-text",rowsMin:5,rowsMax:10,style:{width:"100%"},onChange:function(t){return d(e.id,t.target.value)}}));default:return null}}))))),l.a.createElement(Mt,null,m()&&l.a.createElement(en,{form:"feedback-form",disabled:p().length<=0,"data-cy":"yes-feedback",type:"submit"},i("button.send")),l.a.createElement(en,{onClick:r,"data-cy":"no-feedback"},m()?i("dontSend"):i("button.close")),a&&l.a.createElement(en,{onClick:function(){window.open(a,"_blank")},style:{float:"right"}},i("viewModelSolution"))))},on=n("gS1B"),an=atob("LyoqCiAqIFRoZSBtYWluIGJvb3RzdHJhcCBzY3JpcHQgZm9yIGxvYWRpbmcgcHlvZGlkZS4KICovCgp2YXIgbGFuZ3VhZ2VQbHVnaW5Mb2FkZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgLy8gVGhpcyBpcyBmaWxsZWQgaW4gYnkgdGhlIE1ha2VmaWxlIHRvIGJlIGVpdGhlciBhIGxvY2FsIGZpbGUgb3IgdGhlCiAgLy8gZGVwbG95ZWQgbG9jYXRpb24uIFRPRE86IFRoaXMgc2hvdWxkIGJlIGRvbmUgaW4gYSBsZXNzIGhhY2t5CiAgLy8gd2F5LgogIHZhciBiYXNlVVJMID0gc2VsZi5sYW5ndWFnZVBsdWdpblVybCB8fCAnaHR0cHM6Ly9kb3dubG9hZC5tb29jLmZpL3B5b2RpZGUtY2RuL3YwLjE1LjAvJzsKICBiYXNlVVJMID0gYmFzZVVSTC5zdWJzdHIoMCwgYmFzZVVSTC5sYXN0SW5kZXhPZignLycpKSArICcvJzsKCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8gUGFja2FnZSBsb2FkaW5nCiAgbGV0IGxvYWRlZFBhY2thZ2VzID0ge307CiAgdmFyIGxvYWRQYWNrYWdlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXNvbHZlKCkpOwogIC8vIFJlZ2V4cCBmb3IgdmFsaWRhdGluZyBwYWNrYWdlIG5hbWUgYW5kIFVSSQogIHZhciBwYWNrYWdlX25hbWVfcmVnZXhwID0gJ1thLXowLTlfXVthLXowLTlfXC1dKicKICB2YXIgcGFja2FnZV91cmlfcmVnZXhwID0KICAgICAgbmV3IFJlZ0V4cCgnXmh0dHBzPzovLy4qPygnICsgcGFja2FnZV9uYW1lX3JlZ2V4cCArICcpLmpzJCcsICdpJyk7CiAgdmFyIHBhY2thZ2VfbmFtZV9yZWdleHAgPSBuZXcgUmVnRXhwKCdeJyArIHBhY2thZ2VfbmFtZV9yZWdleHAgKyAnJCcsICdpJyk7CgogIGxldCBfdXJpX3RvX3BhY2thZ2VfbmFtZSA9IChwYWNrYWdlX3VyaSkgPT4gewogICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgcGFja2FnZSBuYW1lIGZyb20gVVJJCgogICAgaWYgKHBhY2thZ2VfbmFtZV9yZWdleHAudGVzdChwYWNrYWdlX3VyaSkpIHsKICAgICAgcmV0dXJuIHBhY2thZ2VfdXJpOwogICAgfSBlbHNlIGlmIChwYWNrYWdlX3VyaV9yZWdleHAudGVzdChwYWNrYWdlX3VyaSkpIHsKICAgICAgbGV0IG1hdGNoID0gcGFja2FnZV91cmlfcmVnZXhwLmV4ZWMocGFja2FnZV91cmkpOwogICAgICAvLyBHZXQgdGhlIHJlZ2V4cCBncm91cCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwYWNrYWdlIG5hbWUKICAgICAgcmV0dXJuIG1hdGNoWzFdOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKCiAgLy8gY2xhbmctZm9ybWF0IG9mZgogIGxldCBwcmVsb2FkV2FzbSA9ICgpID0+IHsKICAgIC8vIE9uIENocm9tZSwgd2UgaGF2ZSB0byBpbnN0YW50aWF0ZSB3YXNtIGFzeW5jaHJvbm91c2x5LiBTaW5jZSB0aGF0CiAgICAvLyBjYW4ndCBiZSBkb25lIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBjYWxsIHRvIGRsb3Blbiwgd2UgaW5zdGFudGlhdGUKICAgIC8vIGV2ZXJ5IC5zbyB0aGF0IGNvbWVzIG91ciB3YXkgdXAgZnJvbnQsIGNhY2hpbmcgaXQgaW4gdGhlCiAgICAvLyBgcHJlbG9hZGVkV2FzbWAgZGljdGlvbmFyeS4KCiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXNvbHZlKCkpOwogICAgbGV0IEZTID0gcHlvZGlkZS5fbW9kdWxlLkZTOwoKICAgIGZ1bmN0aW9uIHJlY3Vyc2VEaXIocm9vdHBhdGgpIHsKICAgICAgbGV0IGRpcnM7CiAgICAgIHRyeSB7CiAgICAgICAgZGlycyA9IEZTLnJlYWRkaXIocm9vdHBhdGgpOwogICAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZm9yIChsZXQgZW50cnkgb2YgZGlycykgewogICAgICAgIGlmIChlbnRyeS5zdGFydHNXaXRoKCcuJykpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBjb25zdCBwYXRoID0gcm9vdHBhdGggKyBlbnRyeTsKICAgICAgICBpZiAoZW50cnkuZW5kc1dpdGgoJy5zbycpKSB7CiAgICAgICAgICBpZiAoTW9kdWxlWydwcmVsb2FkZWRXYXNtJ11bcGF0aF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZQogICAgICAgICAgICAgIC50aGVuKCgpID0+IE1vZHVsZVsnbG9hZFdlYkFzc2VtYmx5TW9kdWxlJ10oCiAgICAgICAgICAgICAgICBGUy5yZWFkRmlsZShwYXRoKSwge2xvYWRBc3luYzogdHJ1ZX0pKQogICAgICAgICAgICAgIC50aGVuKChtb2R1bGUpID0+IHsKICAgICAgICAgICAgICAgIE1vZHVsZVsncHJlbG9hZGVkV2FzbSddW3BhdGhdID0gbW9kdWxlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoRlMuaXNEaXIoRlMubG9va3VwUGF0aChwYXRoKS5ub2RlLm1vZGUpKSB7CiAgICAgICAgICByZWN1cnNlRGlyKHBhdGggKyAnLycpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJlY3Vyc2VEaXIoJy8nKTsKCiAgICByZXR1cm4gcHJvbWlzZTsKICB9CiAgLy8gY2xhbmctZm9ybWF0IG9uCgogIGZ1bmN0aW9uIGxvYWRTY3JpcHQodXJsLCBvbmxvYWQsIG9uZXJyb3IpIHsKICAgIGlmIChzZWxmLmRvY3VtZW50KSB7IC8vIGJyb3dzZXIKICAgICAgY29uc3Qgc2NyaXB0ID0gc2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnNyYyA9IHVybDsKICAgICAgc2NyaXB0Lm9ubG9hZCA9IChlKSA9PiB7IG9ubG9hZCgpOyB9OwogICAgICBzY3JpcHQub25lcnJvciA9IChlKSA9PiB7IG9uZXJyb3IoKTsgfTsKICAgICAgc2VsZi5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICB9IGVsc2UgaWYgKHNlbGYuaW1wb3J0U2NyaXB0cykgeyAvLyB3ZWJ3b3JrZXIKICAgICAgdHJ5IHsKICAgICAgICBzZWxmLmltcG9ydFNjcmlwdHModXJsKTsKICAgICAgICBvbmxvYWQoKTsKICAgICAgfSBjYXRjaCB7CiAgICAgICAgb25lcnJvcigpOwogICAgICB9CiAgICB9CiAgfQoKICBsZXQgX2xvYWRQYWNrYWdlID0gKG5hbWVzLCBtZXNzYWdlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHsKICAgIGlmIChtZXNzYWdlQ2FsbGJhY2sgPT0gdW5kZWZpbmVkKSB7CiAgICAgIG1lc3NhZ2VDYWxsYmFjayA9ICgpID0+IHt9OwogICAgfQogICAgaWYgKGVycm9yQ2FsbGJhY2sgPT0gdW5kZWZpbmVkKSB7CiAgICAgIGVycm9yQ2FsbGJhY2sgPSAoKSA9PiB7fTsKICAgIH0KICAgIGxldCBfbWVzc2FnZUNhbGxiYWNrID0gKG1zZykgPT4gewogICAgICBjb25zb2xlLmxvZyhtc2cpOwogICAgICBtZXNzYWdlQ2FsbGJhY2sobXNnKTsKICAgIH07CiAgICBsZXQgX2Vycm9yQ2FsbGJhY2sgPSAoZXJyTXNnKSA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTsKICAgICAgZXJyb3JDYWxsYmFjayhlcnJNc2cpOwogICAgfTsKCiAgICAvLyBERlMgdG8gZmluZCBhbGwgZGVwZW5kZW5jaWVzIG9mIHRoZSByZXF1ZXN0ZWQgcGFja2FnZXMKICAgIGxldCBwYWNrYWdlcyA9IHNlbGYucHlvZGlkZS5fbW9kdWxlLnBhY2thZ2VzLmRlcGVuZGVuY2llczsKICAgIGxldCBsb2FkZWRQYWNrYWdlcyA9IHNlbGYucHlvZGlkZS5sb2FkZWRQYWNrYWdlczsKICAgIGxldCBxdWV1ZSA9IFtdLmNvbmNhdChuYW1lcyB8fCBbXSk7CiAgICBsZXQgdG9Mb2FkID0ge307CiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7CiAgICAgIGxldCBwYWNrYWdlX3VyaSA9IHF1ZXVlLnBvcCgpOwoKICAgICAgY29uc3QgcGtnID0gX3VyaV90b19wYWNrYWdlX25hbWUocGFja2FnZV91cmkpOwoKICAgICAgaWYgKHBrZyA9PSBudWxsKSB7CiAgICAgICAgX2Vycm9yQ2FsbGJhY2soYEludmFsaWQgcGFja2FnZSBuYW1lIG9yIFVSSSAnJHtwYWNrYWdlX3VyaX0nYCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHBrZyA9PSBwYWNrYWdlX3VyaSkgewogICAgICAgIHBhY2thZ2VfdXJpID0gJ2RlZmF1bHQgY2hhbm5lbCc7CiAgICAgIH0KCiAgICAgIGlmIChwa2cgaW4gbG9hZGVkUGFja2FnZXMpIHsKICAgICAgICBpZiAocGFja2FnZV91cmkgIT0gbG9hZGVkUGFja2FnZXNbcGtnXSkgewogICAgICAgICAgX2Vycm9yQ2FsbGJhY2soYFVSSSBtaXNtYXRjaCwgYXR0ZW1wdGluZyB0byBsb2FkIHBhY2thZ2UgYCArCiAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwa2d9IGZyb20gJHtwYWNrYWdlX3VyaX0gd2hpbGUgaXQgaXMgYWxyZWFkeSBgICsKICAgICAgICAgICAgICAgICAgICAgICAgIGBsb2FkZWQgZnJvbSAke2xvYWRlZFBhY2thZ2VzW3BrZ119IWApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfbWVzc2FnZUNhbGxiYWNrKGAke3BrZ30gYWxyZWFkeSBsb2FkZWQgZnJvbSAke2xvYWRlZFBhY2thZ2VzW3BrZ119YCkKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGtnIGluIHRvTG9hZCkgewogICAgICAgIGlmIChwYWNrYWdlX3VyaSAhPSB0b0xvYWRbcGtnXSkgewogICAgICAgICAgX2Vycm9yQ2FsbGJhY2soYFVSSSBtaXNtYXRjaCwgYXR0ZW1wdGluZyB0byBsb2FkIHBhY2thZ2UgYCArCiAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwa2d9IGZyb20gJHtwYWNrYWdlX3VyaX0gd2hpbGUgaXQgaXMgYWxyZWFkeSBgICsKICAgICAgICAgICAgICAgICAgICAgICAgIGBiZWluZyBsb2FkZWQgZnJvbSAke3RvTG9hZFtwa2ddfSFgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgIGAke3BrZ30gdG8gYmUgbG9hZGVkIGZyb20gJHtwYWNrYWdlX3VyaX1gKTsgLy8gZGVidWcgbGV2ZWwgaW5mby4KCiAgICAgICAgdG9Mb2FkW3BrZ10gPSBwYWNrYWdlX3VyaTsKICAgICAgICBpZiAocGFja2FnZXMuaGFzT3duUHJvcGVydHkocGtnKSkgewogICAgICAgICAgcGFja2FnZXNbcGtnXS5mb3JFYWNoKChzdWJwYWNrYWdlKSA9PiB7CiAgICAgICAgICAgIGlmICghKHN1YnBhY2thZ2UgaW4gbG9hZGVkUGFja2FnZXMpICYmICEoc3VicGFja2FnZSBpbiB0b0xvYWQpKSB7CiAgICAgICAgICAgICAgcXVldWUucHVzaChzdWJwYWNrYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF9lcnJvckNhbGxiYWNrKGBVbmtub3duIHBhY2thZ2UgJyR7cGtnfSdgKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBzZWxmLnB5b2RpZGUuX21vZHVsZS5sb2NhdGVGaWxlID0gKHBhdGgpID0+IHsKICAgICAgLy8gaGFuZGxlIHBhY2thZ2VzIGxvYWRlZCBmcm9tIGN1c3RvbSBVUkxzCiAgICAgIGxldCBwa2cgPSBwYXRoLnJlcGxhY2UoL1wuZGF0YSQvLCAiIik7CiAgICAgIGlmIChwa2cgaW4gdG9Mb2FkKSB7CiAgICAgICAgbGV0IHBhY2thZ2VfdXJpID0gdG9Mb2FkW3BrZ107CiAgICAgICAgaWYgKHBhY2thZ2VfdXJpICE9ICdkZWZhdWx0IGNoYW5uZWwnKSB7CiAgICAgICAgICByZXR1cm4gcGFja2FnZV91cmkucmVwbGFjZSgvXC5qcyQvLCAiLmRhdGEiKTsKICAgICAgICB9OwogICAgICB9OwogICAgICByZXR1cm4gYmFzZVVSTCArIHBhdGg7CiAgICB9OwoKICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICBpZiAoT2JqZWN0LmtleXModG9Mb2FkKS5sZW5ndGggPT09IDApIHsKICAgICAgICByZXNvbHZlKCdObyBuZXcgcGFja2FnZXMgdG8gbG9hZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGV0IHBhY2thZ2VMaXN0ID0gQXJyYXkuZnJvbShPYmplY3Qua2V5cyh0b0xvYWQpKTsKICAgICAgX21lc3NhZ2VDYWxsYmFjayhgTG9hZGluZyAke3BhY2thZ2VMaXN0LmpvaW4oJywgJyl9YCkKCiAgICAgIC8vIG1vbml0b3JSdW5EZXBlbmRlbmNpZXMgaXMgY2FsbGVkIGF0IHRoZSBiZWdpbm5pbmcgYW5kIHRoZSBlbmQgb2YgZWFjaAogICAgICAvLyBwYWNrYWdlIGJlaW5nIGxvYWRlZC4gV2Uga25vdyB3ZSBhcmUgZG9uZSB3aGVuIGl0IGhhcyBiZWVuIGNhbGxlZAogICAgICAvLyBleGFjdGx5ICJ0b0xvYWQgKiAyIiB0aW1lcy4KICAgICAgdmFyIHBhY2thZ2VDb3VudGVyID0gT2JqZWN0LmtleXModG9Mb2FkKS5sZW5ndGggKiAyOwoKICAgICAgc2VsZi5weW9kaWRlLl9tb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyA9ICgpID0+IHsKICAgICAgICBwYWNrYWdlQ291bnRlci0tOwogICAgICAgIGlmIChwYWNrYWdlQ291bnRlciA9PT0gMCkgewogICAgICAgICAgZm9yIChsZXQgcGtnIGluIHRvTG9hZCkgewogICAgICAgICAgICBzZWxmLnB5b2RpZGUubG9hZGVkUGFja2FnZXNbcGtnXSA9IHRvTG9hZFtwa2ddOwogICAgICAgICAgfQogICAgICAgICAgZGVsZXRlIHNlbGYucHlvZGlkZS5fbW9kdWxlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM7CiAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgd2luZG93RXJyb3JIYW5kbGVyKTsKCiAgICAgICAgICBsZXQgcmVzb2x2ZU1zZyA9IGBMb2FkZWQgYDsKICAgICAgICAgIGlmIChwYWNrYWdlTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHJlc29sdmVNc2cgKz0gcGFja2FnZUxpc3Quam9pbignLCAnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlc29sdmVNc2cgKz0gJ25vIHBhY2thZ2VzJwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghaXNGaXJlZm94KSB7CiAgICAgICAgICAgIHByZWxvYWRXYXNtKCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzb2x2ZU1zZyk7CiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlTXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNvbHZlTXNnKTsKICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlTXNnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICAvLyBBZGQgYSBoYW5kbGVyIGZvciBhbnkgZXhjZXB0aW9ucyB0aGF0IGFyZSB0aHJvd24gaW4gdGhlIHByb2Nlc3Mgb2YKICAgICAgLy8gbG9hZGluZyBhIHBhY2thZ2UKICAgICAgdmFyIHdpbmRvd0Vycm9ySGFuZGxlciA9IChlcnIpID0+IHsKICAgICAgICBkZWxldGUgc2VsZi5weW9kaWRlLl9tb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llczsKICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgd2luZG93RXJyb3JIYW5kbGVyKTsKICAgICAgICAvLyBTZXQgdXAgYSBuZXcgUHJvbWlzZSBjaGFpbiwgc2luY2UgdGhpcyBvbmUgZmFpbGVkCiAgICAgICAgbG9hZFBhY2thZ2VQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlc29sdmUoKSk7CiAgICAgICAgcmVqZWN0KGVyci5tZXNzYWdlKTsKICAgICAgfTsKICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHdpbmRvd0Vycm9ySGFuZGxlcik7CgogICAgICBmb3IgKGxldCBwa2cgaW4gdG9Mb2FkKSB7CiAgICAgICAgbGV0IHNjcmlwdFNyYzsKICAgICAgICBsZXQgcGFja2FnZV91cmkgPSB0b0xvYWRbcGtnXTsKICAgICAgICBpZiAocGFja2FnZV91cmkgPT0gJ2RlZmF1bHQgY2hhbm5lbCcpIHsKICAgICAgICAgIHNjcmlwdFNyYyA9IGAke2Jhc2VVUkx9JHtwa2d9LmpzYDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2NyaXB0U3JjID0gYCR7cGFja2FnZV91cml9YDsKICAgICAgICB9CiAgICAgICAgX21lc3NhZ2VDYWxsYmFjayhgTG9hZGluZyAke3BrZ30gZnJvbSAke3NjcmlwdFNyY31gKQogICAgICAgIGxvYWRTY3JpcHQoc2NyaXB0U3JjLCAoKSA9PiB7fSwgKCkgPT4gewogICAgICAgICAgLy8gSWYgdGhlIHBhY2thZ2VfdXJpIGZhaWxzIHRvIGxvYWQsIGNhbGwgbW9uaXRvclJ1bkRlcGVuZGVuY2llcyB0d2ljZQogICAgICAgICAgLy8gKHNvIHBhY2thZ2VDb3VudGVyIHdpbGwgc3RpbGwgaGl0IDAgYW5kIGZpbmlzaCBsb2FkaW5nKSwgYW5kIHJlbW92ZQogICAgICAgICAgLy8gdGhlIHBhY2thZ2UgZnJvbSB0b0xvYWQgc28gd2UgZG9uJ3QgbWFyayBpdCBhcyBsb2FkZWQsIGFuZCByZW1vdmUKICAgICAgICAgIC8vIHRoZSBwYWNrYWdlIGZyb20gcGFja2FnZUxpc3Qgc28gd2UgZG9uJ3Qgc2F5IHRoYXQgaXQgd2FzIGxvYWRlZC4KICAgICAgICAgIF9lcnJvckNhbGxiYWNrKGBDb3VsZG4ndCBsb2FkIHBhY2thZ2UgZnJvbSBVUkwgJHtzY3JpcHRTcmN9YCk7CiAgICAgICAgICBkZWxldGUgdG9Mb2FkW3BrZ107CiAgICAgICAgICBsZXQgcGFja2FnZUxpc3RJbmRleCA9IHBhY2thZ2VMaXN0LmluZGV4T2YocGtnKTsKICAgICAgICAgIGlmIChwYWNrYWdlTGlzdEluZGV4ICE9PSAtMSkgewogICAgICAgICAgICBwYWNrYWdlTGlzdC5zcGxpY2UocGFja2FnZUxpc3RJbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykgewogICAgICAgICAgICBzZWxmLnB5b2RpZGUuX21vZHVsZS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIFdlIGhhdmUgdG8gaW52YWxpZGF0ZSBQeXRob24ncyBpbXBvcnQgY2FjaGVzLCBvciBpdCB3b24ndAogICAgICAvLyBzZWUgdGhlIG5ldyBmaWxlcy4gVGhpcyBpcyBkb25lIGhlcmUgc28gaXQgaGFwcGVucyBpbiBwYXJhbGxlbAogICAgICAvLyB3aXRoIHRoZSBmZXRjaGluZyBvdmVyIHRoZSBuZXR3b3JrLgogICAgICBzZWxmLnB5b2RpZGUucnVuUHl0aG9uKCdpbXBvcnQgaW1wb3J0bGliIGFzIF9pbXBvcnRsaWJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdfaW1wb3J0bGliLmludmFsaWRhdGVfY2FjaGVzKClcbicpOwogICAgfSk7CgogICAgcmV0dXJuIHByb21pc2U7CiAgfTsKCiAgbGV0IGxvYWRQYWNrYWdlID0gKG5hbWVzLCBtZXNzYWdlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHsKICAgIC8qIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgb25seSBvbmUgbG9hZFBhY2thZ2UgaW52b2NhdGlvbiBydW5zIGF0IGFueQogICAgICogZ2l2ZW4gdGltZSwgc28gdGhpcyBjcmVhdGVzIGEgImNoYWluIiBvZiBwcm9taXNlcy4gKi8KICAgIGxvYWRQYWNrYWdlUHJvbWlzZSA9IGxvYWRQYWNrYWdlUHJvbWlzZS50aGVuKAogICAgICAgICgpID0+IF9sb2FkUGFja2FnZShuYW1lcywgbWVzc2FnZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSk7CiAgICByZXR1cm4gbG9hZFBhY2thZ2VQcm9taXNlOwogIH07CgogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vIEZpeCBQeXRob24gcmVjdXJzaW9uIGxpbWl0CiAgZnVuY3Rpb24gZml4UmVjdXJzaW9uTGltaXQocHlvZGlkZSkgewogICAgLy8gVGhlIEphdmFzY3JpcHQvV2FzbSBjYWxsIHN0YWNrIG1heSBiZSB0b28gc21hbGwgdG8gaGFuZGxlIHRoZSBkZWZhdWx0CiAgICAvLyBQeXRob24gY2FsbCBzdGFjayBsaW1pdCBvZiAxMDAwIGZyYW1lcy4gVGhpcyBpcyBnZW5lcmFsbHkgdGhlIGNhc2Ugb24KICAgIC8vIENocm9tKGl1bSksIGJ1dCBub3Qgb24gRmlyZWZveC4gSGVyZSwgd2UgZGV0ZXJtaW5lIHRoZSBKYXZhc2NyaXB0IGNhbGwKICAgIC8vIHN0YWNrIGRlcHRoIGF2YWlsYWJsZSwgYW5kIHRoZW4gZGl2aWRlIGJ5IDUwIChkZXRlcm1pbmVkIGhldXJpc3RpY2FsbHkpCiAgICAvLyB0byBzZXQgdGhlIG1heGltdW0gUHl0aG9uIGNhbGwgc3RhY2sgZGVwdGguCgogICAgbGV0IGRlcHRoID0gMDsKICAgIGZ1bmN0aW9uIHJlY3Vyc2UoKSB7CiAgICAgIGRlcHRoICs9IDE7CiAgICAgIHJlY3Vyc2UoKTsKICAgIH0KICAgIHRyeSB7CiAgICAgIHJlY3Vyc2UoKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICA7CiAgICB9CgogICAgbGV0IHJlY3Vyc2lvbkxpbWl0ID0gZGVwdGggLyA1MDsKICAgIGlmIChyZWN1cnNpb25MaW1pdCA+IDEwMDApIHsKICAgICAgcmVjdXJzaW9uTGltaXQgPSAxMDAwOwogICAgfQogICAgcHlvZGlkZS5ydW5QeXRob24oCiAgICAgICAgYGltcG9ydCBzeXM7IHN5cy5zZXRyZWN1cnNpb25saW1pdChpbnQoJHtyZWN1cnNpb25MaW1pdH0pKWApOwogIH07CgogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vIFJlYXJyYW5nZSBuYW1lc3BhY2UgZm9yIHB1YmxpYyBBUEkKICBsZXQgUFVCTElDX0FQSSA9IFsKICAgICdnbG9iYWxzJywKICAgICdsb2FkUGFja2FnZScsCiAgICAnbG9hZGVkUGFja2FnZXMnLAogICAgJ3B5aW1wb3J0JywKICAgICdyZXByJywKICAgICdydW5QeXRob24nLAogICAgJ3J1blB5dGhvbkFzeW5jJywKICAgICdjaGVja0FCSScsCiAgICAndmVyc2lvbicsCiAgICAnYXV0b2NvbXBsZXRlJywKICBdOwoKICBmdW5jdGlvbiBtYWtlUHVibGljQVBJKG1vZHVsZSwgcHVibGljX2FwaSkgewogICAgdmFyIG5hbWVzcGFjZSA9IHtfbW9kdWxlIDogbW9kdWxlfTsKICAgIGZvciAobGV0IG5hbWUgb2YgcHVibGljX2FwaSkgewogICAgICBuYW1lc3BhY2VbbmFtZV0gPSBtb2R1bGVbbmFtZV07CiAgICB9CiAgICByZXR1cm4gbmFtZXNwYWNlOwogIH0KCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8gTG9hZGluZyBQeW9kaWRlCiAgbGV0IHdhc21VUkwgPSBgJHtiYXNlVVJMfXB5b2RpZGUuYXNtLndhc21gOwogIGxldCBNb2R1bGUgPSB7fTsKICBzZWxmLk1vZHVsZSA9IE1vZHVsZTsKCiAgTW9kdWxlLm5vSW1hZ2VEZWNvZGluZyA9IHRydWU7CiAgTW9kdWxlLm5vQXVkaW9EZWNvZGluZyA9IHRydWU7CiAgTW9kdWxlLm5vV2FzbURlY29kaW5nID0gdHJ1ZTsKICBNb2R1bGUucHJlbG9hZGVkV2FzbSA9IHt9OwogIGxldCBpc0ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpID4gLTE7CgogIGxldCB3YXNtX3Byb21pc2UsIHdhc21fZmV0Y2ggPSBmZXRjaCh3YXNtVVJMKTsKICBjb25zdCBjb21waWxlQnVmZmVyID0gKCkgPT4KICAgICAgd2FzbV9mZXRjaC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpCiAgICAgICAgICAudGhlbihieXRlcyA9PiBXZWJBc3NlbWJseS5jb21waWxlKGJ5dGVzKSk7CiAgaWYgKFdlYkFzc2VtYmx5LmNvbXBpbGVTdHJlYW1pbmcgPT09IHVuZGVmaW5lZCkgewogICAgd2FzbV9wcm9taXNlID0gY29tcGlsZUJ1ZmZlcigpOwogIH0gZWxzZSB7CiAgICB3YXNtX3Byb21pc2UgPSBXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nKHdhc21fZmV0Y2gpOwogICAgd2FzbV9wcm9taXNlID0gd2FzbV9wcm9taXNlLmNhdGNoKGUgPT4gewogICAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoInB5b2RpZGUgc3RyZWFtaW5nIGNvbXBpbGF0aW9uIGZhaWxlZDoiLCBlLAogICAgICAgICAgICAgICAgICAgICAgIi0gZmFsbGluZyBiYWNrIHRvIGJ1ZmZlcmVkIGNvbXBpbGF0aW9uIik7CiAgICAgICAgcmV0dXJuIGNvbXBpbGVCdWZmZXIoKQogICAgICB9CiAgICAgIHRocm93IGU7CiAgICB9KTsKICB9CgogIE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gPSAoaW5mbywgcmVjZWl2ZUluc3RhbmNlKSA9PiB7CiAgICB3YXNtX3Byb21pc2UudGhlbihtb2R1bGUgPT4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUobW9kdWxlLCBpbmZvKSkKICAgICAgICAudGhlbihpbnN0YW5jZSA9PiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UpKTsKICAgIHJldHVybiB7fTsKICB9OwoKICBNb2R1bGUuY2hlY2tBQkkgPSBmdW5jdGlvbihBQklfbnVtYmVyKSB7CiAgICBpZiAoQUJJX251bWJlciAhPT0gcGFyc2VJbnQoJzEnKSkgewogICAgICB2YXIgQUJJX21pc21hdGNoX2V4Y2VwdGlvbiA9CiAgICAgICAgICBgQUJJIG51bWJlcnMgZGlmZmVyLiBFeHBlY3RlZCAxLCBnb3QgJHtBQklfbnVtYmVyfWA7CiAgICAgIGNvbnNvbGUuZXJyb3IoQUJJX21pc21hdGNoX2V4Y2VwdGlvbik7CiAgICAgIHRocm93IEFCSV9taXNtYXRjaF9leGNlcHRpb247CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICBNb2R1bGUuYXV0b2NvbXBsZXRlID0KICAgICAgZnVuY3Rpb24ocGF0aCkgewogICAgdmFyIHB5b2RpZGVfbW9kdWxlID0gTW9kdWxlLnB5aW1wb3J0KCJweW9kaWRlIik7CiAgICByZXR1cm4gcHlvZGlkZV9tb2R1bGUuZ2V0X2NvbXBsZXRpb25zKHBhdGgpOwogIH0KCiAgICAgIE1vZHVsZS5sb2NhdGVGaWxlID0gKHBhdGgpID0+IGJhc2VVUkwgKyBwYXRoOwogIHZhciBwb3N0UnVuUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIE1vZHVsZS5wb3N0UnVuID0gKCkgPT4gewogICAgICBkZWxldGUgc2VsZi5Nb2R1bGU7CiAgICAgIGZldGNoKGAke2Jhc2VVUkx9cGFja2FnZXMuanNvbmApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgIC50aGVuKChqc29uKSA9PiB7CiAgICAgICAgICAgIGZpeFJlY3Vyc2lvbkxpbWl0KHNlbGYucHlvZGlkZSk7CiAgICAgICAgICAgIHNlbGYucHlvZGlkZS5nbG9iYWxzID0KICAgICAgICAgICAgICAgIHNlbGYucHlvZGlkZS5ydW5QeXRob24oJ2ltcG9ydCBzeXNcbnN5cy5tb2R1bGVzWyJfX21haW5fXyJdJyk7CiAgICAgICAgICAgIHNlbGYucHlvZGlkZSA9IG1ha2VQdWJsaWNBUEkoc2VsZi5weW9kaWRlLCBQVUJMSUNfQVBJKTsKICAgICAgICAgICAgc2VsZi5weW9kaWRlLl9tb2R1bGUucGFja2FnZXMgPSBqc29uOwogICAgICAgICAgICBpZiAoc2VsZi5pb2RpZGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIC8vIFBlcmZvcm0gc29tZSBjb21wbGV0aW9ucyBpbW1lZGlhdGVseSBzbyB0aGVyZSBpc24ndCBhIGRlbGF5IG9uCiAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGNhbGwgdG8gYXV0b2NvbXBsZXRlCiAgICAgICAgICAgICAgc2VsZi5weW9kaWRlLnJ1blB5dGhvbignaW1wb3J0IHB5b2RpZGUnKTsKICAgICAgICAgICAgICBzZWxmLnB5b2RpZGUucnVuUHl0aG9uKCdweW9kaWRlLmdldF9jb21wbGV0aW9ucygiIiknKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9KTsKICAgIH07CiAgfSk7CgogIHZhciBkYXRhTG9hZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICBNb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyA9CiAgICAgICAgKG4pID0+IHsKICAgICAgICAgIGlmIChuID09PSAwKSB7CiAgICAgICAgICAgIGRlbGV0ZSBNb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llczsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICB9KTsKCiAgUHJvbWlzZS5hbGwoWyBwb3N0UnVuUHJvbWlzZSwgZGF0YUxvYWRQcm9taXNlIF0pLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKTsKCiAgY29uc3QgZGF0YV9zY3JpcHRfc3JjID0gYCR7YmFzZVVSTH1weW9kaWRlLmFzbS5kYXRhLmpzYDsKICBsb2FkU2NyaXB0KGRhdGFfc2NyaXB0X3NyYywgKCkgPT4gewogICAgY29uc3Qgc2NyaXB0U3JjID0gYCR7YmFzZVVSTH1weW9kaWRlLmFzbS5qc2A7CiAgICBsb2FkU2NyaXB0KHNjcmlwdFNyYywgKCkgPT4gewogICAgICAvLyBUaGUgZW1zY3JpcHRlbiBtb2R1bGUgbmVlZHMgdG8gYmUgYXQgdGhpcyBsb2NhdGlvbiBmb3IgdGhlIGNvcmUKICAgICAgLy8gZmlsZXN5c3RlbSB0byBpbnN0YWxsIGl0c2VsZi4gT25jZSB0aGF0J3MgY29tcGxldGUsIGl0IHdpbGwgYmUgcmVwbGFjZWQKICAgICAgLy8gYnkgdGhlIGNhbGwgdG8gYG1ha2VQdWJsaWNBUElgIHdpdGggYSBtb3JlIGxpbWl0ZWQgcHVibGljIEFQSS4KICAgICAgc2VsZi5weW9kaWRlID0gcHlvZGlkZShNb2R1bGUpOwogICAgICBzZWxmLnB5b2RpZGUubG9hZGVkUGFja2FnZXMgPSB7fTsKICAgICAgc2VsZi5weW9kaWRlLmxvYWRQYWNrYWdlID0gbG9hZFBhY2thZ2U7CiAgICB9LCAoKSA9PiB7fSk7CiAgfSwgKCkgPT4ge30pOwp9KTsKbGFuZ3VhZ2VQbHVnaW5Mb2FkZXIK"),cn=atob("bGV0IHByaW50QnVmZmVyID0gW10KbGV0IGludGVydmFsSWQgPSBudWxsCmNvbnN0IGJhdGNoU2l6ZSA9IDUwCmxldCBydW5uaW5nID0gZmFsc2UKCi8qKgogKiBwcmludEJ1ZmZlciBzaG91bGQgb25seSBjb250YWluIHN0cmluZ3MsIGlmIGFuIG9iamVjdCBpcyBlbmNvdW50ZXJlZCBpdCdzIGFuIGlucHV0IHJlcXVlc3QKICogQHJldHVybnMgVGhlIGxhc3QgZWxlbWVudCwgaS5lLiBpbnB1dCByZXF1ZXN0IGZyb20gcHJpbnRCdWZmZXIKICovCmNvbnN0IGNoZWNrRm9ySW5wdXRNZXNzYWdlID0gKCkgPT4gewogIGxldCBtc2dPYmplY3QgPSBudWxsCiAgaWYgKHR5cGVvZiBwcmludEJ1ZmZlcltwcmludEJ1ZmZlci5sZW5ndGggLSAxXSA9PT0gIm9iamVjdCIpIHsKICAgIG1zZ09iamVjdCA9IHByaW50QnVmZmVyLnBvcCgpCiAgfQogIHJldHVybiBtc2dPYmplY3QKfQoKY29uc3QgcHJpbnRCdWZmZXJNYW5hZ2VyID0gKHJ1bkluSW50ZXJ2YWxzKSA9PiB7CiAgaWYgKGludGVydmFsSWQpIHsKICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkKICB9CiAgaWYgKHJ1bkluSW50ZXJ2YWxzKSB7CiAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBpZiAocHJpbnRCdWZmZXIubGVuZ3RoID4gMCkgewogICAgICAgIGxldCBpbnB1dE9iamVjdCA9IG51bGwKICAgICAgICAvLyBDb2RlIGhhbHRzIGF0IGlucHV0LCBpZiBpbnB1dCByZXF1ZXN0ZWQsIGl0J3MgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgYnVmZmVyLgogICAgICAgIGlmIChwcmludEJ1ZmZlci5sZW5ndGggPD0gYmF0Y2hTaXplKSB7CiAgICAgICAgICBpbnB1dE9iamVjdCA9IGNoZWNrRm9ySW5wdXRNZXNzYWdlKCkKICAgICAgICB9CiAgICAgICAgY29uc3QgYmF0Y2ggPSBwcmludEJ1ZmZlci5zcGxpY2UoMCwgYmF0Y2hTaXplKQogICAgICAgIHBvc3RNZXNzYWdlKHsgdHlwZTogInByaW50X2JhdGNoIiwgbXNnOiBiYXRjaCB9KQogICAgICAgIGlmIChpbnB1dE9iamVjdCkgcG9zdE1lc3NhZ2UoaW5wdXRPYmplY3QpCiAgICAgIH0KICAgICAgaWYgKCFydW5uaW5nICYmIHByaW50QnVmZmVyLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkKICAgICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6ICJwcmludF9kb25lIiB9KQogICAgICB9CiAgICB9LCAxMDApCiAgfQp9CgpsZXQgcHJldkRhdGUgPSBudWxsCi8qKgogKiBQeXRob24gcHJpbnQgYWxpYXMgd2hlbiBydW5uaW5nIHdpdGggUHlvZGlkZS4gaW5jbHVkZSBsaW5lcwogKiBgZnJvbSBqcyBpbXBvcnQgcHJpbnRgIGFuZCBgX19idWlsdGluc19fLnByaW50ID0gcHJpbnRgIHRvIHVzZS4KICovCmZ1bmN0aW9uIHByaW50KC4uLmFyZ3MpIHsKICBjb25zdCBrd2FyZ3MgPSBhcmdzLnBvcCgpCiAgY29uc3QgdGV4dCA9IGFyZ3Muam9pbihrd2FyZ3M/LnNlcCA/PyAiICIpICsgKGt3YXJncz8uZW5kID8/ICJcbiIpCiAgcHJpbnRCdWZmZXIucHVzaCh0ZXh0KQoKICAvLyBJZiBjb2RlIGlzIGluIGxvb3AsIGludGVydmFsTWFuYWdlciBkb2Vzbid0IHByaW50IGJhdGNoZXMoPykKICAvLyBUaGlzIGJlbG93IG1ha2VzIHN1cmUgdGhlcmUgYXJlIHByaW50cyBkb25lLgogIGNvbnN0IG5ld0RhdGUgPSBEYXRlLm5vdygpCiAgaWYgKG5ld0RhdGUgLSBwcmV2RGF0ZSA+IDUwKSB7CiAgICBwb3N0TWVzc2FnZSh7CiAgICAgIHR5cGU6ICJwcmludF9iYXRjaCIsCiAgICAgIG1zZzogcHJpbnRCdWZmZXIuc3BsaWNlKDAsIGJhdGNoU2l6ZSksCiAgICB9KQogICAgcHJldkRhdGUgPSBuZXdEYXRlCiAgfQp9CgpmdW5jdGlvbiBwcmludEVycm9yKC4uLmFyZ3MpIHsKICBjb25zdCBrd2FyZ3MgPSBhcmdzLnBvcCgpCiAgY29uc3QgdGV4dCA9IGFyZ3Muam9pbihrd2FyZ3M/LnNlcCA/PyAiICIpICsgKGt3YXJncz8uZW5kID8/ICJcbiIpCiAgcG9zdE1lc3NhZ2UoewogICAgdHlwZTogImVycm9yIiwKICAgIG1zZzogZml4TGluZU51bWJlck9mZnNldCh0ZXh0KSwKICB9KQp9Cgphc3luYyBmdW5jdGlvbiBpbnB1dFByb21pc2UoKSB7CiAgcHJpbnRCdWZmZXIucHVzaCh7IHR5cGU6ICJpbnB1dF9yZXF1aXJlZCIgfSkKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLmRhdGEudHlwZSA9PT0gImlucHV0IikgewogICAgICAgIHJlc29sdmUoZS5kYXRhLm1zZykKICAgICAgfQogICAgfSkKICB9KQp9Cgphc3luYyBmdW5jdGlvbiB3YWl0KG1zKSB7CiAgYXdhaXQgbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIG1zKSkKfQoKZnVuY3Rpb24gZXhpdCgpIHsKICBwb3N0TWVzc2FnZSh7IHR5cGU6ICJyZWFkeSIgfSkKICBydW5uaW5nID0gZmFsc2UKfQoKZnVuY3Rpb24gcnVuKHsgY29kZSwgZGVidWcgfSkgewogIC8vIEFzeW5jIGZ1bmN0aW9uIHdvcmthcm91bmQgZm9yIGlucHV0IGJ5IEFuZHJlYXMgS2xvc3Rlcm1hbm4KICAvLyBodHRwczovL2dpdGh1Yi5jb20vYWtsb3N0ZXIvYWlvd2ViLWRlbW8vYmxvYi9tYXN0ZXIvc3JjL21haW4ucHkKICBjb2RlID0gYFwKYXN5bmMgZGVmIGV4ZWN1dGUoKToKICAgIF9fbmFtZV9fID0gIl9fbWFpbl9fIgoke2NvZGUKICAucmVwbGFjZSgvXFwvZywgIlxcXFwiKQogIC5yZXBsYWNlKC8iIiIvZywgJ1xcIlxcIlxcIicpCiAgLnNwbGl0KCJcbiIpCiAgLm1hcCgoeCkgPT4gYCAgICAke3h9YCkKICAuam9pbigiXG4iKX0KICAgIHBhc3MgIyBTeW50YXhFcnJvcjogRU9GIC0gTWlzc2luZyBlbmQgcGFyZW50aGVzZXMgYXQgZW5kIG9mIGNvZGU/Cgpmcm9tIGZ1bmN0b29scyBpbXBvcnQgcGFydGlhbApmcm9tIGpzIGltcG9ydCBleGl0LCBpbnB1dFByb21pc2UsIHByaW50LCBwcmludEVycm9yLCB3YWl0CmltcG9ydCB0cmFjZWJhY2sKCmNsYXNzIFdyYXBwZWRQcm9taXNlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHByb21pc2UpOgogICAgICAgIHNlbGYucHJvbWlzZSA9IHByb21pc2UKICAgIGRlZiBfX2F3YWl0X18oc2VsZik6CiAgICAgICAgeCA9IHlpZWxkIHNlbGYucHJvbWlzZQogICAgICAgIHJldHVybiB4CgpkZWYgaW5wdXQocHJvbXB0PU5vbmUpOgogICAgaWYgcHJvbXB0OgogICAgICAgIHByaW50KHByb21wdCwgZW5kPSIiKQogICAgcmV0dXJuIFdyYXBwZWRQcm9taXNlKGlucHV0UHJvbWlzZSgpKQoKY2xhc3MgUHJvbWlzZUV4Y2VwdGlvbihSdW50aW1lRXJyb3IpOgogICAgcGFzcwoKY2xhc3MgV2ViTG9vcDoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmNvcm9zID0gW10KICAgIGRlZiBjYWxsX3Nvb24oc2VsZiwgY29ybyk6CiAgICAgICAgc2VsZi5zdGVwKGNvcm8pCiAgICBkZWYgc3RlcChzZWxmLCBjb3JvLCBhcmc9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB4ID0gY29yby5zZW5kKGFyZykKICAgICAgICAgICAgeCA9IHgudGhlbihwYXJ0aWFsKHNlbGYuc3RlcCwgY29ybykpCiAgICAgICAgICAgIHguY2F0Y2gocGFydGlhbChzZWxmLmZhaWwsY29ybykpCiAgICAgICAgZXhjZXB0IFN0b3BJdGVyYXRpb24gYXMgcmVzdWx0OgogICAgICAgICAgICBwYXNzCgogICAgZGVmIGZhaWwoc2VsZiwgY29ybyxhcmc9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjb3JvLnRocm93KFByb21pc2VFeGNlcHRpb24oYXJnKSkKICAgICAgICBleGNlcHQgU3RvcEl0ZXJhdGlvbjoKICAgICAgICAgICAgcGFzcwoKYXN5bmMgZGVmIHdyYXBfZXhlY3V0aW9uKCk6CiAgICB0cnk6CiAgICAgICAgYXdhaXQgZXhlY3V0ZSgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgdGIgPSB0cmFjZWJhY2suZm9ybWF0X2V4YygpCiAgICAgICAgcHJpbnRFcnJvcih0YikKICAgIGV4aXQoKQoKbG9vcCA9IFdlYkxvb3AoKQpsb29wLmNhbGxfc29vbih3cmFwX2V4ZWN1dGlvbigpKQpgCgogIHBhcnNlZENvZGUgPSBgCmltcG9ydCBhc3QKaW1wb3J0IHJlCgpjbGFzcyBQYXRjaENvZGUoYXN0Lk5vZGVUcmFuc2Zvcm1lcik6CiAgICBkZWYgZ2VuZXJpY192aXNpdChzZWxmLCBub2RlKToKICAgICAgc3VwZXIoKS5nZW5lcmljX3Zpc2l0KG5vZGUpCgogICAgICAjIFB5dGhvbiAzLjggaGlnaGVyIGFsbCBpcyBhc3QuQ29uc3RhbnQKICAgICAgaWYgaXNpbnN0YW5jZShub2RlLCBhc3QuQ29uc3RhbnQpOgogICAgICAgIHJlbW92ZV9wYWRkaW5nID0gcmUuc3ViKCdbXFxuXSAgICAnLCAnXFxuJywgbm9kZS52YWx1ZSkKICAgICAgICByZXN1bHQgPSBhc3QuQ29uc3RhbnQocmVtb3ZlX3BhZGRpbmcpCiAgICAgICAgcmV0dXJuIGFzdC5jb3B5X2xvY2F0aW9uKHJlc3VsdCwgbm9kZSkKICAgICAgIyBQeXRob24gdmVyIDMuOCBsb3dlciBhc3QuU3RyIGlzIHVzZWQKICAgICAgaWYgaXNpbnN0YW5jZShub2RlLCBhc3QuU3RyKToKICAgICAgICByZW1vdmVfcGFkZGluZyA9IHJlLnN1YignW1xcbl0gICAgJywgJ1xcbicsIG5vZGUucykKICAgICAgICByZXN1bHQgPSBhc3QuQ29uc3RhbnQocmVtb3ZlX3BhZGRpbmcpCiAgICAgICAgcmV0dXJuIGFzdC5jb3B5X2xvY2F0aW9uKHJlc3VsdCwgbm9kZSkKCiAgICAgIGlucHV0X2NvbmRpdGlvbnMgPSAoCiAgICAgICAgaXNpbnN0YW5jZShub2RlLCBhc3QuQ2FsbCkKICAgICAgICBhbmQgaXNpbnN0YW5jZShub2RlLmZ1bmMsIGFzdC5OYW1lKQogICAgICAgIGFuZCBub2RlLmZ1bmMuaWQgPT0gJ2lucHV0JwogICAgICApCiAgICAgIGlmIGlucHV0X2NvbmRpdGlvbnM6CiAgICAgICAgcmVzdWx0ID0gYXN0LkF3YWl0KG5vZGUpCiAgICAgICAgcmV0dXJuIGFzdC5jb3B5X2xvY2F0aW9uKHJlc3VsdCwgbm9kZSkKCiAgICAgIHJldHVybiBub2RlCgp0cmVlID0gYXN0LnBhcnNlKCIiIiR7Y29kZX0iIiIpCm9wdGltaXplciA9IFBhdGNoQ29kZSgpCnRyZWUgPSBvcHRpbWl6ZXIudmlzaXQodHJlZSkKY29kZSA9IGNvbXBpbGUodHJlZSwgIjxzdHJpbmc+IiwgImV4ZWMiKQpleGVjKGNvZGUpCmAKICBpZiAoZGVidWcpIHsKICAgIGNvbnNvbGUubG9nKHBhcnNlZENvZGUpCiAgfQogIGxhbmd1YWdlUGx1Z2luTG9hZGVyCiAgICAudGhlbigoKSA9PiB7CiAgICAgIHB5b2RpZGUKICAgICAgICAubG9hZFBhY2thZ2UoKQogICAgICAgIC50aGVuKCgpID0+IHBvc3RNZXNzYWdlKHsgdHlwZTogInN0YXJ0X3J1biIgfSkpCiAgICAgICAgLnRoZW4oKCkgPT4gcHlvZGlkZS5ydW5QeXRob25Bc3luYyhwYXJzZWRDb2RlKSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgICAgIHByaW50QnVmZmVyLnB1c2goewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtc2c6IGZpeExpbmVOdW1iZXJPZmZzZXQoZS50b1N0cmluZygpKSwKICAgICAgICAgIH0pCiAgICAgICAgICBleGl0KCkKICAgICAgICB9KQogICAgfSkKICAgIC5jYXRjaCgoZSkgPT4gewogICAgICBwcmludEJ1ZmZlciA9IFtdCiAgICAgIHByaW50QnVmZmVyLnB1c2goewogICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgbXNnOiBmaXhMaW5lTnVtYmVyT2Zmc2V0KGUudG9TdHJpbmcoKSksCiAgICAgIH0pCiAgICAgIGV4aXQoKQogICAgfSkKfQoKZnVuY3Rpb24gbGluZU9mZnNldFJlcGxhY2VyKG0sIG51bWJlciwgbywgcykgewogIHJldHVybiAibGluZSAiICsgKHBhcnNlSW50KG51bWJlcikgLSAyKS50b1N0cmluZygpCn0KCmZ1bmN0aW9uIGZpeExpbmVOdW1iZXJPZmZzZXQobXNnKSB7CiAgcmV0dXJuIG1zZy5yZXBsYWNlKC9saW5lXHMoXGQrKS9nLCBsaW5lT2Zmc2V0UmVwbGFjZXIpCn0KCmZ1bmN0aW9uIHRlc3QoeyBjb2RlLCBkZWJ1ZyB9KSB7CiAgaWYgKGRlYnVnKSB7CiAgICBjb25zb2xlLmxvZyhjb2RlKQogIH0KICBsYW5ndWFnZVBsdWdpbkxvYWRlcgogICAgLnRoZW4oKCkgPT4gewogICAgICBweW9kaWRlCiAgICAgICAgLmxvYWRQYWNrYWdlKCkKICAgICAgICAudGhlbigoKSA9PiBwb3N0TWVzc2FnZSh7IHR5cGU6ICJzdGFydF90ZXN0IiB9KSkKICAgICAgICAudGhlbigoKSA9PiBweW9kaWRlLnJ1blB5dGhvbkFzeW5jKGNvZGUpKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJydW5uaW5nIHB5b2RpZGUgY29tcGxldGVkIikKICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInRlc3RfcmVzdWx0cyIsCiAgICAgICAgICAgIG1zZzogSlNPTi5wYXJzZShweW9kaWRlLmdsb2JhbHMudGVzdE91dHB1dCksCiAgICAgICAgICB9KQogICAgICAgICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiAicmVhZHkiIH0pCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgICAgIHByaW50QnVmZmVyLnB1c2goeyB0eXBlOiAiZXJyb3IiLCBtc2c6IGUudG9TdHJpbmcoKSB9KQogICAgICAgIH0pCiAgICB9KQogICAgLmNhdGNoKChlKSA9PiB7CiAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgcHJpbnRCdWZmZXIucHVzaCh7IHR5cGU6ICJlcnJvciIsIG1zZzogZS50b1N0cmluZygpIH0pCiAgICB9KQogICAgLmZpbmFsbHkoKCkgPT4gKHJ1bm5pbmcgPSBmYWxzZSkpCn0KCnNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICBjb25zdCB7IHR5cGUsIG1zZyB9ID0gZS5kYXRhCiAgaWYgKHR5cGUgPT09ICJydW4iKSB7CiAgICBwcmludEJ1ZmZlck1hbmFnZXIodHJ1ZSkKICAgIHJ1bm5pbmcgPSB0cnVlCiAgICBwcmludEJ1ZmZlciA9IFtdCiAgICBydW4obXNnKQogIH0gZWxzZSBpZiAodHlwZSA9PT0gInN0b3AiKSB7CiAgICBwcmludEJ1ZmZlck1hbmFnZXIoZmFsc2UpCiAgfSBlbHNlIGlmICh0eXBlID09PSAicnVuX3Rlc3RzIikgewogICAgcHJpbnRCdWZmZXJNYW5hZ2VyKHRydWUpCiAgICBydW5uaW5nID0gdHJ1ZQogICAgcHJpbnRCdWZmZXIgPSBbXQogICAgLy9jb25zb2xlLmxvZyhtc2cpCiAgICB0ZXN0KG1zZykKICB9Cn0K"),ln=on.version,sn=URL.createObjectURL(new Blob([an,cn],{type:"application/javascript"}));console.log("Creating first worker");var un,gn,dn=[new Worker(sn)],pn=function(e){var t=e.debug,n=Object(c.useState)(),r=n[0],o=n[1],a=Object(c.useState)([]),i=a[0],l=a[1];return Object(c.useEffect)((function(){r&&(i.forEach((function(e){return r.postMessage(e)})),l([]))}),[r]),[{setMessageListener:function(e){r&&(r.onmessage=e)},postMessage:function(e){r?r.postMessage(e):(l((function(t){return t.concat(e)})),function(){t&&console.log("Workerpool length is",dn.length);var e=dn.pop();0===dn.length?(t&&console.log("Creating another worker"),dn.push(new Worker(sn))):t&&console.log("Returning worker without creating new"),o(e)}())},recycle:function(){r&&(dn.push(r),t&&console.log("Recycling worker, pool size:",dn.length)),o(void 0)},terminate:function(){t&&console.log("Terminating worker"),r&&(r.onmessage=null,r.terminate(),o(void 0))}}]},mn=n("52Kp"),bn=function(e,t){return fn(e.content,[e.shortName],t)},fn=function(e,t,n){var r=/^import \./,o=/^from \.\w+ import/;return e.split("\n").map((function(e,a){return e.match(r)?In(hn(e),t,n):e.match(o)?Cn(vn(e),a,t,n):e})).join("\n")},In=function(e,t,n){var r=e.pkg+".py";if(t.includes(r))throw r+" has already been imported. Mutually recursive imports are not allowed.";var o=yn(r,n);return"\n"+fn(o,t.concat([r]),n)+"\n"},Cn=function(e,t,n,r){var o=e.pkg+".py";if(n.includes(o))throw o+" has already been imported. Mutually recursive imports are not allowed.";var a=yn(o,r),i=fn(a,n.concat([o]),r).split("\n").map((function(e){return"\t"+e})),c=e.names.join(", "),l="__wrap"+t;return"def "+l+"():\n"+(i.join("\n")+"\n")+("\treturn "+c+"\n")+(c+" = "+l+"()")},hn=function(e){var t=e.match(/^import \.(\w+)[ \t]*$/);if(t)return{pkg:t[1]};throw"Malformed import statement"},vn=function(e){var t=e.match(/^from \.(\w+) import ([\w,\s]+)/);if(t)return{pkg:t[1],names:t[2].split(",").map((function(e){return e.trim()}))};throw"Malformed import statement: "+e},yn=function(e,t){return console.log(e),console.log(t),t.filter((function(t){return t.shortName===e}))[0].content},An=function(){return(An=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function c(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Zn=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},xn=function(e,t){return wn(void 0,void 0,void 0,(function(){var n,r,o,a,i,c,l,s,u,g;return Zn(this,(function(d){switch(d.label){case 0:return n=t.t,[4,Gn(e)];case 1:return r=d.sent(),[4,Gn(e,"src")];case 2:return o=d.sent(),[4,Gn(e,"test")];case 3:return a=d.sent(),[4,Gn(e,"tmc")];case 4:i=d.sent(),c=[],l=!0,s=function(e){return e.sort((function(e,t){return e.shortName.localeCompare(t.shortName)}))},0===(u=o.length>0?s(o):s(r)).length&&c.push(n("noExerciseFilesFound")),g="";try{g=jn(a,i)}catch(p){Array.isArray(p)?c.push.apply(c,p):c.push(p),l=!1}return[2,{problems:c,srcFiles:u,successful:l,testSource:g}]}}))}))},Gn=function(e,t,n){var r=t?RegExp(t+"/\\w*\\.py$"):/^\w+\/\w+\/\w*\.py$/,o=kn(e.file(r),n);return Promise.all(o.map((function(e){return Bn(e)})))},Bn=function(e){return wn(void 0,void 0,void 0,(function(){var t,n,r,o;return Zn(this,(function(a){switch(a.label){case 0:return[4,e.async("string")];case 1:return t=a.sent(),n=e.name,r=n.match(/(\w+\.py)/),o=null,r?(o=r[0],[2,{fullName:n,shortName:o,originalContent:t,content:t}]):[2,{fullName:"",shortName:"",originalContent:"",content:""}]}}))}))},kn=function(e,t){if(t){var n=e.findIndex((function(e){return e.name.includes(t)}));if(n>-1){var r=e.splice(n,1)[0];return e.unshift(r),e}}return e},Wn=function(e){return'"""\n'+e.replace(/\\/g,"\\\\").replace(/"""/g,'\\"\\"\\"')+'\n"""'},jn=function(e,t){var n=On(e),r=En("hmac_writer.py",t,{content:"# old template",fullName:"",originalContent:"",shortName:"hmac_writer.py"}),o=En("points.py",t),a=En("result.py",t),i=En("runner.py",t),c=En("utils.py",t);return'\nimport base64, contextlib, importlib, io, json, sys\nfrom types import ModuleType\n\n_stdout_pointer = 0\n\ndef __wrap_import(module_name, code):\n    mod = ModuleType(module_name)\n    sys.modules[module_name] = mod\n    exec(code, mod.__dict__)\n\n__wrap_import("tmc_webeditor", __webeditor_module_source)\n\n__wrap_import("tmc_hmac_writer", '+Wn(Vn(r,t))+')\n__wrap_import("tmc_points", '+Wn(Vn(o,t))+')\n__wrap_import("tmc_result", '+Wn(Vn(a,t))+')\n__wrap_import("tmc_runner", '+Wn(Vn(i,t))+')\n__wrap_import("tmc_utils", '+Wn(Vn(c,t))+")\n\n"+Sn(n,"PythonEditorTest",e)+'\n\ntestOutput = ""\nfrom tmc_runner import TMCTestRunner\nfrom tmc_webeditor import code\n\nimport inspect\ndef getsource(module):\n    return code\ninspect.getsource = getsource\n\ntest_suite = unittest.TestLoader().loadTestsFromTestCase(PythonEditorTest)\nwith io.StringIO() as buf:\n    with contextlib.redirect_stdout(buf):\n        TMCTestRunner(stream=buf).run(test_suite)\n    from tmc_result import results\n    testOutput = json.dumps(results, ensure_ascii=False)\n    print(testOutput)\n'},En=function(e,t,n){var r=t.find((function(t){return t.shortName===e}));if(!r){if(n)return n;throw'Expected to find file "'+e+'"'}return r},On=function(e){var t=e.find((function(e){return"__init__.py"!==e.shortName}));if(!t)throw"Couldn't find test file";return t},Sn=function(e,t,n){var r=e.content.split("\n").map((function(e){var n=e.match(/^from tmc import ([\w,\s]+)/);if(n)return n[1].split(",").map((function(e){return"from tmc_"+e.trim()+" import "+e.trim()})).join("\n");var r=e.match(/from tmc\.(\w+) import ([\w,\s]+)/);return r?"from tmc_"+r[1]+" import "+r[2]:e.replace(/\w+Test\(unittest.TestCase\)/,t+"(unittest.TestCase)")})).join("\n");return bn(An(An({},e),{content:r}),n)},Vn=function(e,t){var n=e.content.split("\n").map((function(e){var t=e.match(/^import \.(\w+)/);return t?"import tmc_"+t[1]:(t=e.match(/^from \.(\w+) import ([\w,\s]+)/))||(t=e.match(/from tmc\.(\w+) import ([\w,\s]+)/))?"from tmc_"+t[1]+" import "+t[2]:e})).join("\n");switch(e.shortName){case"utils.py":n=Nn(n)}return bn(An(An({},e),{content:n}),t)},Nn=function(e){for(var t=!1,n=!1,r=!1,o=["import inspect","def getsource(module):","    return code","inspect.getsource = getsource"].concat(e.split("\n")),a=0;a<o.length;){var i=o[a];if(i.startsWith("_stdout_pointer"))t=!0,a++;else if(i.startsWith("def load_module")){n=!0;var c=Fn(o,a),l='    from types import ModuleType\n    from tmc_webeditor import code\n    mod = ModuleType("editorcontent")\n    try:\n        exec(code, mod.__dict__)\n    except Exception as e:\n        return AssertionError(e)\n    return mod\n'.split("\n");o=Yn(o,a+1,c,l),a+=l.length}else if(i.startsWith("def reload_module")){r=!0;c=Fn(o,a),l='    global _stdout_pointer\n    if isinstance(module, AssertionError):\n        raise module\n    _stdout_pointer = len(sys.stdout.getvalue())\n    return load_module("editorcontent")\n'.split("\n");o=Yn(o,a+1,c,l),a+=l.length}else a++}var s=[];if(!t&&s.push("Expected to find global `_stdout_pointer` from tmc/utils.py."),!n&&s.push("Expected to find function `load_module` from tmc/utils.py."),!r&&s.push("Expected to find function `reload_module` from tmc/utils.py."),s.length>0)throw s;return o.join("\n")},Yn=function(e,t,n,r){return e.slice(0,t).concat(r).concat(e.slice(n))},Fn=function(e,t){for(var n=Hn(e[t]),r=t+1;r<e.length&&n<Hn(e[r]);)r++;return r},Hn=function(e){return""===e.trim()?Number.MAX_SAFE_INTEGER:e.search(/\S/)},Kn=n("wHSu"),Rn=n("IP2g"),Xn=n("r9w1"),Tn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ln=s.b.div(un||(un=Tn(["\n  white-space: pre-wrap;\n"],["\n  white-space: pre-wrap;\n"]))),Jn=s.b.span(gn||(gn=Tn(["\n  background-color: #efefef;\n  border-radius: 3px 3px 3px 3px;\n  color: #292929;\n  margin: 3px;\n  padding: 3px;\n"],["\n  background-color: #efefef;\n  border-radius: 3px 3px 3px 3px;\n  color: #292929;\n  margin: 3px;\n  padding: 3px;\n"]))),Pn=function(e){var t=e.inputRequested,n=e.outputContent,r=e.scrollToBottom,o=e.sendInput,a=Object(w.a)()[0],i=l.a.createRef();Object(c.useEffect)((function(){var e;r(),t&&(null===(e=null==i?void 0:i.current)||void 0===e||e.focus())}),[t,n]);return l.a.createElement(Ln,null,l.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},n.map((function(e){switch(e.type){case"input":return l.a.createElement(Jn,{key:e.id},e.text);default:return l.a.createElement(l.a.Fragment,{key:e.id},e.text)}}))),t&&l.a.createElement(Xn.a,{inputRef:i,label:a("enterInputAndPressEnter"),margin:"dense",variant:"outlined",InputLabelProps:{shrink:!0},onKeyPress:function(e){"Enter"===e.key&&t&&o(e.target.value)},style:{display:"block"},"data-cy":"user-input-field"}))},zn=n("i8i4"),Un=n("2+6g"),Dn=n("bqsI"),Mn=n("8L3F"),Qn=n("aXM8"),_n=n("bjog"),qn=n("x6Ns"),$n=n("GIek");function er(e){return"function"==typeof e?e():e}var tr="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,nr={},rr=c.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,o=e.container,a=e.disablePortal,i=void 0!==a&&a,l=e.keepMounted,s=void 0!==l&&l,u=e.modifiers,g=e.open,d=e.placement,p=void 0===d?"bottom":d,m=e.popperOptions,b=void 0===m?nr:m,f=e.popperRef,I=e.style,C=e.transition,h=void 0!==C&&C,v=Object(Oe.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),y=c.useRef(null),A=Object(st.a)(y,t),w=c.useRef(null),Z=Object(st.a)(w,f),x=c.useRef(Z);tr((function(){x.current=Z}),[Z]),c.useImperativeHandle(f,(function(){return w.current}),[]);var G=c.useState(!0),B=G[0],k=G[1],W=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,Object(Qn.a)()),j=c.useState(W),E=j[0],O=j[1];c.useEffect((function(){w.current&&w.current.update()}));var S=c.useCallback((function(){if(y.current&&n&&g){w.current&&(w.current.destroy(),x.current(null));var e=function(e){O(e.placement)},t=(er(n),new Mn.a(er(n),y.current,Object(tt.a)({placement:W},b,{modifiers:Object(tt.a)({},i?{}:{preventOverflow:{boundariesElement:"window"}},u,b.modifiers),onCreate:Object(qn.a)(e,b.onCreate),onUpdate:Object(qn.a)(e,b.onUpdate)})));x.current(t)}}),[n,i,u,g,W,b]),V=c.useCallback((function(e){Object($n.a)(A,e),S()}),[A,S]),N=function(){w.current&&(w.current.destroy(),x.current(null))};if(c.useEffect((function(){return function(){N()}}),[]),c.useEffect((function(){g||h||N()}),[g,h]),!s&&!g&&(!h||B))return null;var Y={placement:E};return h&&(Y.TransitionProps={in:g,onEnter:function(){k(!1)},onExited:function(){k(!0),N()}}),c.createElement(_n.a,{disablePortal:i,container:o},c.createElement("div",Object(tt.a)({ref:V,role:"tooltip"},v,{style:Object(tt.a)({position:"fixed",top:0,left:0,display:g||!s||h?null:"none"},I)}),"function"==typeof r?r(Y):r))})),or=n("wRgb");function ar(e){return Math.round(1e5*e)/1e5}var ir=!1,cr=null;var lr=c.forwardRef((function(e,t){var n=e.arrow,r=void 0!==n&&n,o=e.children,a=e.classes,i=e.disableFocusListener,l=void 0!==i&&i,s=e.disableHoverListener,u=void 0!==s&&s,g=e.disableTouchListener,d=void 0!==g&&g,p=e.enterDelay,m=void 0===p?100:p,b=e.enterNextDelay,f=void 0===b?0:b,I=e.enterTouchDelay,C=void 0===I?700:I,h=e.id,v=e.interactive,y=void 0!==v&&v,A=e.leaveDelay,w=void 0===A?0:A,Z=e.leaveTouchDelay,x=void 0===Z?1500:Z,G=e.onClose,B=e.onOpen,k=e.open,W=e.placement,j=void 0===W?"bottom":W,E=e.PopperComponent,O=void 0===E?rr:E,S=e.PopperProps,V=e.title,N=e.TransitionComponent,Y=void 0===N?Dn.a:N,F=e.TransitionProps,H=Object(Oe.a)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),K=Object(ot.a)(),R=c.useState(),X=R[0],T=R[1],L=c.useState(null),J=L[0],P=L[1],z=c.useRef(!1),U=c.useRef(),D=c.useRef(),M=c.useRef(),Q=c.useRef(),_=Object(gt.a)({controlled:k,default:!1,name:"Tooltip",state:"open"}),q=Object(be.a)(_,2),$=q[0],ee=q[1],te=$,ne=Object(or.a)(h);c.useEffect((function(){return function(){clearTimeout(U.current),clearTimeout(D.current),clearTimeout(M.current),clearTimeout(Q.current)}}),[]);var re=function(e){clearTimeout(cr),ir=!0,ee(!0),B&&B(e)},oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=o.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),z.current&&"touchstart"!==t.type||(X&&X.removeAttribute("title"),clearTimeout(D.current),clearTimeout(M.current),m||ir&&f?(t.persist(),D.current=setTimeout((function(){re(t)}),ir?f:m)):re(t))}},ae=Object(it.a)(),ie=ae.isFocusVisible,ce=ae.onBlurVisible,le=ae.ref,se=c.useState(!1),ue=se[0],ge=se[1],de=function(){ue&&(ge(!1),ce())},pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){X||T(t.currentTarget),ie(t)&&(ge(!0),oe()(t));var n=o.props;n.onFocus&&e&&n.onFocus(t)}},me=function(e){clearTimeout(cr),cr=setTimeout((function(){ir=!1}),800+w),ee(!1),G&&G(e),clearTimeout(U.current),U.current=setTimeout((function(){z.current=!1}),K.transitions.duration.shortest)},fe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=o.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),de()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===X&&n.onMouseLeave(t),clearTimeout(D.current),clearTimeout(M.current),t.persist(),M.current=setTimeout((function(){me(t)}),w)}},Ie=function(e){z.current=!0;var t=o.props;t.onTouchStart&&t.onTouchStart(e)},Ce=Object(st.a)(T,t),he=Object(st.a)(le,Ce),ve=c.useCallback((function(e){Object($n.a)(he,zn.findDOMNode(e))}),[he]),ye=Object(st.a)(o.ref,ve);""===V&&(te=!1);var Ae=!te&&!u,we=Object(tt.a)({"aria-describedby":te?ne:null,title:Ae&&"string"==typeof V?V:null},H,o.props,{className:Object(nt.a)(H.className,o.props.className),onTouchStart:Ie,ref:ye}),Ze={};d||(we.onTouchStart=function(e){Ie(e),clearTimeout(M.current),clearTimeout(U.current),clearTimeout(Q.current),e.persist(),Q.current=setTimeout((function(){oe()(e)}),C)},we.onTouchEnd=function(e){o.props.onTouchEnd&&o.props.onTouchEnd(e),clearTimeout(Q.current),clearTimeout(M.current),e.persist(),M.current=setTimeout((function(){me(e)}),x)}),u||(we.onMouseOver=oe(),we.onMouseLeave=fe(),y&&(Ze.onMouseOver=oe(!1),Ze.onMouseLeave=fe(!1))),l||(we.onFocus=pe(),we.onBlur=fe(),y&&(Ze.onFocus=pe(!1),Ze.onBlur=fe(!1)));var xe=c.useMemo((function(){return Object(Un.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(J),element:J}}}},S)}),[J,S]);return c.createElement(c.Fragment,null,c.cloneElement(o,we),c.createElement(O,Object(tt.a)({className:Object(nt.a)(a.popper,y&&a.popperInteractive,r&&a.popperArrow),placement:j,anchorEl:X,open:!!X&&te,id:we["aria-describedby"],transition:!0},Ze,xe),(function(e){var t=e.placement,n=e.TransitionProps;return c.createElement(Y,Object(tt.a)({timeout:K.transitions.duration.shorter},n,F),c.createElement("div",{className:Object(nt.a)(a.tooltip,a["tooltipPlacement".concat(Object(ut.a)(t.split("-")[0]))],z.current&&a.touch,r&&a.tooltipArrow)},V,r?c.createElement("span",{className:a.arrow,ref:P}):null))})))})),sr=Object(rt.a)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(at.c)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(ar(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(at.c)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(ar(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Object(me.a)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(me.a)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(me.a)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(me.a)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(lr),ur=n("pdwK"),gr=n("668i"),dr=n("RD7I"),pr=n("cNwE");var mr,br,fr,Ir,Cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(dr.a)(e,Object(tt.a)({defaultTheme:pr.a},t))}({problemsButton:{backgroundColor:"#BF0000",marginLeft:"10px !important"},runButton:{backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8",color:"#228B22"}},stopButton:{backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8",color:"#F44141"}},testButton:{backgroundColor:"#EBEBEB",color:"#FF7518",marginLeft:"10px !important","&:hover":{backgroundColor:"#D5D5D5",color:"#FF7518"}},normalButton:{backgroundColor:"#EBEBEB",marginLeft:"10px !important","&:hover":{backgroundColor:"#D5D5D5"}},blueButton:{margin:"5px",backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8"}},darkButton:{margin:"5px",backgroundColor:"#696969",color:"#FFF","&:hover":{backgroundColor:"#808080"},"&:disabled":{backgroundColor:"#A9A9A9"}},whiteText:{color:"#FFF",paddingLeft:"5px"},allTestsPassedPaper:{borderLeft:"10px solid #4caf50",margin:"5px",padding:"10px","& h2":{color:"#4caf50"}}}),hr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},vr=function(){return(vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function c(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Ar=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},wr=Object(rt.a)((function(e){return{tooltip:{backgroundColor:"#D3D3D3",color:"black",minWidth:400,maxWidth:600,fontSize:e.typography.pxToRem(12)},arrow:{color:"#D3D3D3"}}}))(sr),Zr=Object(s.b)((function(e){return l.a.createElement(ur.a,vr({},e))}))(mr||(mr=hr(["\n  margin: 1rem;\n  width: 60%;\n"],["\n  margin: 1rem;\n  width: 60%;\n"]))),xr=function(e){var t=e.getPasteUrl,n=e.pasteDisabled,r=Object(c.useState)(!1),o=r[0],a=r[1],i=Object(c.useState)(!1),s=i[0],u=i[1],g=Object(c.useState)(),d=g[0],p=g[1],m=Object(c.useState)(!1),b=m[0],f=m[1],I=Object(c.useState)(!1),C=I[0],h=I[1],v=Object(w.a)()[0],y=Cr(),A=function(){f(!1),h(!1),u(!1),p(void 0),a(!1)},Z=function(){return yr(void 0,void 0,void 0,(function(){return Ar(this,(function(e){return t().then((function(e){p(e),u(!0)})).catch((function(e){p(e)})),[2]}))}))},x=function(){var e=document.getElementById("textField");e instanceof HTMLInputElement&&(e.select(),document.execCommand("copy"),a(!0))};return l.a.createElement(gr.a,{onClickAway:A},l.a.createElement("div",null,l.a.createElement(wr,{PopperProps:{disablePortal:!1},onClose:A,open:b,interactive:!0,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"bottom-end",title:l.a.createElement("div",{style:{margin:"10px"}},l.a.createElement(qe.a,null,v("tmcPasteDescription")),d&&l.a.createElement("div",null,l.a.createElement(Zr,{id:"textField",value:d,"data-cy":"paste-input",readOnly:!0}),document.queryCommandSupported("copy")&&l.a.createElement(G.a,{className:y.blueButton,"data-cy":"copy-text-btn",onClick:x},v("button.copy")),o&&l.a.createElement("span",{style:{paddingLeft:"3px"}},v("copiedConfirmation"))),l.a.createElement(G.a,{className:y.darkButton,onClick:Z,disabled:s,"data-cy":"send-to-paste-btn"},v("sendToTmcPaste"))),arrow:!0},l.a.createElement(G.a,{variant:"contained",disabled:n,onClick:C?A:function(){f(!0),h(!0)},"data-cy":"need-help-btn",className:y.blueButton},v("needHelp")))))},Gr=n("ZGBi"),Br=n("VmPI"),kr=n("de8u"),Wr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},jr=Object(rt.a)((function(e){return{root:{height:25,borderRadius:10},colorPrimary:{borderRadius:10},bar:{borderRadius:10,backgroundColor:"#0275d8"}}}))(kr.a),Er=s.b.div(br||(br=Wr(["\n  width: 100%;\n  height: 25px;\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n"],["\n  width: 100%;\n  height: 25px;\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n"]))),Or=Object(s.b)(qe.a)(fr||(fr=Wr(["\n  width: 100%;\n  color: white;\n  z-index: 1;\n  display: block;\n  position: absolute;\n"],["\n  width: 100%;\n  color: white;\n  z-index: 1;\n  display: block;\n  position: absolute;\n"]))),Sr=function(e){var t=e.percentage;return t||0===t?l.a.createElement("div",{style:{marginLeft:"10px"}},l.a.createElement(Er,null,l.a.createElement(Or,{variant:"button"},t," %"),l.a.createElement(jr,{variant:"determinate",value:t}))):null},Vr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Nr=function(){return(Nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Yr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};!function(e){e.Orange="rgb(255, 128, 0)",e.Gray="#E8E8E8"}(Ir||(Ir={}));var Fr,Hr,Kr,Rr,Xr,Tr,Lr,Jr,Pr,zr,Ur,Dr,Mr,Qr=Object(s.b)((function(e){e.backgroundColor;var t=Yr(e,["backgroundColor"]);return l.a.createElement(x.a,Nr({container:!0,item:!0,direction:"row",alignItems:"center",justify:"space-between"},t))}))(Fr||(Fr=Vr(["\n  background-color: ",";\n  color: black;\n  border-radius: 3px 3px 0 0;\n  padding: 5px;\n"],["\n  background-color: ",";\n  color: black;\n  border-radius: 3px 3px 0 0;\n  padding: 5px;\n"])),(function(e){return e.backgroundColor})),_r=Object(s.b)(qe.a)(Hr||(Hr=Vr(["\n  display: inline-block;\n  padding: 5px;\n  margin-left: 10px !important;\n  color: #252525;\n"],["\n  display: inline-block;\n  padding: 5px;\n  margin-left: 10px !important;\n  color: #252525;\n"]))),qr=Object(s.b)(x.a)(Kr||(Kr=Vr(["\n  padding: 10px;\n  display: table-cell;\n"],["\n  padding: 10px;\n  display: table-cell;\n"]))),$r=Object(s.b)(G.a)(Rr||(Rr=Vr(["\n  margin: 5px !important;\n"],["\n  margin: 5px !important;\n"]))),eo=function(e){return l.a.createElement(x.a,{container:!0,direction:"column"},e.children)},to=function(e){return l.a.createElement($r,{disabled:e.disabled,onClick:e.onClick,variant:"contained","data-cy":e.dataCy,className:e.className},e.label)},no=Object(s.b)(qe.a)(Xr||(Xr=Vr(["\n  margin: 0 10px !important;\n  color: black;\n"],["\n  margin: 0 10px !important;\n  color: black;\n"]))),ro=function(e){return l.a.createElement(qr,null,e.children)},oo=function(e){var t=e.children,n=e.color,r=e.title;return l.a.createElement(Qr,{backgroundColor:n},l.a.createElement(x.a,{item:!0,xs:4},l.a.createElement(_r,{variant:"h6"},r)),l.a.createElement(x.a,{container:!0,item:!0,xs:8,alignItems:"center",justify:"flex-end"},t))},ao=function(e){var t=e.children,n=e.color,r=e.percentage,o=e.showAll,a=e.setShowAll,i=e.showAllDisabled,c=Object(w.a)()[0];return l.a.createElement(Qr,{backgroundColor:n},l.a.createElement(x.a,{style:{borderRight:"solid 1px lightgray"},item:!0,xs:3},l.a.createElement(Gr.a,{label:c("showAll"),style:{paddingLeft:"5px"},control:l.a.createElement(Br.a,{checked:o,disabled:i,onChange:function(){return null==a?void 0:a(!o)},color:"primary","data-cy":"show-all-results-checkbox"})})),l.a.createElement(x.a,{item:!0,xs:6},l.a.createElement(Sr,{percentage:r})),l.a.createElement(x.a,{container:!0,item:!0,xs:3,alignItems:"center",justify:"flex-end"},t))},io=function(e){var t=e.children,n=e.color,r=Object(w.a)()[0];return l.a.createElement(Qr,{backgroundColor:n},l.a.createElement(x.a,{style:{borderRight:"solid 1px lightgray"},item:!0,xs:3},l.a.createElement(Gr.a,{label:r("showAll"),style:{paddingLeft:"5px"},control:l.a.createElement(Br.a,{checked:!1,disabled:!0,color:"primary","data-cy":"show-all-results-checkbox"})})),l.a.createElement(x.a,{item:!0,xs:5}),l.a.createElement(x.a,{container:!0,item:!0,xs:4,alignItems:"center",justify:"flex-end"},t))},co=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},lo=s.b.div(Tr||(Tr=co(["\n  max-height: ",";\n  min-height: 100px;\n  overflow: auto;\n"],["\n  max-height: ",";\n  min-height: 100px;\n  overflow: auto;\n"])),(function(e){return e.maxHeight&&"auto"!==e.maxHeight?e.maxHeight:"500px"})),so=l.a.forwardRef((function(e,t){var n=e.children,r=e.maxHeight,o=l.a.createRef(),a=function(){(null==o?void 0:o.current)&&(o.current.scrollTop=o.current.scrollHeight)},i=function(){(null==o?void 0:o.current)&&(o.current.scrollTop=0)};return Object(c.useImperativeHandle)(t,(function(){return{scrollToBottom:a,scrollToTop:i}})),l.a.createElement(lo,{maxHeight:r,ref:o},n)})),uo=so,go=function(e){var t=e.editorState,n=e.getPasteLink,r=e.onClose,o=e.outputContent,a=e.outputHeight,i=e.pasteDisabled,c=e.sendInput,s=Object(w.a)()[0],u=l.a.createRef(),g=t===Re.WorkerInitializing,d=0!=(t&Re.WorkerActive),p=t===Re.WaitingInput;return l.a.createElement(eo,null,l.a.createElement(oo,{title:s("outputTitle"),color:p?Ir.Orange:Ir.Gray},p?l.a.createElement(l.a.Fragment,null,l.a.createElement(Rn.a,{icon:Kn.k}),l.a.createElement(no,null,s("waitingForInput"))):d?l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{size:25,color:"inherit",disableShrink:!0}),l.a.createElement(no,null,s(g?"initializing":"running"))):null,l.a.createElement(xr,{getPasteUrl:n,pasteDisabled:d||i}),l.a.createElement(to,{label:s("button.close"),onClick:r,dataCy:"close-btn"})),l.a.createElement(ro,null,l.a.createElement(uo,{maxHeight:a,ref:u},l.a.createElement(Pn,{inputRequested:p,outputContent:o,scrollToBottom:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.scrollToBottom()},sendInput:c}))))},po=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},mo=function(){return(mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},bo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},fo=Object(s.b)((function(e){e.passed;var t=bo(e,["passed"]);return l.a.createElement(ze.a,mo({},t))}))(Lr||(Lr=po(["\n  border-left: 10px solid ",";\n  margin: 5px;\n  padding: 10px;\n"],["\n  border-left: 10px solid ",";\n  margin: 5px;\n  padding: 10px;\n"])),(function(e){return e.passed?"#4caf50":"#f44336"})),Io=Object(s.b)((function(e){e.passed;var t=bo(e,["passed"]);return l.a.createElement(qe.a,mo({},t))}))(Jr||(Jr=po(["\n  color: ",";\n  font-weight: 700;\n"],["\n  color: ",";\n  font-weight: 700;\n"])),(function(e){return e.passed?"#4caf50":"#f44336"})),Co=function(e){var t,n,r,o=e.testName,a=e.passed,i=e.feedback,c=o.match(/(\w+)\.(\w+)$/),s=c?c[1]+": "+c[2]:o,u=a?"PASS":"FAIL";return l.a.createElement(fo,{passed:a,"data-cy":"test-result"},l.a.createElement(Io,{passed:a},u,": ",s),l.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},(n=(t=i).match(/^False is not true : ([\s\S]+)/i),r=t.match(/^True is not false : ([\s\S]+)/i),n?n[1]:r?r[1]:t)))},ho=function(e){var t=e.results,n=e.showAllTests,r=e.children;return t.testCases&&0!==t.testCases.length?l.a.createElement(x.a,{container:!0,direction:"row",justify:"space-between"},l.a.createElement(x.a,{item:!0,xs:12},r,function(){if(!n){var e=t.testCases.find((function(e){return!1===e.passed}));if(e)return l.a.createElement(Co,{key:e.id,testName:e.testName,passed:e.passed,feedback:e.feedback})}var r=t.testCases.map((function(e){return l.a.createElement(Co,{key:e.id,testName:e.testName,passed:e.passed,feedback:e.feedback})}));return l.a.createElement(l.a.Fragment,null,n&&r)}())):null},vo=function(e){var t=e.getPasteLink,n=e.onClose,r=e.onSubmit,o=e.outputHeight,a=e.submitDisabled,i=e.testResults,s=Object(w.a)()[0],u=Object(c.useState)(!1),g=u[0],d=u[1],p=l.a.createRef(),m=Cr(),b=Math.round(100*i.testCases.filter((function(e){return e.passed})).length/i.testCases.length),f=function(){return l.a.createElement(to,{disabled:a,label:s("button.submit"),onClick:r,dataCy:"submit-btn",className:m.blueButton})};return l.a.createElement(eo,null,l.a.createElement(oo,{title:s("testResults"),color:Ir.Gray},l.a.createElement(xr,{getPasteUrl:t,pasteDisabled:a}),l.a.createElement(to,{label:s("button.close"),onClick:n,dataCy:"close-btn"})),l.a.createElement(ro,null,l.a.createElement(uo,{maxHeight:o,ref:p},l.a.createElement(ho,{results:i,showAllTests:g},i.allTestsPassed&&l.a.createElement(ze.a,{className:m.allTestsPassedPaper},l.a.createElement("h2",null,s("allTestsPassed")),l.a.createElement("p",null,s("rememberToSubmitToServer")),l.a.createElement(f,null))))),l.a.createElement(ao,{color:Ir.Gray,percentage:b,showAll:g,setShowAll:d,showAllDisabled:1===i.testCases.length},!i.allTestsPassed&&l.a.createElement(f,null)))},yo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ao=function(){return(Ao=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Zo=Object(s.b)($e.a)(Pr||(Pr=yo(["\n  && {\n    margin-right: 10px;\n  }\n"],["\n  && {\n    margin-right: 10px;\n  }\n"]))),xo=Object(s.b)((function(e){e.points;var t=wo(e,["points"]);return l.a.createElement(ze.a,Ao({},t))}))(zr||(zr=yo(["\n  border-left: 10px solid #4caf50;\n  margin: 5px;\n  padding: 10px;\n"],["\n  border-left: 10px solid #4caf50;\n  margin: 5px;\n  padding: 10px;\n"]))),Go=function(e){var t=e.points,n=Object(w.a)()[0];return l.a.createElement(xo,{points:!0,"data-cy":"submission-points"},n("pointsAwarded"),": ",t.map((function(e){return l.a.createElement(Zo,{key:e,label:e,variant:"outlined"})})))},Bo=function(e){var t,n=e.getPasteLink,r=e.onClose,o=e.onSubmit,a=e.testResults,i=e.pasteDisabled,s=e.outputHeight,u=Object(w.a)()[0],g=Object(c.useState)(!1),d=g[0],p=g[1],m=Cr(),b=Math.round(100*a.testCases.filter((function(e){return e.passed})).length/a.testCases.length),f=l.a.createRef();return l.a.createElement(eo,null,l.a.createElement(oo,{title:u("submissionResult"),color:Ir.Gray},l.a.createElement(xr,{getPasteUrl:n,pasteDisabled:i}),l.a.createElement(to,{label:u("button.close"),onClick:r,dataCy:"close-btn"})),l.a.createElement(ro,null,l.a.createElement(uo,{maxHeight:s,ref:f},l.a.createElement(ho,{results:a,showAllTests:d},a.points.length>0&&l.a.createElement(Go,{points:a.points})))),l.a.createElement(ao,{color:Ir.Gray,percentage:b,showAll:d,setShowAll:p,showAllDisabled:1===a.testCases.length&&null!==(t=!a.allTestsPassed)&&void 0!==t&&t},!a.allTestsPassed&&l.a.createElement(to,{disabled:!1,label:u("button.submit"),onClick:o,dataCy:"submit-btn",className:m.blueButton})))},ko=function(e){var t=e.onClose,n=e.outputHeight,r=e.problems,o=Object(w.a)()[0],a=l.a.createRef();return l.a.createElement(eo,null,l.a.createElement(oo,{title:o("problemsTitle"),color:Ir.Gray},l.a.createElement(to,{label:o("button.close"),onClick:t,dataCy:"close-btn"})),l.a.createElement(ro,null,l.a.createElement(uo,{maxHeight:n,ref:a},o("incompatibleExerciseTemplate")," ",o("pleaseReportFollowingErrorsToCourseInstructor"),":",r.map((function(e,t){return l.a.createElement("div",{key:t},e)})))))},Wo={prefix:"far",iconName:"eye",icon:[576,512,[],"f06e","M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"]},jo=function(e){var t=e.getPasteLink,n=e.onClose,r=Object(w.a)()[0],o=Cr();return l.a.createElement(eo,null,l.a.createElement(oo,{title:r("submitting"),color:Ir.Gray},l.a.createElement(xr,{getPasteUrl:t,pasteDisabled:!0}),l.a.createElement(to,{label:r("button.close"),onClick:n,disabled:!0,dataCy:"close-btn"})),l.a.createElement(ro,null,l.a.createElement("div",{style:{textAlign:"center",margin:"10px 0px"}},l.a.createElement(no,{variant:"h5"},r("submittingToServer")),l.a.createElement(kr.a,{style:{width:"42%",margin:"0 auto"}}))),l.a.createElement(io,{color:Ir.Gray},l.a.createElement(to,{disabled:!0,label:r("button.submit"),dataCy:"submit-btn",className:o.blueButton})))},Eo=n("Xt1q"),Oo=n("dRu9"),So=n("wpWl"),Vo=n("4Hym"),No={entering:{opacity:1},entered:{opacity:1}},Yo={enter:So.b.enteringScreen,exit:So.b.leavingScreen},Fo=c.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,o=void 0!==r&&r,a=e.in,i=e.onEnter,l=e.onEntered,s=e.onEntering,u=e.onExit,g=e.onExited,d=e.onExiting,p=e.style,m=e.TransitionComponent,b=void 0===m?Oo.a:m,f=e.timeout,I=void 0===f?Yo:f,C=Object(Oe.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),h=Object(ot.a)(),v=h.unstable_strictMode&&!o,y=c.useRef(null),A=Object(st.a)(n.ref,t),w=Object(st.a)(v?y:void 0,A),Z=function(e){return function(t,n){if(e){var r=v?[y.current,t]:[t,n],o=Object(be.a)(r,2),a=o[0],i=o[1];void 0===i?e(a):e(a,i)}}},x=Z(s),G=Z((function(e,t){Object(Vo.b)(e);var n=Object(Vo.a)({style:p,timeout:I},{mode:"enter"});e.style.webkitTransition=h.transitions.create("opacity",n),e.style.transition=h.transitions.create("opacity",n),i&&i(e,t)})),B=Z(l),k=Z(d),W=Z((function(e){var t=Object(Vo.a)({style:p,timeout:I},{mode:"exit"});e.style.webkitTransition=h.transitions.create("opacity",t),e.style.transition=h.transitions.create("opacity",t),u&&u(e)})),j=Z(g);return c.createElement(b,Object(tt.a)({appear:!0,in:a,nodeRef:v?y:void 0,onEnter:G,onEntered:B,onEntering:x,onExit:W,onExited:j,onExiting:k,timeout:I},C),(function(e,t){return c.cloneElement(n,Object(tt.a)({style:Object(tt.a)({opacity:0,visibility:"exited"!==e||a?void 0:"hidden"},No[e],p,n.props.style),ref:w},t))}))})),Ho=c.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.invisible,i=void 0!==a&&a,l=e.open,s=e.transitionDuration,u=e.TransitionComponent,g=void 0===u?Fo:u,d=Object(Oe.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return c.createElement(g,Object(tt.a)({in:l,timeout:s},d),c.createElement("div",{className:Object(nt.a)(r.root,o,i&&r.invisible),"aria-hidden":!0,ref:t},n))})),Ko=Object(rt.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Ho),Ro={enter:So.b.enteringScreen,exit:So.b.leavingScreen},Xo=c.forwardRef((function(e,t){var n=e.BackdropProps,r=e.children,o=e.classes,a=e.className,i=e.disableBackdropClick,l=void 0!==i&&i,s=e.disableEscapeKeyDown,u=void 0!==s&&s,g=e.fullScreen,d=void 0!==g&&g,p=e.fullWidth,m=void 0!==p&&p,b=e.maxWidth,f=void 0===b?"sm":b,I=e.onBackdropClick,C=e.onClose,h=e.onEnter,v=e.onEntered,y=e.onEntering,A=e.onEscapeKeyDown,w=e.onExit,Z=e.onExited,x=e.onExiting,G=e.open,B=e.PaperComponent,k=void 0===B?ze.a:B,W=e.PaperProps,j=void 0===W?{}:W,E=e.scroll,O=void 0===E?"paper":E,S=e.TransitionComponent,V=void 0===S?Fo:S,N=e.transitionDuration,Y=void 0===N?Ro:N,F=e.TransitionProps,H=e["aria-describedby"],K=e["aria-labelledby"],R=Object(Oe.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),X=c.useRef();return c.createElement(Eo.a,Object(tt.a)({className:Object(nt.a)(o.root,a),BackdropComponent:Ko,BackdropProps:Object(tt.a)({transitionDuration:Y},n),closeAfterTransition:!0,disableBackdropClick:l,disableEscapeKeyDown:u,onEscapeKeyDown:A,onClose:C,open:G,ref:t},R),c.createElement(V,Object(tt.a)({appear:!0,in:G,timeout:Y,onEnter:h,onEntering:y,onEntered:v,onExit:w,onExiting:x,onExited:Z,role:"none presentation"},F),c.createElement("div",{className:Object(nt.a)(o.container,o["scroll".concat(Object(ut.a)(O))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===X.current&&(X.current=null,I&&I(e),!l&&C&&C(e,"backdropClick"))},onMouseDown:function(e){X.current=e.target}},c.createElement(k,Object(tt.a)({elevation:24,role:"dialog","aria-describedby":H,"aria-labelledby":K},j,{className:Object(nt.a)(o.paper,o["paperScroll".concat(Object(ut.a)(O))],o["paperWidth".concat(Object(ut.a)(String(f)))],j.className,d&&o.paperFullScreen,m&&o.paperFullWidth)}),r))))})),To=Object(rt.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(me.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(me.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(me.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(me.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(me.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(Xo),Lo=c.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,o=e.classes,a=e.className,i=Object(Oe.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(tt.a)({className:Object(nt.a)(o.root,a,!r&&o.spacing),ref:t},i))})),Jo=Object(rt.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(Lo),Po=c.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.dividers,a=void 0!==o&&o,i=Object(Oe.a)(e,["classes","className","dividers"]);return c.createElement("div",Object(tt.a)({className:Object(nt.a)(n.root,r,a&&n.dividers),ref:t},i))})),zo=Object(rt.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(Po),Uo=c.forwardRef((function(e,t){return c.createElement(qe.a,Object(tt.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),Do=Object(rt.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(Uo),Mo=c.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.disableTypography,i=void 0!==a&&a,l=Object(Oe.a)(e,["children","classes","className","disableTypography"]);return c.createElement("div",Object(tt.a)({className:Object(nt.a)(r.root,o),ref:t},l),i?n:c.createElement(qe.a,{component:"h2",variant:"h6"},n))})),Qo=Object(rt.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Mo),_o=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},qo=function(){return(qo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$o=Object(s.b)((function(e){return l.a.createElement(G.a,qo({variant:"contained"},e))}))(Ur||(Ur=_o(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),ea=function(e){var t=e.resetExercise,n=Object(c.useState)(!1),r=n[0],o=n[1],a=Object(w.a)()[0],i=Cr(),s=function(){o(!1)};return l.a.createElement("div",{style:{display:"inline"}},l.a.createElement($o,{"data-cy":"reset-btn",className:i.normalButton,onClick:function(){o(!0)}},a("button.reset")),l.a.createElement(To,{open:r,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Qo,{id:"alert-dialog-title"},a("resetExerciseHeader")),l.a.createElement(zo,null,l.a.createElement(Do,{id:"alert-dialog-description"},a("resetExerciseConfirmation"),l.a.createElement("br",null),a("resetExerciseNotify"))),l.a.createElement(Jo,null,l.a.createElement(G.a,{onClick:s,color:"primary",autoFocus:!0},a("button.cancel")),l.a.createElement(G.a,{"data-cy":"reset-btn-ok",onClick:function(){t(),o(!1)},color:"primary"},a("button.ok")))))},ta=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},na=function(){return(na=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ra=Object(s.b)(x.a)(Dr||(Dr=ta(["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"],["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"]))),oa=Object(s.b)((function(e){return l.a.createElement(G.a,na({variant:"contained"},e))}))(Mr||(Mr=ta(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),aa={fullName:"",shortName:"",originalContent:"",content:""},ia=function(e){var t=e.submitFeedback,n=e.submitProgrammingExercise,r=e.submitToPaste,o=e.debug,a=e.initialFiles,i=e.problems,s=e.testSource,u=e.submitDisabled,g=e.solutionUrl,d=e.resetExercise,p=e.editorHeight,m=e.outputHeight,b=e.ready,f=void 0===b||b,I=Object(w.a)()[0],C=Object(c.useState)([]),h=C[0],v=C[1],y=Object(c.useState)(),A=y[0],Z=y[1],x=Object(c.useState)(!0),G=x[0],E=x[1],O=Object(c.useState)([aa]),S=O[0],V=O[1],N=Object(c.useState)(aa),Y=N[0],F=N[1],H=Object(c.useState)(!1),K=H[0],R=H[1],X=Object(c.useState)(),T=X[0],L=X[1],J=pn({debug:o})[0],P=l.a.createRef(),z=Object(c.useState)(Re.Initializing),U=z[0],D=z[1],M=Cr();function Q(e){if(G){var t="\n__webeditor_module_source = "+function(e){return'"""\nimport base64\ncode = base64.b64decode("'+mn.a.encode(e)+'").decode("utf-8")\n"""'}(null!=e?e:Y.content)+"\n"+s+"\n";v([]),Z(void 0),E(!1),D(Re.WorkerInitializing),J.postMessage({type:"run_tests",msg:{code:t,debug:o}})}else console.log("Worker is busy")}var _=function(){D(Re.Submitting),Z(void 0)};J.setMessageListener((function(e){var t=e.data,n=t.type,r=t.msg;switch(n){case"print":v(h.concat({id:Object(_e.a)(),type:"output",text:r}));break;case"input_required":D(Re.WaitingInput);break;case"error":console.error(r),v(h.concat({id:Object(_e.a)(),type:"error",text:r})),E(!0),J.recycle();break;case"ready":E(!0);break;case"print_batch":if(U===Re.ExecutingCode){var o=r.map((function(e){return{id:Object(_e.a)(),type:"output",text:e}}));v((function(e){return e.concat(o)}))}break;case"print_done":D((function(e){switch(e){case Re.Testing:return(null==A?void 0:A.allTestsPassed)&&!u&&_(),Re.ShowTestResults;default:return Re.Idle}})),J.recycle();break;case"test_results":var a=function(e){return e.map((function(e,t){var n,r,o,a=null!==(n=e.message)&&void 0!==n?n:"null",i=null!==(r=e.passed)&&void 0!==r&&r,c=null!==(o=e.name)&&void 0!==o?o:"noTestName";return{id:t.toString(),feedback:a,passed:i,testName:c}}))}(r);v([]),Z({allTestsPassed:a.every((function(e){return e.passed})),points:[],testCases:a});break;case"start_run":D(Re.ExecutingCode);break;case"start_test":D(Re.Testing)}}));var q=function(e){U===Re.WaitingInput&&(D(Re.ExecutingCode),v(h.concat({id:Object(_e.a)(),type:"input",text:e+"\n"})),J.postMessage({type:"input",msg:e}))},$=function(e,t){F(ee(e,t))},ee=function(e,t){return t.filter((function(t){return t.shortName===e}))[0]};Object(c.useEffect)((function(){V(a),$(a[0].shortName,a)}),[a]),Object(c.useEffect)((function(){switch(o&&console.log(Re[U]),U){case Re.Submitting:n(S).then((function(e){ne(),Z(e),v([]),D(e.allTestsPassed?Re.ShowPassedFeedbackForm:Re.ShowSubmissionResults)}));break;case Re.ExecutingCode:case Re.Testing:var e=I("infiniteLoopMessage"),t=setTimeout((function(){v([{id:Object(_e.a)(),type:"output",text:e}]),te()}),1e4);L(t);break;case Re.Resetting:d().then((function(){V(a),D(Re.Idle)}));break;case Re.Idle:case Re.RunAborted:case Re.ShowTestResults:case Re.WaitingInput:T&&clearTimeout(T)}}),[U]);var te=function(){G||J.terminate(),J.postMessage({type:"stop"}),D(Re.RunAborted),E(!0)},ne=function(){var e;te(),null===(e=P.current)||void 0===e||e.close(),D(Re.Idle),v([])},re=window.StyleMedia&&-1!==window.navigator.userAgent.indexOf("Edge"),oe=0==(U&(Re.WorkerActive|Re.Submitting));return l.a.createElement("div",{style:{position:"relative",width:"inherit"}},re&&l.a.createElement(Lt,null,l.a.createElement(ra,null,I("browserNotSupported"),l.a.createElement("ul",null,l.a.createElement("li",null,"Google Chrome"),l.a.createElement("li",null,"Firefox"),l.a.createElement("li",null,"Safari")))),U===Re.ShowPassedFeedbackForm&&l.a.createElement(rn,{awardedPoints:null==A?void 0:A.points,onSubmitFeedback:function(e){D(Re.ShowSubmissionResults),A&&(t(A,e),e.length>0&&R(!0))},onClose:function(){return D(Re.ShowSubmissionResults)},solutionUrl:null==A?void 0:A.solutionUrl,feedbackQuestions:null==A?void 0:A.feedbackQuestions}),S.length>1&&l.a.createElement(l.a.Fragment,null,l.a.createElement(B.a,{id:"label"},I("selectFile")),l.a.createElement(k.a,{labelId:"label",native:!0,value:Y.shortName,onChange:function(e){return $(e.target.value,S)},"data-cy":"select-file"},l.a.createElement(l.a.Fragment,null,S.map((function(e){var t=e.shortName;return l.a.createElement("option",{key:t,value:t},t)}))))),!f&&l.a.createElement(Jt,null,l.a.createElement(W.a,{thickness:5,color:"inherit"})),l.a.createElement(Pe,{editorValue:Y.content,setEditorValue:function(e){return t=e,U!==Re.Resetting&&(Y.content=t,localStorage.setItem(Y.fullName,JSON.stringify({createdAtMillis:Date.now(),content:t}))),void V((function(e){return e.map((function(e){return e.shortName===Y.shortName?na(na({},e),{content:Y.content}):e}))}));var t},editorHeight:p,setIsEditorReady:function(e){return D(e?Re.Idle:Re.Initializing)}}),l.a.createElement("div",{style:{padding:"0.6em 0em"}},0==(U&Re.WorkerActive)?l.a.createElement(oa,{onClick:function(){var e;G?(v([]),Z(void 0),E(!1),D(Re.WorkerInitializing),J.postMessage({type:"run",msg:{code:null!=e?e:Y.content,debug:o}})):console.log("Worker is busy")},className:M.runButton,disabled:!(G&&oe),"data-cy":"run-btn"},l.a.createElement(Rn.a,{icon:Kn.p}),l.a.createElement("span",{className:M.whiteText},I("runButtonText"))):l.a.createElement(oa,{className:M.stopButton,onClick:function(){return te()},"data-cy":"stop-btn"},l.a.createElement(Rn.a,{icon:Kn.s}),l.a.createElement("span",{className:M.whiteText},I("stopButtonText"))),l.a.createElement(oa,{onClick:function(){return Q()},disabled:!(s&&oe),className:M.testButton,"data-cy":"test-btn"},l.a.createElement(Rn.a,{icon:Wo}),l.a.createElement("span",{style:{paddingLeft:"5px"}},I("testButtonText"))),l.a.createElement(ea,{resetExercise:function(){D(Re.Resetting),v([]),Z(void 0)}}),g&&l.a.createElement(oa,{className:M.normalButton,onClick:function(){return window.open(g,"_blank")}},I("modelSolution")),i&&i.length>0&&l.a.createElement(oa,{onClick:function(){var e;D(Re.ShowProblems),null===(e=P.current)||void 0===e||e.open()},disabled:(U&Re.WorkerActive)>0,className:M.problemsButton,"data-cy":"problems-btn"},l.a.createElement(Rn.a,{icon:Kn.l}),l.a.createElement("span",{className:M.whiteText},I("problemsTitle")+" ("+i.length+")"))),l.a.createElement(Qe,{isRunning:(U&Re.WorkerActive)>0,outputHeight:m,ref:P},function(){switch(U){case Re.ShowTestResults:return l.a.createElement(vo,{getPasteLink:function(){return r(S)},onClose:ne,outputHeight:m,onSubmit:function(){return _()},submitDisabled:u,testResults:null!=A?A:{points:[],testCases:[]}});case Re.ShowPassedFeedbackForm:case Re.ShowSubmissionResults:return l.a.createElement(Bo,{onClose:ne,onSubmit:function(){return _()},testResults:null!=A?A:{points:[],testCases:[]},getPasteLink:function(){return r(S)},pasteDisabled:u,outputHeight:m});case Re.Submitting:return l.a.createElement(jo,{onClose:ne,getPasteLink:function(){return r(S)},pasteDisabled:!0});case Re.ShowProblems:return l.a.createElement(ko,{onClose:ne,problems:null!=i?i:[],outputHeight:m});default:return l.a.createElement(go,{editorState:U,getPasteLink:function(){return r(S)},onClose:ne,outputContent:h,outputHeight:m,pasteDisabled:u,sendInput:q})}}()),o&&l.a.createElement("div",null,Re[U]),l.a.createElement(j.a,{open:K,autoHideDuration:5e3,onClose:function(e,t){"clickaway"!==t&&R(!1)},message:I("thankYouForFeedback"),anchorOrigin:{vertical:"bottom",horizontal:"center"},key:"bottom-center"}))},ca='# No ProgrammingExercise has been loaded.\n# This is the default file main.py\n\nfrom .utils import greeting, getLocality\n\ndef greetWorld():\n  print(greeting(getLocality()))\n\ndef foo():\n  print("foo!")\n',la="# No ProgrammingExercise has been loaded.\n# This is the default file test.py\n\nfrom .main import greetWorld\n\ngreetWorld()\n",sa='# No ProgrammingExercise has been loaded.\n# This is the default file utils.py\n\n# Mutually recursive imports are disallowed.\n# Try uncommenting the line below!\n#from .main import foo\n\ndef greeting(recipient):\n  return "Hello " + recipient + "!"\n\ndef getLocality():\n  return "world"\n';ia.defaultProps={submitProgrammingExercise:function(){return Promise.resolve({points:[],testCases:[]})},submitToPaste:function(){return Promise.resolve("default paste called")},initialFiles:[{fullName:"main.py",shortName:"main.py",originalContent:ca,content:ca},{fullName:"utils.py",shortName:"utils.py",originalContent:sa,content:sa},{fullName:"test.py",shortName:"test.py",originalContent:la,content:la}]};var ua,ga,da=n("vDqi"),pa=n.n(da),ma=n("xOOu"),ba=n.n(ma),fa=function(){return(fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ia=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function c(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Ca=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ha="https://tmc.mooc.fi/api/v8",va=function(e,t){return fa(fa({},t),{Authorization:"Bearer "+e,client:"moocfi_python_editor",client_version:ln})},ya=function(e,t){return Ia(void 0,void 0,void 0,(function(){var n,r,o,a,i,c;return Ca(this,(function(l){switch(l.label){case 0:n=t.t,r=t.token,l.label=1;case 1:return l.trys.push([1,4,,5]),o=new ba.a,[4,pa.a.get(e,{headers:va(r),responseType:"arraybuffer"})];case 2:return a=l.sent(),[4,o.loadAsync(a.data)];case 3:return[2,l.sent()];case 4:throw i=l.sent(),(null===(c=null==i?void 0:i.response)||void 0===c?void 0:c.status)?new Error(i.response.status+": "+n("failedToDownloadExercise")):new Error("418: "+n("failedToEstablishConnectionToServer"));case 5:return[2]}}))}))},Aa=function(e,t,n,r){return Ia(void 0,void 0,void 0,(function(){var o,a,i,c,l,s,u,g,d;return Ca(this,(function(p){switch(p.label){case 0:o=r.t,a=r.token,i=ha+"/org/"+e+"/courses/"+t+"/exercises/"+n,c=va(a),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,pa.a.get(i,{headers:c,responseType:"json"})];case 2:return[2,{id:(l=p.sent().data).id,availablePoints:null===(u=l.available_points)||void 0===u?void 0:u.length,awardedPoints:null===(g=l.awarded_points)||void 0===g?void 0:g.length,completed:l.completed,deadline:l.deadline,expired:l.expired,softDeadline:l.soft_deadline}];case 3:throw s=p.sent(),(null===(d=null==s?void 0:s.response)||void 0===d?void 0:d.status)?new Error(s.response.status+": "+o("couldNotFindExerciseDetails")):new Error("418: "+o("failedToEstablishConnectionToServer"));case 4:return[2]}}))}))},wa=function(e,t,n,r){return Ia(void 0,void 0,void 0,(function(){return Ca(this,(function(o){return[2,ya(ha+"/org/"+e+"/courses/"+t+"/exercises/"+n+"/download",r)]}))}))},Za=function(e,t){return Ia(void 0,void 0,void 0,(function(){return Ca(this,(function(n){return[2,ya(ha+"/core/submissions/"+e+"/download",t)]}))}))},xa=function(e,t,n,r){return Ia(void 0,void 0,void 0,(function(){var o,a,i,c,l,s,u,g,d,p,m,b,f;return Ca(this,(function(I){switch(I.label){case 0:return o=n.t,a=n.token,i=va(a,{"Content-Type":"multipart/form-data"}),c=(null==r?void 0:r.paste)||!1,l=new ba.a,t.forEach((function(e){l.file(e.fullName,e.content)})),s=new FormData,c&&s.append("paste","1"),g=(u=s).append,d=["submission[file]"],[4,l.generateAsync({type:"blob"})];case 1:g.apply(u,d.concat([I.sent()])),I.label=2;case 2:return I.trys.push([2,4,,5]),[4,pa.a.post(ha+"/core/exercises/"+e+"/submissions",s,{headers:i})];case 3:return p=I.sent(),[2,{pasteUrl:c?p.data.paste_url:void 0,showSubmissionUrl:p.data.show_submission_url,submissionUrl:p.data.submission_url}];case 4:throw m=I.sent(),b=m.response.status,f=o(403===b?"authenticationRequired":"submissionProcessFailed"),console.error(m.response),new Error(b+": "+f);case 5:return[2]}}))}))},Ga=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ba=Object(s.b)(x.a)(ua||(ua=Ga(["\n  background-color: #e8e8e8;\n  color: #ff9800;\n  border-radius: 3px 3px;\n  padding: 12px;\n  font-size: 1rem;\n"],["\n  background-color: #e8e8e8;\n  color: #ff9800;\n  border-radius: 3px 3px;\n  padding: 12px;\n  font-size: 1rem;\n"]))),ka=s.b.span(ga||(ga=Ga(["\n  margin-left: 10px;\n  color: black;\n"],["\n  margin-left: 10px;\n  color: black;\n"]))),Wa=function(e){var t=e.children;switch(e.style){case"warning":default:return l.a.createElement(Ba,null,l.a.createElement(Rn.a,{icon:Kn.m}),l.a.createElement(ka,null,t))}},ja=function(){return(ja=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ea=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function c(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Oa=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Sa=function(e){var t=e.onExerciseDetailsChange,n=e.organization,r=e.course,o=e.debug,a=e.exercise,i=e.token,s=e.height,u=e.outputHeight,g=e.language,d=void 0===g?"en":g,p=function(e){void 0===e&&(e=1e3);var t=Object(c.useState)(Z()),n=t[0],r=t[1];return Object(c.useEffect)((function(){var t=setInterval((function(){return r(Z())}),e);return function(){return clearInterval(t)}}),[e,setInterval,clearInterval,r,Z]),n}(1e4),m=Object(w.a)(),b=m[0],f=m[1],I=Object(c.useState)(!1),C=I[0],h=I[1],v=Object(c.useState)(void 0),y=v[0],x=v[1],G=Object(c.useState)([aa]),B=G[0],k=G[1],W=Object(c.useState)(),j=W[0],E=W[1],O=Object(c.useState)(!1),S=O[0],V=O[1],N=Object(c.useState)(),Y=N[0],F=N[1],H={t:b,token:i};return Object(c.useEffect)((function(){Y&&Y.deadline&&!Y.expired&&p>=A.DateTime.fromISO(Y.deadline)&&Aa(n,r,a,H).then((function(e){return F(e)})).catch()}),[p]),Object(c.useEffect)((function(){null==t||t(Y)}),[Y]),Object(c.useEffect)((function(){f.changeLanguage(d)}),[d]),Object(c.useEffect)((function(){h(!1);var e=""!==i&&null!==i;V(e),function(e){return Ea(void 0,void 0,void 0,(function(){var t,o,i,c,l,s,u,g,d,p;return Oa(this,(function(m){switch(m.label){case 0:t=function(e){return[ja(ja({},aa),{content:"# "+e})]},F(void 0),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,wa(n,r,a,H)];case 2:return o=m.sent(),[3,4];case 3:return i=m.sent(),k(t(i.message)),[2];case 4:return[4,xn(o,H)];case 5:c=m.sent(),x(c.problems),E(c.testSource),m.label=6;case 6:return m.trys.push([6,8,,9]),[4,Aa(n,r,a,H)];case 7:return l=m.sent(),[3,9];case 8:return s=m.sent(),k(t(s.message)),[2];case 9:if(F(l),!e)return k(c.srcFiles),[2];u=function(){c.srcFiles.forEach((function(e){var t=localStorage.getItem(e.fullName);if(t){var n=JSON.parse(t);e.content=n.content}}))},m.label=10;case 10:return m.trys.push([10,14,,15]),[4,(b=l.id,f=H,Ia(void 0,void 0,void 0,(function(){var e,t,n,r,o,a,i,c;return Ca(this,(function(l){switch(l.label){case 0:e=f.t,t=f.token,n=ha+"/exercises/"+b+"/users/current/submissions",r=va(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,pa.a.get(n,{headers:r,responseType:"json"})];case 2:return a=l.sent(),o=a.data,[3,4];case 3:throw i=l.sent(),new Error(i.response.status+": "+e("failedToDownloadExercise"));case 4:if(o.length<=0)throw new Error("9001: No submissions found");return[2,(c=o.map((function(e){return{id:e.id,createdAtMillis:Date.parse(e.created_at)}}))).reduce((function(e,t){return t.createdAtMillis>e.createdAtMillis?t:e}),c[0])]}}))})))];case 11:return g=m.sent(),c.srcFiles.some((function(e){var t=localStorage.getItem(e.fullName);if(t&&JSON.parse(t).createdAtMillis>g.createdAtMillis)return!0}))?(u(),k(c.srcFiles),[2]):[4,Za(g.id,H)];case 12:return d=m.sent(),[4,xn(d,H)];case 13:return(p=m.sent()).srcFiles.length>0?(p.srcFiles.forEach((function(e){var t=c.srcFiles.find((function(t){return t.fullName===e.fullName}));t&&(e.originalContent=t.originalContent)})),k(p.srcFiles),[2]):(u(),k(c.srcFiles),[3,15]);case 14:return m.sent(),u(),k(c.srcFiles),[3,15];case 15:return[2]}var b,f}))}))}(e).finally((function(){return h(!0)}))}),[i]),l.a.createElement("div",null,!S&&l.a.createElement(Wa,{style:"warning"},b("signInToSubmitExercise")),(null==Y?void 0:Y.expired)&&l.a.createElement(Wa,{style:"warning"},b("deadlineExpired")),l.a.createElement(ia,{debug:o,initialFiles:B,problems:y,submitFeedback:function(e,t){e.feedbackAnswerUrl&&t.length>0&&function(e,t,n){Ia(void 0,void 0,void 0,(function(){var r,o,a,i;return Ca(this,(function(c){switch(c.label){case 0:if(r=n.token,o=va(r,{"Content-Type":"multipart/form-data"}),!e.feedbackAnswerUrl||""===e.feedbackAnswerUrl)return[2];a=new FormData,t.forEach((function(e,t){a.append("answers["+t+"][question_id]",e.questionId.toString()),a.append("answers["+t+"][answer]",e.answer.toString())})),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,pa.a.post(e.feedbackAnswerUrl,a,{headers:o})];case 2:return c.sent(),[2];case 3:throw i=c.sent(),new Error(i.response.status+": "+JSON.parse(i.response));case 4:return[2]}}))}))}(e,t,H)},testSource:j,submitProgrammingExercise:function(e){return Ea(void 0,void 0,void 0,(function(){var t,o,i,c,l;return Oa(this,(function(s){switch(s.label){case 0:if(t=function(e){return{points:[],testCases:[{id:"0",testName:"Exercise submission",passed:!1,feedback:"Error "+e}]}},!Y)return[2,t("418: Exercise details missing")];s.label=1;case 1:return s.trys.push([1,7,,8]),[4,xa(Y.id,e,H)];case 2:o=s.sent(),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,(u=o,g=H,Ia(void 0,void 0,void 0,(function(){var e,t,n,r,o,a,i,c;return Ca(this,(function(l){switch(l.label){case 0:e=g.t,t=g.token,n=va(t),r=function(t){var r,o,a,i,c;return Ca(this,(function(l){switch(l.label){case 0:return[4,new Promise((function(e){return setTimeout(e,t)}))];case 1:l.sent(),r=void 0,l.label=2;case 2:return l.trys.push([2,4,,5]),[4,pa.a.get(u.submissionUrl,{headers:n,responseType:"json"})];case 3:return r=l.sent().data,[3,5];case 4:return o=l.sent(),console.error(o.response),r={status:"error",statusCode:o.response.status},[3,5];case 5:if("error"===r.status)throw new Error(r.statusCode+": "+e("submissionProcessFailed"));return"processing"!==r.status?(a=r.test_cases,i=a.map((function(e,t){return{id:t.toString(),testName:e.name,passed:e.successful,feedback:e.message}})),c=r.points,[2,{value:{allTestsPassed:r.all_tests_passed,points:c,testCases:i,feedbackQuestions:r.feedback_questions,feedbackAnswerUrl:r.feedback_answer_url,solutionUrl:r.solution_url}}]):[2]}}))},o=0,a=[2e3,2e3,1e3,1e3,1e3,2e3,2e3,4e3,8e3,16e3],l.label=1;case 1:return o<a.length?(i=a[o],[5,r(i)]):[3,4];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return o++,[3,1];case 4:throw new Error("418: "+e("submissionTookTooLong"))}}))})))];case 4:return i=s.sent(),Aa(n,r,a,H).then((function(e){return F(e)})),[2,i];case 5:return c=s.sent(),F(void 0),[2,t(c.message)];case 6:return[3,8];case 7:return l=s.sent(),[2,t(l.message)];case 8:return[2]}var u,g}))}))},submitToPaste:function(e){return Ea(void 0,void 0,void 0,(function(){var t,n,r;return Oa(this,(function(o){switch(o.label){case 0:if(!Y)return[2,""];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,xa(Y.id,e,H,{paste:!0})];case 2:return t=o.sent(),[2,null!==(r=t.pasteUrl)&&void 0!==r?r:""];case 3:return n=o.sent(),[2,Promise.reject(n.message)];case 4:return[2]}}))}))},submitDisabled:(null==Y?void 0:Y.expired)||!S,resetExercise:function(){return Ea(void 0,void 0,void 0,(function(){return Oa(this,(function(e){return B.forEach((function(e){e.content=e.originalContent,localStorage.removeItem(e.fullName)})),[2]}))}))},editorHeight:s,outputHeight:u,solutionUrl:(null==Y?void 0:Y.completed)||(null==Y?void 0:Y.expired)?"https://tmc.mooc.fi/exercises/"+Y.id+"/solution":void 0,ready:C}))},Va=function(){return(Va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Na=function(e){return l.a.createElement(I,{i18n:y},l.a.createElement(Sa,Va({},e)))},Ya=n("iCRf"),Fa=n.n(Ya),Ha=Fa.a.tmcOrganization,Ka=Fa.a.tmcCourse,Ra="en";"fi"===Fa.a.language&&(Ra="fi");var Xa=s.b.div.withConfig({displayName:"MoocfiPythonEditorLoader__Wrapper",componentId:"sc-1rxmhjf-0"})(["padding 1rem;"]),Ta=Object(s.b)(qe.a).withConfig({displayName:"MoocfiPythonEditorLoader__StyledDeadlineText",componentId:"sc-1rxmhjf-1"})(["padding:0.25rem 0 1rem 0 !important;color:rgb(108,117,125) !important;font-size:0.8rem !important;font-weight:bold !important;"]),La=Object(s.b)(Rn.a).withConfig({displayName:"MoocfiPythonEditorLoader__StyledIcon",componentId:"sc-1rxmhjf-2"})(["font-size:0.9rem !important;margin-right:0.25em !important;vertical-align:-0.1em !important;"]),Ja=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={exerciseDetails:void 0,render:!1},t.onUpdate=function(e){t.setState({exerciseDetails:e})},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({render:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.render=function(){var e=this,t=this.props,n=t.t,r=t.name,o=t.tmcname,a=t.children,i=t.height,c=t.outputheight,s=t.outputposition,u=t.difficulty;if(!this.state.render)return l.a.createElement("div",null,"Loading");var g=l.a.createElement("div",{style:{padding:"1rem",textAlign:"center"}},l.a.createElement("p",null,n("loginToAttemptExercise")),l.a.createElement(d.a,null)),p=this.state.exerciseDetails,f=null!=p&&p.deadline?new Date(p.deadline):null;return l.a.createElement(b.a,{name:r,points:null==p?void 0:p.availablePoints,awardedPoints:null==p?void 0:p.awardedPoints,allowRefresh:!1,completed:(null==p?void 0:p.completed)||!1,difficulty:u},l.a.createElement("div",null,f instanceof Date&&!isNaN(f.getTime())&&l.a.createElement(Ta,null,l.a.createElement(La,{icon:Kn.i}),"Deadline: "+f.toLocaleString("en-GB")),l.a.createElement(Xa,null,a),this.context.loggedIn?l.a.createElement(Na,{onExerciseDetailsChange:function(t){return e.onUpdate(t)},organization:Ha,course:Ka,exercise:o,token:Object(m.a)(),height:i||"300px",outputHeight:c||"auto",outputPosition:s||"relative",language:Ra}):g))},t}(l.a.Component);Ja.contextType=g.b;t.default=Object(u.a)("common")(Object(p.a)(Ja))},xKyf:function(e){e.exports=JSON.parse('{"button":{"cancel":"Cancel","close":"Close","copy":"Copy","ok":"Yes","reset":"Reset","run":"Run","stop":"Stop","submit":"Submit","send":"Send"},"allTestsPassed":"All tests passed!","authenticationRequired":"Authentication required","browserNotSupported":"Programming exercises do not support Microsoft Edge browser.\\nYou can use one of the following browsers to complete the exercises:","copiedConfirmation":"Copied!","couldNotFindExerciseDetails":"Could not find exercise details.","deadlineExpired":"Exercise deadline exceeded.","dontSend":"Don\'t send","enterInputAndPressEnter":"Enter input and press \\"Enter\\"","failedToEstablishConnectionToServer":"Failed to establish a connection to TestMyCode Server.","failedToDownloadExercise":"Failed to download exercise.","feedbackTitle":"Exercise completed, congratulations!","incompatibleExerciseTemplate":"Incompatible exercise template.","infiniteLoopMessage":"Make sure you don\'t have an infinite loop in your code.","initializing":"Initializing","malformedExerciseTemplate":"Malformed exercise template","modelSolution":"Model solution","needHelp":"Need help?","noExerciseFilesFound":"No exercise files found in the exercise template.","outputTitle":"Output","pleaseGiveFeedback":"If you wish, you can give feedback on the assignment to help develop the course.","pleaseReportFollowingErrorsToCourseInstructor":"Please report following errors to your course instructor","pointsAwarded":"Points awarded","problemsTitle":"Problems","rememberToSubmitToServer":"Remember to submit your solution for evaluation.","resetExerciseConfirmation":"Are you sure you want to reset the exercise to its initial state?","resetExerciseNotify":"This operation will remove all your code.","resetExerciseHeader":"Reset exercise template","running":"Running","runButtonText":"RUN","sendToTmcPaste":"Send to TMC Paste","selectFile":"Select File","showAll":"Show all","signInToSubmitExercise":"Sign in to submit exercise","stopButtonText":"STOP","submissionProcessFailed":"Submission process failed","submissionResult":"Submissions Results","submissionTookTooLong":"Submission was taking a really long time.\\nPlease make sure your code doesn\'t have an infinite loop.","submitToServerQuestion":"Submit exercise?","submitting":"Submitting","submittingToServer":"Submitting exercise","testing":"Testing","testButtonText":"TEST","testResults":"Test Results","testsPassed":"Tests passed","thankYouForFeedback":"Thank you for your feedback!","tmcPasteDescription":"You can submit your code to TMC Paste and share the link to the course discussion channel and ask for help.","viewModelSolution":"View model solution","waitingForInput":"Waiting for input"}')}}]);
//# sourceMappingURL=27-5d8f1eb7b4990c22e936.js.map