{"componentChunkName":"component---src-templates-course-content-template-js","path":"/osa-5/6-langaton","result":{"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"Oppimistavoitteet"},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Osaat kuvata langattomien verkkojen toimintaa ja ongelmia."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Osaat kertoa, mikä on WLAN tai Wi-Fi ja miten viestit kulkevat sen ja langallisen verkon välillä."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Tiedät mikä on tukiasema ja osaat kuvata sen perustoiminnan."}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"h2","properties":{"id":"langaton-verkko","style":"position:relative;"},"children":[{"type":"text","value":"Langaton verkko"},{"type":"element","tagName":"a","properties":{"href":"#langaton-verkko","ariaLabel":"langaton verkko permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kaikille langattomille verkoille on yhteistä se, että käyttäjien laitteet (voidaan kutsua myös solmuiksi tai isäntäkoneiksi) ovat langattomasti yhteydessä verkon palvelut tarjoavaan tukiasemaan. Tällainen langaton linkki käyttäjän laitteen ja tukiaseman välillä toimii yleensä radioaalloilla. Niiden ongelma on se, että linkin kuuluvuusalue on rajattu, joten laitteen ja tukiaseman etäisyys on rajallinen. Langaton linkki on tyypillisesti toteutettu radioaalloilla, jolloin kaikki tukiaseman läheisyydessä olevat laitteet voivat kuulla kaiken liikenteen. Toisaalta radioallot vaimenevat etäisyyden kasvaessa. Tietoliikenteessä tästä puhutaan signaalin vaimenemisena. Signaalia (eli radioaaltoja) häiritsevät myös muiden laitteiden aiheuttamat häiriöt ja erilaisista pinnoista tapahtuvat heijastumiset. Näiden seikkojen vuoksi kuuluvuus tukiaseman ja käyttäjän laitteen välillä voi vaihdella, vaikka molemmat laitteet olisivat paikallaan."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Langattomalle verkolle erityistä haastetta tuo kuitenkin käyttäjien laitteiden liikkuminen. Yhä useammin käytämme laitteita, joita kannetaan mukana ja jotka ovat yhdistettynä verkkoon myös liikkuessaan. Vaikka laite voi vaihtaa paikkaa myös langallisessa verkossa, niin se on siirtymisen aikana poissa verkosta. Langattomassa verkossa laite voi olla yhteydessä tukiasemaan myös silloin kun se liikkeessä."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tällä hetkellä käytössä on kahden täysin erilaisen tekniikan avulla toteutettujan langattomia verkkoja. Ethernet-verkkoja mukailevia "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/WLAN","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"WLAN"}]},{"type":"text","value":"-verkkoja, jotka noudattavat jotain IEEE:n standardoimaa tiedonsiirtotapaa. "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/IEEE_802.11","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"IEEE:n standardin 802.11"}]},{"type":"text","value":" eri versiot määrittelevät erilaisia langattomia verkkotekniikoita langattoman lähiverkon toteuttamiseen. Osa laitteista ja tukiasemista tulee näistä vain yhtä ja osa tukee usampaa erilaista versiota. Nämä standardi eri versiot on nimetty kirjaimilla a-n. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Toinen yleinen langaton verkko on "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Matkapuhelinverkko","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"matkapuhelinverkko"}]},{"type":"text","value":" ja eritysien sen välityksellä käytettävä mobiilidata. Matkapuhelinverkkojen tekniikkakin on standardoitua. Koska nämä ovat puhelinverkkoja, niin niitä on alunperin standardoitu alueittain kuten langallisiakin puhelinverkkoja. Kaikenlaisia puhelinverkkoja standardoi "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Kansainv%C3%A4linen_televiestint%C3%A4liitto","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"kansainvälinen televiestintäliitto ITU"}]},{"type":"text","value":". ITU keskittyy lähinnä eri operaattoreiden välisten asioiden säätelyyn. Operaattoreiden toiminta-alueilla on myös muita standardointiorganisaatioita, jotka vaikuttavat käytettäviin tekniikoihin. Nykyisessä globaalissa tilanteessa alueelliset standardointiorganisaatiot tekevät yhteistyötä "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/3GPP","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"3GPP"}]},{"type":"text","value":":ssä, jotta tulevat standardit olisivat mahdollisimman yhteensopivia eri puolilla maailmaa. Euroopassa näiden verkkojen standardoinnista vastaa "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/ETSI","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"ETSI"}]},{"type":"text","value":". "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Matkapuhelinverkkojen, joita kutsutaan myös mobiiliverkoiksi, kehitystä on jaettu sukupolviin. Toisen sukupolven (2G) verkot käyttivät GSM-tekniikkaa. Sen jälkeen siirryttiin "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/3G","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"3G"}]},{"type":"text","value":"-verkkoihin. Nyt on jo käytössä "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/4G","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"4G"}]},{"type":"text","value":"-verkkoja, mutta ne eivät vielä ole käytettävissä kaikkialla. Tällä hetkellä standardointi kohdistuu tulevan 5G-verkon tekniikoihin. Tavoitteena on sekä nopeuttaa signaalin kulkua verkossa (pienentää etenemisviivettä) että samanaikaisesti lisätä siirrettävän datan määrää aikayksikköä kohti (eli kasvattaa verkon nopeutta)."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Muita tunnettuja langattomia standardoituja verkkoja ovat "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Bluetooth","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Bluetooth"}]},{"type":"text","value":" ja "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/ZigBee","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"ZigBee"}]},{"type":"text","value":". "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tarkastelemme tällä kurssilla kuitenkin lähinnä WLAN-verkkojen toimintaa. Yleiset langattomaan liikennöintiin liittyvät seikat kuitenkin soveltuvat kaikille langattomille verkoille."}]},{"type":"element","tagName":"h2","properties":{"id":"ad-hoc--verkko","style":"position:relative;"},"children":[{"type":"text","value":"Ad hoc -verkko"},{"type":"element","tagName":"a","properties":{"href":"#ad-hoc--verkko","ariaLabel":"ad hoc  verkko permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Langaton verkko voidaan rakentaa myös ilman tukiasemia. Tällöin puhutaan niin sanotuista ad hoc -verkoista, joiden toiminnallisuuden verkon rakentaja määrittelee täysin itsenäisesti. Tällaisen verkon ei tarvitse noudattaa mitään standardeja, mutta verkon toteuttajan on kuitenkin hyvä tietää kyseisen alueen radiotaajuuksien käyttösäännöt, jotta ei vahingossakaan syyllisty rikokseen."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Yksinkertaisimmillaan ad hoc -verkko on vain kahden laitteen välinen, jolloin laitteiden välinen liikennöinti tehdään langattomasti suoraan laitteelta toiselle.  Laajimmillaan tällaiset ad hoc -verkot voivat olla useiden satojen sensorien omia verkkoja. Näistä langattomista sensoriverkoista on hyvä kuvaus englanninkielisessä wikipediassa sivulla "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Wireless_sensor_network","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"wireless sensor networks"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ad hoc -verkon koneet voivat siis suoraan kommunikoida vain omalla kuuluvuusalueellaan olevien muiden koneiden kanssa. Koska verkossa ei ole mitään palveluja suoraan tarjolla. Jos tällaisen verkon laitteen pitää kommunikoida kuuluvuusalueensa ulkopuolella olevien laitteiden kanssa, niin verkon pitää tarjota reititys näiden laitteiden välillä. Verkkoon voidaan toki toteuttaa myös vaikka oma nimipalvelu ja verkon laitteiden tunnisteiden jakelu. Palvelut ovat käytettävissä vain tämän verkon sisällä. Lisäksi Jonkun on tuotettava nämä palvelut verkon käyttäjille. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ad hoc -verkkojen käyttöä tiettyihin erityistarkoituksiin on vuosien varrella selvitelty paljonkin. WLANin toteutuksessa käytetyllä tekniikalla toteutettuja ad hoc -verkkoja kutsutaan usein  "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Mobile_ad-hoc_network","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"mobiileiksi ad hoc -verkoiksi"}]},{"type":"text","value":" (MANET). Autoja ajatellaan on myös pohdittu erityisten "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Vehicular_ad-hoc_network","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"vehicular ad hoc -verkkojen"}]},{"type":"text","value":" toiminnallisuutta. Näiden verkkojen erityispiirre on verkon solmujen suuri liikenopeus ja siitä seuraava lyhyt aikaikkuna viestinnälle tietyn solmun kanssa."}]},{"type":"element","tagName":"h2","properties":{"id":"langattoman-verkon-ongelmia","style":"position:relative;"},"children":[{"type":"text","value":"Langattoman verkon ongelmia"},{"type":"element","tagName":"a","properties":{"href":"#langattoman-verkon-ongelmia","ariaLabel":"langattoman verkon ongelmia permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Signaalin heijastuminen ja siitä aiheutuva viive voi pahimmillaan sekoittaa alkuperäisen suoraan menevän ja heijastunutta reittiä hiukan kauemmin kulkevan signaalin siten, että vastaanottaja ei pysty enää selvittämään viestin sisältöä tästä yhteissignaalista. Usein heijastunut signaali on kuitenkin vaimentunut sen verran, että alkuperäinen signaali erottuu vastaanottajan kannalta riittävästi."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Koska signaali kulkee ilmateitse, niin maaston muodot voivat jopa kokonaan estää signaalin kulkemisen vastaanottajalle. Langattoman verkon toiminnan kannalta signaalin esteetön kulku on välttämätöntä ainakin lähettäjän ja vastaanottajan välillä. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Langattomista verkoista on tunnistettu kaksi yleistä ongelmatilannetta, joissa viestintätilanteen tarkkailussa on haasteita. Näitä kutsutaan kätketyn aseman ja näkyvän aseman ongelmiksi. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kätketyn aseman (engl. hidden terminal) ongelmassa kaksi laitetta yrittää samanaikaisesti viestiä kolmannelle. Nämä kaksi eivät kuitenkaan voi kuulla toistensa viestejä, koska ne eivät ole toistensa kuuluvuusalueella. Tämä voi johtua esimerkiksi maastoesteestä niiden välillä tai siitä, että ne ovat eri puolilla laitetta, jonka kanssa ne yrittävät kommunikoida."}]},{"type":"element","tagName":"img","properties":{"src":"/0a0278f4f3be453095a6c7c76d9d3e28/5-6-katketty-ja-nakyva-asema.svg","alt":"Kuvassa on 5 asemaa (C, BS1, A,B ja B2). Kuuluvuusalueet on piirretty ympyröidä, joiden keskipisteessä on aina asianomainen asema. C:n kuuluvuusalueella on sen itsensä lisäksi BS1. BS1:n kuuluvuusalueella on C ja A. A:n kuuluvuusalueella on BS1 ja B. B:n kuuluvuusalueella on A ja BS2. BS2:n kuuluvuusalueella on B. Ensimmmäisessä kuvassa on tukiasema ja kaksi sen kanssa kommunikoivaa laitetta A ja B. Kaikille laiteille on piirretty ympyränä niiden kuuluvuusalue."},"children":[]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"KUVA: Kuvassa havainnollistettu sekä kätketyn aseman että näkyvän aseman ongelmaa. Tukiasemat on merkitty BS1 ja BS2. A ja C kommunikoivat tukiaseman BS1 kanssa ja B tukiaseman BS2 kanssa. Asemien kuuluvuusalueet on merkitty ympyröillä, joiden keskipisteenä on kyseinen asema. A:n kannalta C on kätketty asema, koska ne molemmat kommunikoivat saman tukiaseman BS1 kanssa, mutta eivät kuule toisiaan. Vastaavasti A:n kannalta B on näkyvä asema, koska A kuulee sen, mutta se kommunikoi eri tukiaseman kanssa, jota A ei kuule."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Näkyvän aseman (engl. exposed terminal) ongelmassa puolestaan laite kuulee toisen laitteen lähetyssignaalin ja jättää lähettämättä oman signaalinsa, vaikka signaalit eivät vastaanottajien kannalta mene sekaisin. Tällöin asemat ovat toistensa kuuluvuusalueella, mutta viestien vastaanottajat eivät kuulisi toisen aseman viestejä, joten niiden kannalta signaalien sekoittumista ei tapahtuisi."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Molemmat ongelmat heikentävät verkon toimintaa. Kätketyn aseman tapauksessa molemmat lähetetyt viestit vaurioituvat ja ne pitää lähettää myöhemmin uudelleen. Näkyvän aseman tapauksessa taas kaistaa jää käyttämättä, vaikka viesti olisi mennyt virheettömästi perille."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Koska näitä ongelmia ei voi langattomista verkoista poistaa, niin useimmissa verkoissa edellytetään, että kaikki virheettömästi vastaanotetut viestit kuitataan jo linkkikerroksen kuittauksella. Muistathan, että kuljetuskerroksen TCP-protokollakin käytti kuittauksia viestien perillemenon varmistamiseen. Nyt kuittauksia käytetään linkkikerroksella varmistamaan, että viestin siirto tämän linkin yli onnistui. Kuittaukset lisäävät verkon liikennettä, mutta koska lähettäjällä ei langattomassa verkossa ole mahdollisuutta itse varmistua viestin perillemenosta, niin se joutuu turvautumaan vastaanottajan lähettämään kuittaukseen asian varmistamiseksi."}]},{"type":"element","tagName":"h2","properties":{"id":"wlan--ieee-80211","style":"position:relative;"},"children":[{"type":"text","value":"WLAN / IEEE 802.11"},{"type":"element","tagName":"a","properties":{"href":"#wlan--ieee-80211","ariaLabel":"wlan  ieee 80211 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"IEEE 802.11 -tekniikalla toteutettu WLAN verkko on kotiverkoille tyypillinen langaton verkko. Myös yritysten omat sisäiset ja niiden asiakkailleen tarjoamat avoimet WLAN-verkot on toteutettu jollain IEEE 802.11 standardin versiolla."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Näistä verkoista ja niiden laitteista käytetään usein myös Wi-Fi nimitystä. Wi-Fi on rekisteröity tavaramerkki, jota hallinnoi Wi-Fi alliance (verkkosivu "},{"type":"element","tagName":"a","properties":{"href":"https://www.wi-fi.org/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://www.wi-fi.org/"}]},{"type":"text","value":"). Se myöntää yrityksille (maksua vastaan) oikeuden käyttää \"Wi-Fi sertifioitu\" -merkkiä yrityksen valmistamissa verkkolaitteissa."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"IEEE 802.11 -verkkojen tukiasemat palvelevat kukin omaa erillistä joukkoa laitteita. Jokainen tukiasema on erikseen yhdistetty langalliseen verkkoon.  Jokainen laite kommunikoi vain yhden tukiaseman kanssa kerrallaan. Laite voi aika ajoin vaihtaa tukiasemaa. Jokaisella tukiasemalla on tunniste (Service Set ID, SSID) ja MAC-osoite. Tukiasema myös kommunikoi siihen liittyneiden laitteiden kanssa tietyllä kanavalla."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"IEEE 802.11 jakaa käytettävän taajuusalueen (yleensä joko 2,4 gigahertsiä (GHz) tai 5 GHz) kanaviin, joita 2,4 GHz:n alueella on vähintään 11 (USA). Euroopassa kanavia on 13 ja Japanissa 14. Kanaville varatut kapeat taajuuskaistat ovat limittäin (eli ne menevät osittain päällekkäin), jolloin vierekkäisillä kanavilla kommunikoivien laitteiden viestit voivat häiritä toisiaan. Kanavat 1, 6 ja 11 eivät ole keskenään päällekkäin, joten niitä voidaan käyttää vaikka laitteet kuulisivat toistensa viestejä. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tukiaseman käyttämä kanava on konfiguroitavissa. Jos mahdollista, niin tukiaseman kanava kannattaa valita niin, että se on mahdollisimman kaukana sen kuulemien muiden tukiasemien kanavista. Näin kommunikointi tukiaseman ja siihen yhdistyneiden laitteiden välillä on mahdollisimman häiriötöntä.  Huomaa, että naapuritukiasemilla voi olla käytössä sama kanava. Tämä on yleisin syy siihen, että kotiverkon langaton tukiasema tuntuu pätkivän tai toimivan kovin hitaasti. Erityisesti kerrostaloissa tai kahviloissa tukiasema voi kuulla useiden muiden tukiasemien signaaleja. Jos niistä yksi tai useampia on samalla (tai hyvin läheisellä) kanavalla, niin ne eivät voi lähettää samaanaikaan, jolloin lähetyksiin tulee viiveitä. Ne voivat kyllä käyttää samaa kanavaa, mutta viestien lähetykset täytyy tehdä vuorotellen, jotta viestit voidaan vastaanottaa oikein. Jos siis havaitset ongelmia langattomassa liikenteessä, niin kannattaa tarkistaa, millä kanavilla kyseiseen kohtaan kuuluvat tukiasemat liikennöivät ja valita oman tukiaseman kanava mahdollisimman kauas muista sille kuuluvien tukiasemien kanavista. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Koska WLANissa ei ole mitään koordinointia, niin useiden tukiasemien samanaikaista kuulumista kutsutaan joskus Wi-Fi viidakoksi (engl. Wi-Fi jungle). Kun tällaisessa viidakossa yrittää yhdistää omaa tietokonettaan internetiin, niin valittavana voi olla useita langattomia lähiverkkoja ja niiden tukiasemia. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kun laite haluaa tällaisessa usean tukiaseman viidakossa liittyä verkkoon, niin sen pitää kiinnittyä (engl. associate) yhteen tukiasemaan. Se siis rakentaa 'näkymättömän langan' itsensä ja tukiaseman välille. Kaikki laitteen liikennöinti tapahtuu vain ja ainoastaan tämän tukiaseman kanssa. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ennen liittymistään laite voi vain passiivisesti hetken kuunnella liikennettä kaikilla kanavilla ja etsiä sieltä erityisiä merkkikehyksiä (engl. beacon frame). Niillä tukiasemat mainostavat itseään.  Merkkikehyksessä on tukiaseman tunniste (SSID, service set ID) ja MAC-osoite. Näiden perusteella laite voi sitten valita haluamansa tukiaseman."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Vaihtoehtoisesti laite voi ennen liittymistään aktiivisesti lähettää kyselykehyksen (engl. probe), johon tukiasemat sitten vastaavat. Kyselykehyksiä käytetään tyypillisesti silloin, kun laite on aiemmin käyttänyt tiettyä WiFi-verkkoa ja yrittää nyt liittyä uudelleen samaan verkkoon."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Standardit eivät millään tavalla määrittele kriteerejä, joiden mukaisesti laitteen pitäisi tukiaema valita. Laite saa tehdä valinnan haluamallaan tavalla. Useimmiten laitevalmistajat käyttävät valintaperusteena signaalin voimakkuutta."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kun laite on päättänyt, mihin tukiasemaan se haluaa kiinnittyä, niin se lähettää erityisen kiinnittymispyynnön (engl. association request frame), jonka tukiasema hyväksyy vastausviestillään. Nyt laite voi linkkikerroksen näkökulmasta liikennöidä muun verkon kanssa tukiaseman kautta, mutta ylempien kerrosten kannalta se ei vielä ole liittyneenä internetiin. Siltä puuttuu esimerkiksi vielä IP-osoite. Toki laitteen tarvitsemat varkkoyhteyteen liittyvät tiedot voi jo olla asetettuna laitteen konfigurointitietoihin, mutta yleensä langattomaan verkkoon liittyvä laite pyytää näitä tietoja DHCP-protokollalla."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kuten monet avoimia Wi-Fi -verkkoja käyttäneet jo tietävätkin, niin monet palveluntarjoajat rajoittavat langattoman verkon käyttöä, jolloin tukiasemaan liittymisen yhteydessä tarkistetaan verkon käyttöoikeus. Tämä voidaan tehdä usella eri tavalla. Seuravassa on lyhyesti esitelty yleisimpiä tapoja."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Verkon käyttöoikeuden tunnistaminen voidaan tehdä käyttämällä ns. langattoman verkon salasanaa. Tällöin tukiasema hyväksyy kiinnittymispyynnön vain sellaisilta laitteilta, jotka osaavat antaa sille oikealla salausmenetelmällä salatun oikean salasanan. Useimmat kaupasta tai omalta internet-palvelun tarjoajalta (ISP) ostettavat tai lainattavat Wi-Fi -tukiasemat on nykyisin oletusarvoisesti suojattu tällä menetelmällä. Tällöin tukiaseman tunniste ja salasana on usein valmiina tukiaseman pohjassa olevassa tarrassa. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tukiasema voi tunnistaa laitteen myös laitteen käyttämän MAC-osoitteen avulla. Tällöin tukiasemalle on etukäteen kerrottava sallittujen laitteiden MAC-osoitteet.  MAC-osoitteen käyttämistä tunnistuksessa ei pidetä turvallisena vaihtoehtona, koska pahantahtoinen toimija voi helposti verkkoa kuuntelemalla saada selville sallitun MAC-osoitteet. Koska nykyään laitteen MAC-osoite on helposti vaihdettavissa, pahantahtoisen toimijan on helppo kiinnittyä tällaiseen pelkästään MAC-osoitteilla suojattuun verkkoon."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Laitteen sijaan langattoman verkon haltija voi edellyttää käyttäjän tunnistamista. Tällöin tukiasema käyttää erillistä tunnistuspalvelua, johon käyttäjän pitää tunnistautua esimerkiksi käyttäjätunnuksella ja salasanalla. Tunnistautumisen jälkeen käyttäjän laitteella voi liikennöidä verkossa. Jätämme erilaiset käyttäjäntunnistusmenetelmät myöhemmille kursseille, esim. tietoturvakurssit Cyber security."}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"de59073c-3506-56e4-95bc-95b0610d2ac0"},"children":[{"type":"text","value":" "}]}]},{"type":"element","tagName":"h3","properties":{"id":"lahetysvuorojen-jakelu","style":"position:relative;"},"children":[{"type":"text","value":"Lähetysvuorojen jakelu"},{"type":"element","tagName":"a","properties":{"href":"#lahetysvuorojen-jakelu","ariaLabel":"lahetysvuorojen jakelu permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"IEEE 802.11 standardin mukaan toimivat verkot käyttävät kehysten yhteentörmäysten välttämiseen CSMA/CA menetelmää, johon jo tutustuimme lyhyesti aiemmin. Siinähän tavoitteena oli erityisesti välttää yhteentörmäyksiä.   Katsotaan nyt tarkemmin. miten tämä WLAN-verkoissa tehdään."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"CSMA/CA:ssa edellytään, että lähettäjän pitää aina odottaa pieni hetki vapaata kanavaa kuunnellen ennenkuin lähetys voi alkaa. Näitä odotusaikoja on itseasiassa määritelty kaksi eri mittaista. SIFS (Short Inter-frame Spacing) on lyhyt ajanjakso, jota käytetään odotuksessa silloin, kun lähettäjä jo ennalta tietää, että seuraavan kehyksen lähetysvuoro on oikeastaan sillä. Esimerkiksi datan vastaanottokuittauksien lähetys käyttää tätä lyhyempää odotusta. Lyhyt odotus tarvitaan lähinnä siihen, että alkuperäisen datan lähettäjä ehtii vaihtaa omat antenninsa lähetystilasta vastaanottotilaan.  Jos lähettäjä pyrkii lähettämään uuden datakehyksen, niin silloin se käyttää odotuksen kestona pidempää DIFS:iä (DCF Inter-frame Spacing), jolla siis erotellaan eri lähettäjien eri datakehykset toisistaan. Koska SIFS on lyhyempi kuin DIFS, niin erilaiset kuittausviestit yms. saavat prioriteetin, jolloin ne lähetetään ensin ja pidemmät datakehykset joutuvat odottamaan hiukan kauemmin."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"WLAN-verkkojen käyttämässä CSMA/CA:ssa lähettäjä käyttää lisäksi kanavanvarausta. Koska varauskehykset ja niiden kuittaukset ovat huomattavan paljon lyhyempiä kuin varsinaiset datakehykset, niin yhteentörmäykset varauskehysten kesken ovat nopeita selvittää. Lähettäjähän ei kuuntele tuliko yhteentörmäys, joten jos yhteentörmäys tulee pitkän datakehyksen aikana, niin lähettäjä kuitenkin lähettää kehyksen kokonaan. Kätketyn aseman ongelman vuoksi tällainen yhteentörmäys on mahdollinen. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Varausviestien kanssa lähettäjä, odotettuaan tuon DIFS aikaa, lähettääkin ensin pienen varauskehyksen (Request To Send, RTS), jossa se kertoo, kuinka ison kehyksen se haluaa lähettää ja kuinka kauan lähetys tulee kestämään. Vastaanottaja vahvistaa tämän varauksen erillisellä vahvistusviestillä (Clear To Send, CTS), jonka se lähettää heti SIFS ajan jälkeen, jolloin mikään muu asema ei vielä voi lähettää. Koska kuittaus tulee ison kehyksen vastaanottajalta, niin se tavoittaa kaikki ne laitteet, joiden mahdollinen lähetys voisi häiritä datakehyksen lähetystä. Ne osaavat nyt tämän kuittausviestin tietojen avulla odottaa koko datakehyksen lähetyksen ajan ennenkuin ne edes yrittävät omaa lähetystään. Näin alkuperäiseltä lähettäjältä kätkössä oleva asema saa tiedon lähetyksestä, jota se ei itse muuten pystyisi havaitsemaan."}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/9a2823660bae320e9696a2f2e0f7df6b/5-6-kehyksen-lahetys.svg","alt":"Kuvassa on viestien vaihdot yhden kehyksen lähettämiseen liittyen. Kuvassa on siis kaksi asemaa/laitetta A ja B ja niiden välissä tukiasema BS. Viestien vaihto alkaa tilanteesta, jossa tukiasema BS lähettää vastaanottokuittauksen ack edellisestä datakehyksestä. Tämä kuittaus menee molemmille laitteille. Sen jälkeen DIFS ajan kuluttua asema A lähettää varauskehyksen (Request to send) tukiasemalle, joka kuittaa sen SIFS ajan kuluttua vahvistusviestillä Clear to send). Tämä vahvistusviesti menee molemmille laitteille. Ensimmäinen laite A aloittaa sitten SIFS ajan kuluttua oman dataviestinsä lähettämisen. Toinen laite kirjaa itselleen tiedoksi, että se ei voi lähettää niin kauaa kuin tuon datan siirto kestää ja siis odottaa siirron päättymistä. Kun datan siirto päättyy, niin tukiasema lähettää taas SIFS ajan kuluttua kuittausviestin molemmille asemille."},"children":[]},{"type":"text","value":" "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"KUVA: Kuvassa on esitettynä yhden datakehyksen lähetykseen liittyvät viestit. Kuvassa on tukiasema BS ja laitteet A ja B. A haluaa lähettää datakehyksen tukiasemalle. Aika kulkee kuvassa ylhäältä alaspäin. A voi siis lähettää varausviestin kun edellisen datakehyksen kuittausviestistä on kulunut DIFS aikayksikköä. Tähän se saa vahvistuksen ja voi lähettää varsinaisen datakehyksen. Datakehyksen lähetyksen onnistuminen edellyttää vielä kuittausviestin saapumista. Huomaa, että kuittaus- ja vahvistusviestit kuuluvat kaikille vastaanottajan kuuluvuusalueella, vaikka varsinainen datansiirto ei kuuluisikaan."}]},{"type":"element","tagName":"h3","properties":{"id":"langattoman-verkon-kehys","style":"position:relative;"},"children":[{"type":"text","value":"Langattoman verkon kehys"},{"type":"element","tagName":"a","properties":{"href":"#langattoman-verkon-kehys","ariaLabel":"langattoman verkon kehys permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Langattoman verkon kehyksessä (katso kenttien selitykset englanninkielisestä wikipediasta "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/IEEE_802.11#Layer_2_%E2%80%93_Datagrams","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"IEEE 802.11"}]},{"type":"text","value":" on neljä osoitetta. Muistathan, että langallisen ethernet-verkon kehyksessä oli vain kaksi osoitetta (vastaanottajan MAC ja lähettäjän MAC). Langattomassa verkossa kehykselle on määritelty neljä osoitekenttää, joista tosin yleensä ei käytetä kuin kolmea. Muista, että nämä kehykset ovat linkkikerroksella, jolloin kehysten osoitetiedot ovat MAC-osoitteita. Osoitekenttien tulkinnat vaihtelevat sen mukaan mille laitteelle (eli mihin suuntaan) kehys on menossa."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kehyksestä ja sen kentistä on hyvä kuva sivulla "},{"type":"element","tagName":"a","properties":{"href":"https://i.stack.imgur.com/A6N3j.gif","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://i.stack.imgur.com/A6N3j.gif"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kehyksen alussa Frame control kentässä on joukko kehyksen tulkintaan vaikuttavia lyhyempi 1-4 bitin mittaisia kenttiä tai lipukkeita, joista kentät ToDS ja FromDS määrittävät kehyksen osoitekenttien tulkinnat. Tuo DS nimessä on lyhenne englanninkielen sanoista Distribution system ja tässä yhteydessä se tarkoittaa langattoman yhteyden (eli lähettäjän ja vastaanottajan) ulkopuolista verkkoa eli nimenomaan sitä verkkoa, jossa tukiasema on kiinni. Muistathan, että tarkastelemme asioita linkkitasolla, ja kahden langattoman laitteen välinen viestintä ei vielä muodosta verkkokerroksen näkökulmasta yhtä ehjää linkkiväliä verkkokerroksen lähettäjältä seuraavalle verkkokerroksen vastaanottajalle, ellei tukiasema ole samalla myös reititin. Jos viesti on tulossa kauempaa, niin FromDS on 1 ja jos viesti on menossa kauemmas niin ToDS on 1. Näin saadaan 4 erilaista yhdistelmää. 00 - näiden kahden laitteen välinen viesti, tyypillisesti kontrolliviesti, 01- menossa eteenpäin, 10- tulossa kauempaa, 11 - tulossa kauempaa ja menossa eteenpäin.  Tätä luokkaa 11 käytetään lähinnä ad hod -verkoissa, joissa joudutaan tekemään kehysten edelleenlähetystä linkkikerroksella."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"ToDS"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"FromDS"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Osoite 1"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Osoite 2"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Osoite 3"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Osoite 4"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"vastaanottajan MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"lähettäjän MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"tukiaseman id"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"ei käytössä"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"vastaanottajan MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"tukiaseman MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"lähettäjän MAC (esim. reititin)"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"ei käytössä"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"tukiaseman MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"lähettäjän MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"vastaanottajan MAC (esim. reititin)"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"ei käytössä"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"vastaanottavan tukiaseman MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"lähettävän tukiaseman MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"vastaanottajan MAC"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"lähettäjän MAC"}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Taulukosta voi havaita, että osoitteet 1 ja 2 ovat tämän langattoman yhteyden lähettäjä ja vastaanottaja. Osoitteet 3 ja 4  kertovat sitten koko aliverkon osalta alkuperäisen lähettäjän tai vastaanottajan, joka siis on antanut kehyksen linkkikerrokselle tai vastaavasti vastaanottovaiheessa saa kehyksen sisällön linkkikerrokselta verkkokerrokselle."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kehyksen lopussa olevat tarkistusbitit (Frame Check Sequence, FCS) määritetään jokaiselle langattoman verkon kehykselle aina lähetysvaiheessa ja tarkistetaan vastaanottajalla."}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"b2b600cd-270a-5bdc-9c23-46afd8854a25"},"children":[{"type":"text","value":" "}]}]}]},"html":"<div><text-box variant='learningObjectives' name='Oppimistavoitteet'><ul>\n<li>Osaat kuvata langattomien verkkojen toimintaa ja ongelmia.</li>\n<li>Osaat kertoa, mikä on WLAN tai Wi-Fi ja miten viestit kulkevat sen ja langallisen verkon välillä.</li>\n<li>Tiedät mikä on tukiasema ja osaat kuvata sen perustoiminnan.</li>\n</ul></text-box><h2 id=\"langaton-verkko\" style=\"position:relative;\">Langaton verkko<a href=\"#langaton-verkko\" aria-label=\"langaton verkko permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>Kaikille langattomille verkoille on yhteistä se, että käyttäjien laitteet (voidaan kutsua myös solmuiksi tai isäntäkoneiksi) ovat langattomasti yhteydessä verkon palvelut tarjoavaan tukiasemaan. Tällainen langaton linkki käyttäjän laitteen ja tukiaseman välillä toimii yleensä radioaalloilla. Niiden ongelma on se, että linkin kuuluvuusalue on rajattu, joten laitteen ja tukiaseman etäisyys on rajallinen. Langaton linkki on tyypillisesti toteutettu radioaalloilla, jolloin kaikki tukiaseman läheisyydessä olevat laitteet voivat kuulla kaiken liikenteen. Toisaalta radioallot vaimenevat etäisyyden kasvaessa. Tietoliikenteessä tästä puhutaan signaalin vaimenemisena. Signaalia (eli radioaaltoja) häiritsevät myös muiden laitteiden aiheuttamat häiriöt ja erilaisista pinnoista tapahtuvat heijastumiset. Näiden seikkojen vuoksi kuuluvuus tukiaseman ja käyttäjän laitteen välillä voi vaihdella, vaikka molemmat laitteet olisivat paikallaan.</p><p>Langattomalle verkolle erityistä haastetta tuo kuitenkin käyttäjien laitteiden liikkuminen. Yhä useammin käytämme laitteita, joita kannetaan mukana ja jotka ovat yhdistettynä verkkoon myös liikkuessaan. Vaikka laite voi vaihtaa paikkaa myös langallisessa verkossa, niin se on siirtymisen aikana poissa verkosta. Langattomassa verkossa laite voi olla yhteydessä tukiasemaan myös silloin kun se liikkeessä.</p><p>Tällä hetkellä käytössä on kahden täysin erilaisen tekniikan avulla toteutettujan langattomia verkkoja. Ethernet-verkkoja mukailevia <a href=\"https://fi.wikipedia.org/wiki/WLAN\" target=\"_blank\" rel=\"noopener noreferrer\">WLAN</a>-verkkoja, jotka noudattavat jotain IEEE:n standardoimaa tiedonsiirtotapaa. <a href=\"https://fi.wikipedia.org/wiki/IEEE_802.11\" target=\"_blank\" rel=\"noopener noreferrer\">IEEE:n standardin 802.11</a> eri versiot määrittelevät erilaisia langattomia verkkotekniikoita langattoman lähiverkon toteuttamiseen. Osa laitteista ja tukiasemista tulee näistä vain yhtä ja osa tukee usampaa erilaista versiota. Nämä standardi eri versiot on nimetty kirjaimilla a-n. </p><p>Toinen yleinen langaton verkko on <a href=\"https://fi.wikipedia.org/wiki/Matkapuhelinverkko\" target=\"_blank\" rel=\"noopener noreferrer\">matkapuhelinverkko</a> ja eritysien sen välityksellä käytettävä mobiilidata. Matkapuhelinverkkojen tekniikkakin on standardoitua. Koska nämä ovat puhelinverkkoja, niin niitä on alunperin standardoitu alueittain kuten langallisiakin puhelinverkkoja. Kaikenlaisia puhelinverkkoja standardoi <a href=\"https://fi.wikipedia.org/wiki/Kansainv%C3%A4linen_televiestint%C3%A4liitto\" target=\"_blank\" rel=\"noopener noreferrer\">kansainvälinen televiestintäliitto ITU</a>. ITU keskittyy lähinnä eri operaattoreiden välisten asioiden säätelyyn. Operaattoreiden toiminta-alueilla on myös muita standardointiorganisaatioita, jotka vaikuttavat käytettäviin tekniikoihin. Nykyisessä globaalissa tilanteessa alueelliset standardointiorganisaatiot tekevät yhteistyötä <a href=\"https://fi.wikipedia.org/wiki/3GPP\" target=\"_blank\" rel=\"noopener noreferrer\">3GPP</a>:ssä, jotta tulevat standardit olisivat mahdollisimman yhteensopivia eri puolilla maailmaa. Euroopassa näiden verkkojen standardoinnista vastaa <a href=\"https://fi.wikipedia.org/wiki/ETSI\" target=\"_blank\" rel=\"noopener noreferrer\">ETSI</a>. </p><p>Matkapuhelinverkkojen, joita kutsutaan myös mobiiliverkoiksi, kehitystä on jaettu sukupolviin. Toisen sukupolven (2G) verkot käyttivät GSM-tekniikkaa. Sen jälkeen siirryttiin <a href=\"https://fi.wikipedia.org/wiki/3G\" target=\"_blank\" rel=\"noopener noreferrer\">3G</a>-verkkoihin. Nyt on jo käytössä <a href=\"https://fi.wikipedia.org/wiki/4G\" target=\"_blank\" rel=\"noopener noreferrer\">4G</a>-verkkoja, mutta ne eivät vielä ole käytettävissä kaikkialla. Tällä hetkellä standardointi kohdistuu tulevan 5G-verkon tekniikoihin. Tavoitteena on sekä nopeuttaa signaalin kulkua verkossa (pienentää etenemisviivettä) että samanaikaisesti lisätä siirrettävän datan määrää aikayksikköä kohti (eli kasvattaa verkon nopeutta).</p><p>Muita tunnettuja langattomia standardoituja verkkoja ovat <a href=\"https://fi.wikipedia.org/wiki/Bluetooth\" target=\"_blank\" rel=\"noopener noreferrer\">Bluetooth</a> ja <a href=\"https://fi.wikipedia.org/wiki/ZigBee\" target=\"_blank\" rel=\"noopener noreferrer\">ZigBee</a>. </p><p>Tarkastelemme tällä kurssilla kuitenkin lähinnä WLAN-verkkojen toimintaa. Yleiset langattomaan liikennöintiin liittyvät seikat kuitenkin soveltuvat kaikille langattomille verkoille.</p><h2 id=\"ad-hoc--verkko\" style=\"position:relative;\">Ad hoc -verkko<a href=\"#ad-hoc--verkko\" aria-label=\"ad hoc  verkko permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>Langaton verkko voidaan rakentaa myös ilman tukiasemia. Tällöin puhutaan niin sanotuista ad hoc -verkoista, joiden toiminnallisuuden verkon rakentaja määrittelee täysin itsenäisesti. Tällaisen verkon ei tarvitse noudattaa mitään standardeja, mutta verkon toteuttajan on kuitenkin hyvä tietää kyseisen alueen radiotaajuuksien käyttösäännöt, jotta ei vahingossakaan syyllisty rikokseen.</p><p>Yksinkertaisimmillaan ad hoc -verkko on vain kahden laitteen välinen, jolloin laitteiden välinen liikennöinti tehdään langattomasti suoraan laitteelta toiselle.  Laajimmillaan tällaiset ad hoc -verkot voivat olla useiden satojen sensorien omia verkkoja. Näistä langattomista sensoriverkoista on hyvä kuvaus englanninkielisessä wikipediassa sivulla <a href=\"https://en.wikipedia.org/wiki/Wireless_sensor_network\" target=\"_blank\" rel=\"noopener noreferrer\">wireless sensor networks</a>.</p><p>Ad hoc -verkon koneet voivat siis suoraan kommunikoida vain omalla kuuluvuusalueellaan olevien muiden koneiden kanssa. Koska verkossa ei ole mitään palveluja suoraan tarjolla. Jos tällaisen verkon laitteen pitää kommunikoida kuuluvuusalueensa ulkopuolella olevien laitteiden kanssa, niin verkon pitää tarjota reititys näiden laitteiden välillä. Verkkoon voidaan toki toteuttaa myös vaikka oma nimipalvelu ja verkon laitteiden tunnisteiden jakelu. Palvelut ovat käytettävissä vain tämän verkon sisällä. Lisäksi Jonkun on tuotettava nämä palvelut verkon käyttäjille. </p><p>Ad hoc -verkkojen käyttöä tiettyihin erityistarkoituksiin on vuosien varrella selvitelty paljonkin. WLANin toteutuksessa käytetyllä tekniikalla toteutettuja ad hoc -verkkoja kutsutaan usein  <a href=\"https://fi.wikipedia.org/wiki/Mobile_ad-hoc_network\" target=\"_blank\" rel=\"noopener noreferrer\">mobiileiksi ad hoc -verkoiksi</a> (MANET). Autoja ajatellaan on myös pohdittu erityisten <a href=\"https://en.wikipedia.org/wiki/Vehicular_ad-hoc_network\" target=\"_blank\" rel=\"noopener noreferrer\">vehicular ad hoc -verkkojen</a> toiminnallisuutta. Näiden verkkojen erityispiirre on verkon solmujen suuri liikenopeus ja siitä seuraava lyhyt aikaikkuna viestinnälle tietyn solmun kanssa.</p><h2 id=\"langattoman-verkon-ongelmia\" style=\"position:relative;\">Langattoman verkon ongelmia<a href=\"#langattoman-verkon-ongelmia\" aria-label=\"langattoman verkon ongelmia permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>Signaalin heijastuminen ja siitä aiheutuva viive voi pahimmillaan sekoittaa alkuperäisen suoraan menevän ja heijastunutta reittiä hiukan kauemmin kulkevan signaalin siten, että vastaanottaja ei pysty enää selvittämään viestin sisältöä tästä yhteissignaalista. Usein heijastunut signaali on kuitenkin vaimentunut sen verran, että alkuperäinen signaali erottuu vastaanottajan kannalta riittävästi.</p><p>Koska signaali kulkee ilmateitse, niin maaston muodot voivat jopa kokonaan estää signaalin kulkemisen vastaanottajalle. Langattoman verkon toiminnan kannalta signaalin esteetön kulku on välttämätöntä ainakin lähettäjän ja vastaanottajan välillä. </p><p>Langattomista verkoista on tunnistettu kaksi yleistä ongelmatilannetta, joissa viestintätilanteen tarkkailussa on haasteita. Näitä kutsutaan kätketyn aseman ja näkyvän aseman ongelmiksi. </p><p>Kätketyn aseman (engl. hidden terminal) ongelmassa kaksi laitetta yrittää samanaikaisesti viestiä kolmannelle. Nämä kaksi eivät kuitenkaan voi kuulla toistensa viestejä, koska ne eivät ole toistensa kuuluvuusalueella. Tämä voi johtua esimerkiksi maastoesteestä niiden välillä tai siitä, että ne ovat eri puolilla laitetta, jonka kanssa ne yrittävät kommunikoida.</p><img src=\"/0a0278f4f3be453095a6c7c76d9d3e28/5-6-katketty-ja-nakyva-asema.svg\" alt=\"Kuvassa on 5 asemaa (C, BS1, A,B ja B2). Kuuluvuusalueet on piirretty ympyröidä, joiden keskipisteessä on aina asianomainen asema. C:n kuuluvuusalueella on sen itsensä lisäksi BS1. BS1:n kuuluvuusalueella on C ja A. A:n kuuluvuusalueella on BS1 ja B. B:n kuuluvuusalueella on A ja BS2. BS2:n kuuluvuusalueella on B. Ensimmmäisessä kuvassa on tukiasema ja kaksi sen kanssa kommunikoivaa laitetta A ja B. Kaikille laiteille on piirretty ympyränä niiden kuuluvuusalue.\"><p>KUVA: Kuvassa havainnollistettu sekä kätketyn aseman että näkyvän aseman ongelmaa. Tukiasemat on merkitty BS1 ja BS2. A ja C kommunikoivat tukiaseman BS1 kanssa ja B tukiaseman BS2 kanssa. Asemien kuuluvuusalueet on merkitty ympyröillä, joiden keskipisteenä on kyseinen asema. A:n kannalta C on kätketty asema, koska ne molemmat kommunikoivat saman tukiaseman BS1 kanssa, mutta eivät kuule toisiaan. Vastaavasti A:n kannalta B on näkyvä asema, koska A kuulee sen, mutta se kommunikoi eri tukiaseman kanssa, jota A ei kuule.</p><p>Näkyvän aseman (engl. exposed terminal) ongelmassa puolestaan laite kuulee toisen laitteen lähetyssignaalin ja jättää lähettämättä oman signaalinsa, vaikka signaalit eivät vastaanottajien kannalta mene sekaisin. Tällöin asemat ovat toistensa kuuluvuusalueella, mutta viestien vastaanottajat eivät kuulisi toisen aseman viestejä, joten niiden kannalta signaalien sekoittumista ei tapahtuisi.</p><p>Molemmat ongelmat heikentävät verkon toimintaa. Kätketyn aseman tapauksessa molemmat lähetetyt viestit vaurioituvat ja ne pitää lähettää myöhemmin uudelleen. Näkyvän aseman tapauksessa taas kaistaa jää käyttämättä, vaikka viesti olisi mennyt virheettömästi perille.</p><p>Koska näitä ongelmia ei voi langattomista verkoista poistaa, niin useimmissa verkoissa edellytetään, että kaikki virheettömästi vastaanotetut viestit kuitataan jo linkkikerroksen kuittauksella. Muistathan, että kuljetuskerroksen TCP-protokollakin käytti kuittauksia viestien perillemenon varmistamiseen. Nyt kuittauksia käytetään linkkikerroksella varmistamaan, että viestin siirto tämän linkin yli onnistui. Kuittaukset lisäävät verkon liikennettä, mutta koska lähettäjällä ei langattomassa verkossa ole mahdollisuutta itse varmistua viestin perillemenosta, niin se joutuu turvautumaan vastaanottajan lähettämään kuittaukseen asian varmistamiseksi.</p><h2 id=\"wlan--ieee-80211\" style=\"position:relative;\">WLAN / IEEE 802.11<a href=\"#wlan--ieee-80211\" aria-label=\"wlan  ieee 80211 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>IEEE 802.11 -tekniikalla toteutettu WLAN verkko on kotiverkoille tyypillinen langaton verkko. Myös yritysten omat sisäiset ja niiden asiakkailleen tarjoamat avoimet WLAN-verkot on toteutettu jollain IEEE 802.11 standardin versiolla.</p><p>Näistä verkoista ja niiden laitteista käytetään usein myös Wi-Fi nimitystä. Wi-Fi on rekisteröity tavaramerkki, jota hallinnoi Wi-Fi alliance (verkkosivu <a href=\"https://www.wi-fi.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.wi-fi.org/</a>). Se myöntää yrityksille (maksua vastaan) oikeuden käyttää \"Wi-Fi sertifioitu\" -merkkiä yrityksen valmistamissa verkkolaitteissa.</p><p>IEEE 802.11 -verkkojen tukiasemat palvelevat kukin omaa erillistä joukkoa laitteita. Jokainen tukiasema on erikseen yhdistetty langalliseen verkkoon.  Jokainen laite kommunikoi vain yhden tukiaseman kanssa kerrallaan. Laite voi aika ajoin vaihtaa tukiasemaa. Jokaisella tukiasemalla on tunniste (Service Set ID, SSID) ja MAC-osoite. Tukiasema myös kommunikoi siihen liittyneiden laitteiden kanssa tietyllä kanavalla.</p><p>IEEE 802.11 jakaa käytettävän taajuusalueen (yleensä joko 2,4 gigahertsiä (GHz) tai 5 GHz) kanaviin, joita 2,4 GHz:n alueella on vähintään 11 (USA). Euroopassa kanavia on 13 ja Japanissa 14. Kanaville varatut kapeat taajuuskaistat ovat limittäin (eli ne menevät osittain päällekkäin), jolloin vierekkäisillä kanavilla kommunikoivien laitteiden viestit voivat häiritä toisiaan. Kanavat 1, 6 ja 11 eivät ole keskenään päällekkäin, joten niitä voidaan käyttää vaikka laitteet kuulisivat toistensa viestejä. </p><p>Tukiaseman käyttämä kanava on konfiguroitavissa. Jos mahdollista, niin tukiaseman kanava kannattaa valita niin, että se on mahdollisimman kaukana sen kuulemien muiden tukiasemien kanavista. Näin kommunikointi tukiaseman ja siihen yhdistyneiden laitteiden välillä on mahdollisimman häiriötöntä.  Huomaa, että naapuritukiasemilla voi olla käytössä sama kanava. Tämä on yleisin syy siihen, että kotiverkon langaton tukiasema tuntuu pätkivän tai toimivan kovin hitaasti. Erityisesti kerrostaloissa tai kahviloissa tukiasema voi kuulla useiden muiden tukiasemien signaaleja. Jos niistä yksi tai useampia on samalla (tai hyvin läheisellä) kanavalla, niin ne eivät voi lähettää samaanaikaan, jolloin lähetyksiin tulee viiveitä. Ne voivat kyllä käyttää samaa kanavaa, mutta viestien lähetykset täytyy tehdä vuorotellen, jotta viestit voidaan vastaanottaa oikein. Jos siis havaitset ongelmia langattomassa liikenteessä, niin kannattaa tarkistaa, millä kanavilla kyseiseen kohtaan kuuluvat tukiasemat liikennöivät ja valita oman tukiaseman kanava mahdollisimman kauas muista sille kuuluvien tukiasemien kanavista. </p><p>Koska WLANissa ei ole mitään koordinointia, niin useiden tukiasemien samanaikaista kuulumista kutsutaan joskus Wi-Fi viidakoksi (engl. Wi-Fi jungle). Kun tällaisessa viidakossa yrittää yhdistää omaa tietokonettaan internetiin, niin valittavana voi olla useita langattomia lähiverkkoja ja niiden tukiasemia. </p><p>Kun laite haluaa tällaisessa usean tukiaseman viidakossa liittyä verkkoon, niin sen pitää kiinnittyä (engl. associate) yhteen tukiasemaan. Se siis rakentaa 'näkymättömän langan' itsensä ja tukiaseman välille. Kaikki laitteen liikennöinti tapahtuu vain ja ainoastaan tämän tukiaseman kanssa. </p><p>Ennen liittymistään laite voi vain passiivisesti hetken kuunnella liikennettä kaikilla kanavilla ja etsiä sieltä erityisiä merkkikehyksiä (engl. beacon frame). Niillä tukiasemat mainostavat itseään.  Merkkikehyksessä on tukiaseman tunniste (SSID, service set ID) ja MAC-osoite. Näiden perusteella laite voi sitten valita haluamansa tukiaseman.</p><p>Vaihtoehtoisesti laite voi ennen liittymistään aktiivisesti lähettää kyselykehyksen (engl. probe), johon tukiasemat sitten vastaavat. Kyselykehyksiä käytetään tyypillisesti silloin, kun laite on aiemmin käyttänyt tiettyä WiFi-verkkoa ja yrittää nyt liittyä uudelleen samaan verkkoon.</p><p>Standardit eivät millään tavalla määrittele kriteerejä, joiden mukaisesti laitteen pitäisi tukiaema valita. Laite saa tehdä valinnan haluamallaan tavalla. Useimmiten laitevalmistajat käyttävät valintaperusteena signaalin voimakkuutta.</p><p>Kun laite on päättänyt, mihin tukiasemaan se haluaa kiinnittyä, niin se lähettää erityisen kiinnittymispyynnön (engl. association request frame), jonka tukiasema hyväksyy vastausviestillään. Nyt laite voi linkkikerroksen näkökulmasta liikennöidä muun verkon kanssa tukiaseman kautta, mutta ylempien kerrosten kannalta se ei vielä ole liittyneenä internetiin. Siltä puuttuu esimerkiksi vielä IP-osoite. Toki laitteen tarvitsemat varkkoyhteyteen liittyvät tiedot voi jo olla asetettuna laitteen konfigurointitietoihin, mutta yleensä langattomaan verkkoon liittyvä laite pyytää näitä tietoja DHCP-protokollalla.</p><p>Kuten monet avoimia Wi-Fi -verkkoja käyttäneet jo tietävätkin, niin monet palveluntarjoajat rajoittavat langattoman verkon käyttöä, jolloin tukiasemaan liittymisen yhteydessä tarkistetaan verkon käyttöoikeus. Tämä voidaan tehdä usella eri tavalla. Seuravassa on lyhyesti esitelty yleisimpiä tapoja.</p><p>Verkon käyttöoikeuden tunnistaminen voidaan tehdä käyttämällä ns. langattoman verkon salasanaa. Tällöin tukiasema hyväksyy kiinnittymispyynnön vain sellaisilta laitteilta, jotka osaavat antaa sille oikealla salausmenetelmällä salatun oikean salasanan. Useimmat kaupasta tai omalta internet-palvelun tarjoajalta (ISP) ostettavat tai lainattavat Wi-Fi -tukiasemat on nykyisin oletusarvoisesti suojattu tällä menetelmällä. Tällöin tukiaseman tunniste ja salasana on usein valmiina tukiaseman pohjassa olevassa tarrassa. </p><p>Tukiasema voi tunnistaa laitteen myös laitteen käyttämän MAC-osoitteen avulla. Tällöin tukiasemalle on etukäteen kerrottava sallittujen laitteiden MAC-osoitteet.  MAC-osoitteen käyttämistä tunnistuksessa ei pidetä turvallisena vaihtoehtona, koska pahantahtoinen toimija voi helposti verkkoa kuuntelemalla saada selville sallitun MAC-osoitteet. Koska nykyään laitteen MAC-osoite on helposti vaihdettavissa, pahantahtoisen toimijan on helppo kiinnittyä tällaiseen pelkästään MAC-osoitteilla suojattuun verkkoon.</p><p>Laitteen sijaan langattoman verkon haltija voi edellyttää käyttäjän tunnistamista. Tällöin tukiasema käyttää erillistä tunnistuspalvelua, johon käyttäjän pitää tunnistautua esimerkiksi käyttäjätunnuksella ja salasanalla. Tunnistautumisen jälkeen käyttäjän laitteella voi liikennöidä verkossa. Jätämme erilaiset käyttäjäntunnistusmenetelmät myöhemmille kursseille, esim. tietoturvakurssit Cyber security.</p><div><quiz id=\"de59073c-3506-56e4-95bc-95b0610d2ac0\"> </quiz></div><h3 id=\"lahetysvuorojen-jakelu\" style=\"position:relative;\">Lähetysvuorojen jakelu<a href=\"#lahetysvuorojen-jakelu\" aria-label=\"lahetysvuorojen jakelu permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3><p>IEEE 802.11 standardin mukaan toimivat verkot käyttävät kehysten yhteentörmäysten välttämiseen CSMA/CA menetelmää, johon jo tutustuimme lyhyesti aiemmin. Siinähän tavoitteena oli erityisesti välttää yhteentörmäyksiä.   Katsotaan nyt tarkemmin. miten tämä WLAN-verkoissa tehdään.</p><p>CSMA/CA:ssa edellytään, että lähettäjän pitää aina odottaa pieni hetki vapaata kanavaa kuunnellen ennenkuin lähetys voi alkaa. Näitä odotusaikoja on itseasiassa määritelty kaksi eri mittaista. SIFS (Short Inter-frame Spacing) on lyhyt ajanjakso, jota käytetään odotuksessa silloin, kun lähettäjä jo ennalta tietää, että seuraavan kehyksen lähetysvuoro on oikeastaan sillä. Esimerkiksi datan vastaanottokuittauksien lähetys käyttää tätä lyhyempää odotusta. Lyhyt odotus tarvitaan lähinnä siihen, että alkuperäisen datan lähettäjä ehtii vaihtaa omat antenninsa lähetystilasta vastaanottotilaan.  Jos lähettäjä pyrkii lähettämään uuden datakehyksen, niin silloin se käyttää odotuksen kestona pidempää DIFS:iä (DCF Inter-frame Spacing), jolla siis erotellaan eri lähettäjien eri datakehykset toisistaan. Koska SIFS on lyhyempi kuin DIFS, niin erilaiset kuittausviestit yms. saavat prioriteetin, jolloin ne lähetetään ensin ja pidemmät datakehykset joutuvat odottamaan hiukan kauemmin.</p><p>WLAN-verkkojen käyttämässä CSMA/CA:ssa lähettäjä käyttää lisäksi kanavanvarausta. Koska varauskehykset ja niiden kuittaukset ovat huomattavan paljon lyhyempiä kuin varsinaiset datakehykset, niin yhteentörmäykset varauskehysten kesken ovat nopeita selvittää. Lähettäjähän ei kuuntele tuliko yhteentörmäys, joten jos yhteentörmäys tulee pitkän datakehyksen aikana, niin lähettäjä kuitenkin lähettää kehyksen kokonaan. Kätketyn aseman ongelman vuoksi tällainen yhteentörmäys on mahdollinen. </p><p>Varausviestien kanssa lähettäjä, odotettuaan tuon DIFS aikaa, lähettääkin ensin pienen varauskehyksen (Request To Send, RTS), jossa se kertoo, kuinka ison kehyksen se haluaa lähettää ja kuinka kauan lähetys tulee kestämään. Vastaanottaja vahvistaa tämän varauksen erillisellä vahvistusviestillä (Clear To Send, CTS), jonka se lähettää heti SIFS ajan jälkeen, jolloin mikään muu asema ei vielä voi lähettää. Koska kuittaus tulee ison kehyksen vastaanottajalta, niin se tavoittaa kaikki ne laitteet, joiden mahdollinen lähetys voisi häiritä datakehyksen lähetystä. Ne osaavat nyt tämän kuittausviestin tietojen avulla odottaa koko datakehyksen lähetyksen ajan ennenkuin ne edes yrittävät omaa lähetystään. Näin alkuperäiseltä lähettäjältä kätkössä oleva asema saa tiedon lähetyksestä, jota se ei itse muuten pystyisi havaitsemaan.</p><div><img src=\"/9a2823660bae320e9696a2f2e0f7df6b/5-6-kehyksen-lahetys.svg\" alt=\"Kuvassa on viestien vaihdot yhden kehyksen lähettämiseen liittyen. Kuvassa on siis kaksi asemaa/laitetta A ja B ja niiden välissä tukiasema BS. Viestien vaihto alkaa tilanteesta, jossa tukiasema BS lähettää vastaanottokuittauksen ack edellisestä datakehyksestä. Tämä kuittaus menee molemmille laitteille. Sen jälkeen DIFS ajan kuluttua asema A lähettää varauskehyksen (Request to send) tukiasemalle, joka kuittaa sen SIFS ajan kuluttua vahvistusviestillä Clear to send). Tämä vahvistusviesti menee molemmille laitteille. Ensimmäinen laite A aloittaa sitten SIFS ajan kuluttua oman dataviestinsä lähettämisen. Toinen laite kirjaa itselleen tiedoksi, että se ei voi lähettää niin kauaa kuin tuon datan siirto kestää ja siis odottaa siirron päättymistä. Kun datan siirto päättyy, niin tukiasema lähettää taas SIFS ajan kuluttua kuittausviestin molemmille asemille.\"> </img></div><p>KUVA: Kuvassa on esitettynä yhden datakehyksen lähetykseen liittyvät viestit. Kuvassa on tukiasema BS ja laitteet A ja B. A haluaa lähettää datakehyksen tukiasemalle. Aika kulkee kuvassa ylhäältä alaspäin. A voi siis lähettää varausviestin kun edellisen datakehyksen kuittausviestistä on kulunut DIFS aikayksikköä. Tähän se saa vahvistuksen ja voi lähettää varsinaisen datakehyksen. Datakehyksen lähetyksen onnistuminen edellyttää vielä kuittausviestin saapumista. Huomaa, että kuittaus- ja vahvistusviestit kuuluvat kaikille vastaanottajan kuuluvuusalueella, vaikka varsinainen datansiirto ei kuuluisikaan.</p><h3 id=\"langattoman-verkon-kehys\" style=\"position:relative;\">Langattoman verkon kehys<a href=\"#langattoman-verkon-kehys\" aria-label=\"langattoman verkon kehys permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3><p>Langattoman verkon kehyksessä (katso kenttien selitykset englanninkielisestä wikipediasta <a href=\"https://en.wikipedia.org/wiki/IEEE_802.11#Layer_2_%E2%80%93_Datagrams\" target=\"_blank\" rel=\"noopener noreferrer\">IEEE 802.11</a> on neljä osoitetta. Muistathan, että langallisen ethernet-verkon kehyksessä oli vain kaksi osoitetta (vastaanottajan MAC ja lähettäjän MAC). Langattomassa verkossa kehykselle on määritelty neljä osoitekenttää, joista tosin yleensä ei käytetä kuin kolmea. Muista, että nämä kehykset ovat linkkikerroksella, jolloin kehysten osoitetiedot ovat MAC-osoitteita. Osoitekenttien tulkinnat vaihtelevat sen mukaan mille laitteelle (eli mihin suuntaan) kehys on menossa.</p><p>Kehyksestä ja sen kentistä on hyvä kuva sivulla <a href=\"https://i.stack.imgur.com/A6N3j.gif\" target=\"_blank\" rel=\"noopener noreferrer\">https://i.stack.imgur.com/A6N3j.gif</a>.</p><p>Kehyksen alussa Frame control kentässä on joukko kehyksen tulkintaan vaikuttavia lyhyempi 1-4 bitin mittaisia kenttiä tai lipukkeita, joista kentät ToDS ja FromDS määrittävät kehyksen osoitekenttien tulkinnat. Tuo DS nimessä on lyhenne englanninkielen sanoista Distribution system ja tässä yhteydessä se tarkoittaa langattoman yhteyden (eli lähettäjän ja vastaanottajan) ulkopuolista verkkoa eli nimenomaan sitä verkkoa, jossa tukiasema on kiinni. Muistathan, että tarkastelemme asioita linkkitasolla, ja kahden langattoman laitteen välinen viestintä ei vielä muodosta verkkokerroksen näkökulmasta yhtä ehjää linkkiväliä verkkokerroksen lähettäjältä seuraavalle verkkokerroksen vastaanottajalle, ellei tukiasema ole samalla myös reititin. Jos viesti on tulossa kauempaa, niin FromDS on 1 ja jos viesti on menossa kauemmas niin ToDS on 1. Näin saadaan 4 erilaista yhdistelmää. 00 - näiden kahden laitteen välinen viesti, tyypillisesti kontrolliviesti, 01- menossa eteenpäin, 10- tulossa kauempaa, 11 - tulossa kauempaa ja menossa eteenpäin.  Tätä luokkaa 11 käytetään lähinnä ad hod -verkoissa, joissa joudutaan tekemään kehysten edelleenlähetystä linkkikerroksella.</p><table>\n<thead>\n<tr>\n<th>ToDS</th>\n<th>FromDS</th>\n<th>Osoite 1</th>\n<th>Osoite 2</th>\n<th>Osoite 3</th>\n<th>Osoite 4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>vastaanottajan MAC</td>\n<td>lähettäjän MAC</td>\n<td>tukiaseman id</td>\n<td>ei käytössä</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>vastaanottajan MAC</td>\n<td>tukiaseman MAC</td>\n<td>lähettäjän MAC (esim. reititin)</td>\n<td>ei käytössä</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>tukiaseman MAC</td>\n<td>lähettäjän MAC</td>\n<td>vastaanottajan MAC (esim. reititin)</td>\n<td>ei käytössä</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>vastaanottavan tukiaseman MAC</td>\n<td>lähettävän tukiaseman MAC</td>\n<td>vastaanottajan MAC</td>\n<td>lähettäjän MAC</td>\n</tr>\n</tbody>\n</table><p>Taulukosta voi havaita, että osoitteet 1 ja 2 ovat tämän langattoman yhteyden lähettäjä ja vastaanottaja. Osoitteet 3 ja 4  kertovat sitten koko aliverkon osalta alkuperäisen lähettäjän tai vastaanottajan, joka siis on antanut kehyksen linkkikerrokselle tai vastaavasti vastaanottovaiheessa saa kehyksen sisällön linkkikerrokselta verkkokerrokselle.</p><p>Kehyksen lopussa olevat tarkistusbitit (Frame Check Sequence, FCS) määritetään jokaiselle langattoman verkon kehykselle aina lähetysvaiheessa ja tarkistetaan vastaanottajalla.</p><div><quiz id=\"b2b600cd-270a-5bdc-9c23-46afd8854a25\"> </quiz></div></div>","frontmatter":{"path":"/osa-5/6-langaton","title":"Langaton verkko"},"fileAbsolutePath":"/home/runner/work/tietoliikenteen-perusteet-2-21/tietoliikenteen-perusteet-2-21/data/osa-5/6-langaton.md"},"allPages":{"edges":[{"node":{"id":"07fbca84-2996-5ef5-91f4-80c8d67b1f6d","frontmatter":{"path":"/frontmatter-guide","title":"Frontmatter-guide"}}},{"node":{"id":"f94770ac-b87c-5b6d-aea7-87e3206ebc1a","frontmatter":{"path":"/","title":"Tietoa kurssista"}}},{"node":{"id":"5dc284ce-33b0-5641-92d3-f3cbd298ae3e","frontmatter":{"path":"/opettajille","title":"Opettajille ja opinto-ohjaajille"}}},{"node":{"id":"72f0d3aa-a615-5485-927a-1d9efa922a6d","frontmatter":{"path":"/kurssin-suorittaminen","title":"Kurssin suorittaminen"}}},{"node":{"id":"71ffb689-39cd-54e4-afb1-10639d37b540","frontmatter":{"path":"/osaamistavoitteet","title":"Osaamistavoitteet"}}},{"node":{"id":"92902113-bd4d-54cb-8e4c-2d914a94a43b","frontmatter":{"path":"/tukivaylat","title":"Tukiväylät"}}},{"node":{"id":"73d38dec-d739-5d94-b391-abef8e5373b6","frontmatter":{"path":"/usein-kysytyt-kysymykset","title":"Usein kysytyt kysymykset"}}},{"node":{"id":"18912f50-4c07-571f-9704-91752a0bc432","frontmatter":{"path":"/osa-1/1-johdanto","title":"Johdanto"}}},{"node":{"id":"451f39f3-eecd-5fe0-a231-f701dbb224ea","frontmatter":{"path":"/osa-1/2-kertausta","title":"Kertausta"}}},{"node":{"id":"0148ecbb-fcfc-575a-ad8c-63788d56b585","frontmatter":{"path":"/osa-1/3-viipeet-ja-läpäisy","title":"Viipeet ja läpäisy"}}},{"node":{"id":"dbfac743-cc99-5393-83ad-23546879a4ff","frontmatter":{"path":"/osa-1/4-piirikytkentä","title":"Pakettikytkentä vs piirikytkentä"}}},{"node":{"id":"caab8edd-cf17-5b21-bfcd-4f30373615af","frontmatter":{"path":"/osa-1/5-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"2edd2121-da28-5faa-a44c-8f2d579fdc83","frontmatter":{"path":"/osa-1","title":"Osa 1: Yleistä"}}},{"node":{"id":"6a6f50c9-6751-5805-b191-0dc5ea90c487","frontmatter":{"path":"/osa-2/1-periaatteita","title":"Verkkosovelluksen toimintaperiaatteita"}}},{"node":{"id":"ccab9cf4-3881-552b-a03c-8cc97041dc82","frontmatter":{"path":"/osa-2/2-laki-ja-kuuntelu","title":"Verkon kuuntelu ja lainsäädäntö"}}},{"node":{"id":"4d9b998c-1b33-541d-a142-0f0cad57da54","frontmatter":{"path":"/osa-2/3-nimipalvelu","title":"Nimipalvelu"}}},{"node":{"id":"54075fab-cf7e-59f3-aad5-1a2fbfbc549a","frontmatter":{"path":"/osa-2/5-verkko-ohjelmointi-rajapinta","title":"Verkko-ohjelmointi ja sovelluksen rajapinta"}}},{"node":{"id":"6309357c-886a-5e4d-88c1-399099c965ab","frontmatter":{"path":"/osa-2/4-sahkoposti","title":"Sähköposti"}}},{"node":{"id":"c18adde4-4460-569a-819b-fc93ea16b497","frontmatter":{"path":"/osa-2/6-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"38f09292-8ebb-55a2-aeb0-9efba1ccc739","frontmatter":{"path":"/osa-2","title":"Osa 2: Sovelluskerros"}}},{"node":{"id":"13a24d8f-bc56-5d8a-8aa4-1e6f602af95e","frontmatter":{"path":"/osa-3/1-kuljetuspalvelu","title":"Kuljetuspalvelun toiminta"}}},{"node":{"id":"ef3093c1-baa2-56e7-a495-6cf6fcafdda7","frontmatter":{"path":"/osa-3/2-periaatteet","title":"Luotettavan kuljetuspalvelun periaatteet"}}},{"node":{"id":"b955b25c-822f-56a2-a571-d0ed4227e4ef","frontmatter":{"path":"/osa-3/4-suunnitteluperiaatteita","title":"Suunnitteluperiaatteita"}}},{"node":{"id":"4da3b549-a94d-5a7a-91dd-71b2d6a1e4d1","frontmatter":{"path":"/osa-3/3-liukuvaikkuna","title":"Liukuva ikkuna"}}},{"node":{"id":"a9f3b554-3a38-5f0f-99a9-8375816fd4cb","frontmatter":{"path":"/osa-3/6-udp","title":"UDP"}}},{"node":{"id":"0be5b703-d205-501e-b174-e8d33e95c832","frontmatter":{"path":"/osa-3/7-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"7b424c06-2601-5402-bc43-c2959d121643","frontmatter":{"path":"/osa-3","title":"Osa 3: Kuljetuskerros"}}},{"node":{"id":"724b3cc2-dd79-5872-a0e6-706fece0415a","frontmatter":{"path":"/osa-3/5-tcp","title":"TCP"}}},{"node":{"id":"b20703a9-2d0a-5467-a824-c86ac6579e1d","frontmatter":{"path":"/osa-4/1-IPv4-IPv6","title":"IPv4 ja IPv6 osoitteet"}}},{"node":{"id":"80365dff-896c-5368-896e-eec79b5129b0","frontmatter":{"path":"/osa-4/2-IP-protokolla","title":"IP-protokolla"}}},{"node":{"id":"55d42f0f-65fe-5038-8b60-67f6fc4bff83","frontmatter":{"path":"/osa-4/3-reititys","title":"Reititys"}}},{"node":{"id":"0c4f9075-9058-5109-8b3e-33cf37e05e05","frontmatter":{"path":"/osa-4/4-reititin","title":"Reititin"}}},{"node":{"id":"77442160-5292-5d91-b03f-c12f326017ca","frontmatter":{"path":"/osa-4/5-muita-verkkokerroksen-protokollia.md","title":"Muita verkkokerroksen protokollia"}}},{"node":{"id":"bb679c1b-fa88-5f1a-bcb5-5c7e4e0fb566","frontmatter":{"path":"/osa-4/6-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"a251821d-10ca-5d3c-8e2e-486145b750bb","frontmatter":{"path":"/osa-4","title":"Osa 4: Verkkokerros"}}},{"node":{"id":"5e45a11a-8de3-5284-a686-5fbd5828cc39","frontmatter":{"path":"/osa-5/1-linkki-toiminta","title":"Yleistä linkkikerroksen toiminnasta"}}},{"node":{"id":"4006d9b8-5c45-5f82-84c4-ec932ff6cca4","frontmatter":{"path":"/osa-5/2-virheidenhavaitseminen","title":"Virheiden havaitseminen ja korjaaminen"}}},{"node":{"id":"ccba763f-0ffa-5398-a9c2-6f9e23b97270","frontmatter":{"path":"/osa-5/4-kytkin","title":"Kytkin"}}},{"node":{"id":"116b10b0-2f44-5011-a169-593eecfe6d50","frontmatter":{"path":"/osa-5/5-toiseen-verkkoon","title":"Lähettäminen toiseen verkkoon"}}},{"node":{"id":"54ca89a6-0d64-515e-8101-498fdcee037f","frontmatter":{"path":"/osa-5/3-vuorojen-jakelu","title":"Lähetysvuorojen jakelu"}}},{"node":{"id":"ba6c210e-c87f-5f21-95af-f5e66c293f36","frontmatter":{"path":"/osa-5/7-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"830def90-4428-575f-99a5-c9231b692dcd","frontmatter":{"path":"/osa-5","title":"Osa 5: Linkkikerros"}}},{"node":{"id":"a7407bc4-70d0-5174-9953-3860b86f2863","frontmatter":{"path":"/osa-6/1-kaikki-yhteen","title":"Kaikki yhteen"}}},{"node":{"id":"8e65b949-f5a9-5dd4-926d-2a678606218d","frontmatter":{"path":"/osa-6/2-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"5daae54a-eb34-5ed0-b5a7-93b1d4ba1a68","frontmatter":{"path":"/osa-6","title":"Osa 6: Kaikki yhteen"}}},{"node":{"id":"f9c4a320-75ad-58cf-a44a-6f76b761e08f","frontmatter":{"path":"/osa-5/6-langaton","title":"Langaton verkko"}}}]}},"pageContext":{}},"staticQueryHashes":["3294351120","994120085"]}