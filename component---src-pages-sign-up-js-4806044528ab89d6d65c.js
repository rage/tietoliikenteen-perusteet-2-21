(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"4KiG":function(e,t,a){"use strict";var n=a("HaE+"),r=a("dI71"),i=a("o0o1"),o=a.n(i),s=a("q1tI"),l=a.n(s),c=a("30+C"),u=a("oa/T"),m=a("r9w1"),p=a("ZGBi"),d=a("VmPI"),h=a("O6Ht"),f=a("M4Ey"),b=a("Z3vd"),g=a("Kfvu"),v=a("QLAq"),E=a("uVck"),_=a("vOnD"),w=a("pg4K"),C=a("IP2g"),O=a("i8i4"),j=a.n(O),k=a("KmP9"),y=a("1AYd"),I=a("jjAL"),S=a("ADg1"),x=a("cVXz"),A=a("LCzB"),N=Object(_.b)(S.a).withConfig({displayName:"DropdownMenu__StyledFormControl",componentId:"olaryr-0"})(["width:100%;"]),F=(Object(A.a)("user")(Object(w.a)((function(e){var t=e.selectedVariant,a=e.setSelectedVariant,n=e.t,r=Object(s.useState)(0),i=r[0],o=r[1],c=Object(s.useRef)(null);Object(s.useEffect)((function(){o(j.a.findDOMNode(c.current).offsetWidth)}));return l.a.createElement(N,{variant:"outlined"},l.a.createElement(y.a,{ref:c,htmlFor:"course-variant-select"},n("whichCourse")),l.a.createElement(x.a,{value:t,onChange:function(e){a(e.target.value)},input:l.a.createElement(k.a,{labelWidth:i,name:"course-variant",id:"course-variant-select"})},l.a.createElement(I.a,{value:"dl"},"Aikataulutettu Ohjelmoinnin MOOC, Ohjelmoinnin perusteet"),l.a.createElement(I.a,{value:"nodl"},"Aikatauluton Ohjelmoinnin MOOC, Ohjelmoinnin perusteet"),l.a.createElement(I.a,{value:"ohja-dl"},"Aikataulutettu Ohjelmoinnin MOOC, Ohjelmoinnin jatkokurssi"),l.a.createElement(I.a,{value:"ohja-nodl"},"Aikatauluton Ohjelmoinnin MOOC, Ohjelmoinnin jatkokurssi")))}))),a("Wbzz"),_.b.div.withConfig({displayName:"CourseOptionsEditor__Row",componentId:"sc-15i8a3h-0"})(["margin-bottom:1.5rem;"])),L=_.b.form.withConfig({displayName:"CourseOptionsEditor__Form",componentId:"sc-15i8a3h-1"})([""]),W=_.b.div.withConfig({displayName:"CourseOptionsEditor__InfoBox",componentId:"sc-15i8a3h-2"})(["margin-bottom:2rem;"]),z=_.b.div.withConfig({displayName:"CourseOptionsEditor__FormContainer",componentId:"sc-15i8a3h-3"})(["height:100%;margin-top:2rem;"]),M=(Object(_.b)(C.a).withConfig({displayName:"CourseOptionsEditor__StyledIcon",componentId:"sc-15i8a3h-4"})(["margin-right:0.25rem;"]),Object(_.b)(c.a).withConfig({displayName:"CourseOptionsEditor__WarningBox",componentId:"sc-15i8a3h-5"})(["margin:2rem 0;background:#f1a9a0;padding:1rem;font-weight:bold;"])),B=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onClick=function(){var e=Object(n.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.setState({submitting:!0}),n={digital_education_for_all:t.state.digital_education_for_all,marketing:t.state.marketing,research:t.state.research},r={first_name:t.state.first_name,last_name:t.state.last_name,organizational_id:t.state.student_number},e.prev=4,e.next=7,Object(E.l)({extraFields:n,userField:r});case 7:t.setState({submitting:!1}),t.props.onComplete(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.setState({errorObj:e.t0,submitting:!1});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),t.state={submitting:!1,error:!0,errorObj:void 0,digital_education_for_all:!1,marketing:!1,research:void 0,first_name:void 0,last_name:void 0,email:void 0,student_number:void 0,loading:!0,focused:null},t.handleInput=function(e){var a,n=e.target.name,r=e.target.value;t.setState(((a={})[n]=r,a),(function(){t.validate()}))},t.handleCheckboxInput=function(e){var a,n=e.target.name,r=e.target.checked;t.setState(((a={})[n]=r,a),(function(){t.validate()}))},t.handleFocus=function(e){var a=e.target.name;t.setState({focused:a})},t.handleUnFocus=function(){t.setState({focused:null})},t.validate=function(){t.setState((function(e){return{error:void 0===e.research}}))},t}Object(r.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=Object(n.a)(o.a.mark((function e(){var t,a,n,r,i,s,l,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.m)();case 2:l=e.sent,this.setState({first_name:null===(t=l.user_field)||void 0===t?void 0:t.first_name,last_name:null===(a=l.user_field)||void 0===a?void 0:a.last_name,email:l.email,student_number:null===(n=l.user_field)||void 0===n?void 0:n.organizational_id,digital_education_for_all:"t"===(null===(r=l.extra_fields)||void 0===r?void 0:r.digital_education_for_all),marketing:"t"===(null===(i=l.extra_fields)||void 0===i?void 0:i.marketing),research:null===(s=l.extra_fields)||void 0===s?void 0:s.research,loading:!1},(function(){c.validate()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.render=function(){return l.a.createElement(z,null,l.a.createElement(v.a,{loading:this.state.loading,heightHint:"490px"},l.a.createElement(W,null,l.a.createElement(c.a,null,l.a.createElement(u.a,null,this.props.t("loggedInWith"),this.state.email)))),l.a.createElement("h1",null,this.props.t("studentInfo")),l.a.createElement(L,null,l.a.createElement(W,null,this.props.t("aboutYourself")),l.a.createElement(v.a,{loading:this.state.loading,heightHint:"490px"},l.a.createElement("div",null,l.a.createElement(F,null,l.a.createElement(m.a,{variant:"outlined",type:"text",label:this.props.t("firstName"),autoComplete:"given-name",name:"first_name",InputLabelProps:{shrink:this.state.first_name||"first_name"===this.state.focused},fullWidth:!0,value:this.state.first_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),l.a.createElement(F,null,l.a.createElement(m.a,{variant:"outlined",type:"text",label:this.props.t("lastName"),autoComplete:"family-name",name:"last_name",InputLabelProps:{shrink:this.state.last_name||"last_name"===this.state.focused},fullWidth:!0,value:this.state.last_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),l.a.createElement(F,null,l.a.createElement(m.a,{variant:"outlined",type:"text",label:this.props.t("sid"),name:"student_number",InputLabelProps:{shrink:this.state.student_number||"student_number"===this.state.focused},fullWidth:!0,value:this.state.student_number,onChange:this.handleInput,helperText:this.props.t("nosid"),onFocus:this.handleFocus,onBlur:this.handleUnFocus})),l.a.createElement(F,null,l.a.createElement(p.a,{control:l.a.createElement(d.a,{checked:this.state.digital_education_for_all,onChange:this.handleCheckboxInput,name:"digital_education_for_all",value:"1"}),label:"Olen tällä hetkellä opiskelijana Digital Education for All -hankkeessa. Jätä tämä valitsematta mikäli et tiedä kyseisestä hankkeesta."})),l.a.createElement(F,null,l.a.createElement(p.a,{control:l.a.createElement(d.a,{checked:this.state.marketing,onChange:this.handleCheckboxInput,name:"marketing",value:"1"}),label:this.props.t("marketing")})))),l.a.createElement("h2",null,this.props.t("researchTitle")),l.a.createElement("p",null,this.props.t("research1")),l.a.createElement("ol",null,l.a.createElement("li",null,this.props.t("research2")),l.a.createElement("li",null,this.props.t("research3")),l.a.createElement("li",null,this.props.t("research4"))),l.a.createElement("p",null,this.props.t("research5"),l.a.createElement(g.OutboundLink,{href:"https://dl.acm.org/citation.cfm?id=2858798",target:"_blank",rel:"noopener noreferrer"},"Educational Data Mining and Learning Analytics in Programming: Literature Review and Case Studies"),"."),l.a.createElement("p",null,this.props.t("research6")),l.a.createElement("p",null,this.props.t("research7")),l.a.createElement(F,null,l.a.createElement(v.a,{loading:this.state.loading,heightHint:"115px"},l.a.createElement(h.a,{"aria-label":this.props.t("researchAgree"),name:"research",value:this.state.research,onChange:this.handleInput},l.a.createElement(p.a,{value:"1",control:l.a.createElement(f.a,{color:"primary"}),label:this.props.t("researchYes")}),l.a.createElement(p.a,{value:"0",control:l.a.createElement(f.a,null),label:this.props.t("researchNo")})))),l.a.createElement(F,null,l.a.createElement(b.a,{onClick:this.onClick,disabled:this.state.submitting||this.state.error,loading:this.state.submitting,variant:"contained",color:"primary",fullWidth:!0},this.props.t("save")))),this.state.error&&l.a.createElement(W,null,l.a.createElement("b",null,this.props.t("fillRequired"))),this.state.errorObj&&l.a.createElement(M,null,this.state.errorObj.toString()))},t}(l.a.Component);t.a=Object(A.a)("common")(Object(w.a)(B))},NLwr:function(e,t,a){e.exports=a.p+"static/email-example-e3d05414bf68e89f670423b3427e112d.png"},ub6p:function(e,t,a){"use strict";a.r(t);var n=a("dI71"),r=a("q1tI"),i=a.n(r),o=a("qhky"),s=a("RJaA"),l=a("HaE+"),c=a("o0o1"),u=a.n(c),m=a("Wbzz"),p=a("r9w1"),d=a("Z3vd"),h=a("uVck"),f=a("Xs5t"),b=a("Kfvu"),g=a("LCzB"),v=a("vOnD"),E=a("pg4K"),_=v.b.div.withConfig({displayName:"CreateAccountForm__Row",componentId:"jadb0u-0"})(["margin-bottom:1.5rem;"]),w=v.b.form.withConfig({displayName:"CreateAccountForm__Form",componentId:"jadb0u-1"})([""]),C=v.b.div.withConfig({displayName:"CreateAccountForm__InfoBox",componentId:"jadb0u-2"})(["margin-bottom:2rem;"]),O=v.b.div.withConfig({displayName:"CreateAccountForm__FormContainer",componentId:"jadb0u-3"})(["height:100%;margin-top:2rem;"]),j=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).onClick=function(){var e=Object(l.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t.setState({submitting:!0,triedSubmitting:!0}),t.validate()){e.next=5;break}return t.setState({canSubmit:!1,submitting:!1}),e.abrupt("return");case 5:return e.prev=5,e.next=8,Object(h.d)({email:t.state.email,password:t.state.password,password_confirmation:t.state.password_confirmation});case 8:return e.sent,e.next=11,Object(h.b)({username:t.state.email,password:t.state.password});case 11:t.props.onComplete(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5);try{n="",Object.entries(e.t0).forEach((function(e){var a=e[0];e[1].forEach((function(e){var r=Object(f.a)(a.replace(/_/g," ")+" "+e+".");"Email has already been taken."===r&&(r=t.props.t("emailInUse")),n=n+" "+r}))})),""===n&&(n=t.props.t("problemCreatingAccount")+JSON.stringify(e.t0)),t.setState({error:n,submitting:!1,errorObj:e.t0})}catch(r){t.setState({error:JSON.stringify(e.t0),submitting:!1})}t.setState({submitting:!1});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),t.handleInput=function(e){var a,n=e.target.name,r=e.target.value;t.setState(((a={})[n]=r,a),(function(){t.validate()}))},t.validate=function(){var e={error:"",errorObj:{}},a=t.state,n=a.email,r=a.password,i=a.password_confirmation,o=a.validatePassword,s=a.validateEmail,l=a.triedSubmitting;return n&&s&&(-1===n.indexOf("@")&&(e.error+=t.props.t("noAt"),e.errorObj.email=t.props.t("noAt")),n&&-1===n.indexOf(".")&&(e.error+=t.props.t("noAt"),e.errorObj.email=t.props.t("noAt"))),r&&i&&o&&r!==i&&(e.error+=t.props.t("passwordsNoMatch"),e.errorObj.password=t.props.t("passwordsNoMatch"),e.errorObj.password_confirmation=t.props.t("passwordsNoMatch")),""===e.error&&(e.error=!1,e.canSubmit=!0),n&&r&&i?(t.setState(e),!e.error):(l&&(e.canSubmit=!1),!1)},t.state={email:void 0,password:void 0,password_confirmation:void 0,submitting:!1,error:!1,errorObj:{},validatePassword:!1,validateEmail:!1,canSubmit:!0,triedSubmitting:!0},t}return Object(n.a)(t,e),t.prototype.render=function(){var e=this;return this.context.loggedIn?(Object(m.navigate)("/"),i.a.createElement("div",null,"Redirecting...")):i.a.createElement(O,null,i.a.createElement("h1",null,this.props.t("createAccount")),i.a.createElement(w,{onChange:this.validate},i.a.createElement(C,null,this.props.t("courseUses")," ",i.a.createElement(b.OutboundLink,{href:"https://mooc.fi",target:"_blank",rel:"noopener noreferrer"},"mooc.fi")," ",this.props.t("courseUses2")),i.a.createElement(_,null,i.a.createElement(p.a,{variant:"outlined",type:"email",name:"email",autoComplete:"email",label:this.props.t("email"),error:this.state.errorObj.email,fullWidth:!0,value:this.state.email,onChange:this.handleInput,onBlur:function(){e.setState({validateEmail:!0},(function(){e.validate()}))}})),i.a.createElement(_,null,i.a.createElement(p.a,{variant:"outlined",type:this.state.showPassword?"text":"password",label:this.props.t("password"),name:"password",error:this.state.errorObj.password,fullWidth:!0,value:this.state.password,onChange:this.handleInput})),i.a.createElement(_,null,i.a.createElement(p.a,{variant:"outlined",type:this.state.showPassword?"text":"password",label:this.props.t("passwordAgain"),name:"password_confirmation",error:this.state.errorObj.password_confirmation,fullWidth:!0,value:this.state.password_confirmation,onChange:this.handleInput,onBlur:function(){e.setState({validatePassword:!0},(function(){e.validate()}))}})),i.a.createElement(_,null,i.a.createElement(d.a,{onClick:this.onClick,disabled:this.state.submitting||!this.state.canSubmit,variant:"contained",color:"primary",fullWidth:!0,type:"submit"},this.props.t("create")))),i.a.createElement(_,null,i.a.createElement(m.Link,{to:"/sign-in"},this.props.t("alreadyHaveAccount"))),this.state.error&&i.a.createElement(C,null,i.a.createElement("b",null,this.props.t("error")," ",this.state.error)))},t}(i.a.Component),k=Object(g.a)("user")(Object(E.a)(j)),y=a("4KiG"),I=a("NLwr"),S=a.n(I),x=v.b.div.withConfig({displayName:"ConfirmEmail__InfoBox",componentId:"sc-1t4zqh3-0"})(["margin-bottom:2rem;"]),A=v.b.div.withConfig({displayName:"ConfirmEmail__FormContainer",componentId:"sc-1t4zqh3-1"})(["height:100%;margin-top:2rem;"]),N=v.b.img.withConfig({displayName:"ConfirmEmail__StyledImage",componentId:"sc-1t4zqh3-2"})(["width:100%;padding:1rem 0;"]),F=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).onClick=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.state={email:void 0,password:void 0,submitting:!1,error:!1},t}return Object(n.a)(t,e),t.prototype.render=function(){return i.a.createElement(A,null,i.a.createElement("h1",null,this.props.t("welcomeToCourse")),i.a.createElement(x,null,i.a.createElement("p",null,this.props.t("emailSent")," "),i.a.createElement("p",null,this.props.t("emailExample")),i.a.createElement(N,{src:S.a,alt:this.props.t("emaiLExampleAria")})),i.a.createElement("p",null,this.props.t("nowContinue")," ",i.a.createElement(m.Link,{to:"/osa-1"},this.props.t("toMaterial")),"."))},t}(i.a.Component),L=Object(g.a)("user")(Object(E.a)(F)),W=a("eczs"),z=a("VUD3"),M=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={step:1},t.onStepComplete=function(){t.setState((function(e){return{step:e.step+1}})),"undefined"!=typeof window&&window.scrollTo(0,0)},t}return Object(n.a)(t,e),t.prototype.render=function(){var e;return e=1===this.state.step?i.a.createElement(k,{onComplete:this.onStepComplete}):2===this.state.step?i.a.createElement(y.a,{courseVariant:"nodl",onComplete:this.onStepComplete}):i.a.createElement(L,{onComplete:this.onStepComplete}),i.a.createElement(s.a,null,i.a.createElement(o.b,{title:"Luo käyttäjätunnus"}),i.a.createElement(z.a,null,e))},t}(i.a.Component);M.contextType=W.b;t.default=Object(W.c)(M)}}]);
//# sourceMappingURL=component---src-pages-sign-up-js-4806044528ab89d6d65c.js.map